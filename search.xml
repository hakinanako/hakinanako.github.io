<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>EasyExcel</title>
      <link href="/2023/04/22/2023-04-22-2-md/"/>
      <url>/2023/04/22/2023-04-22-2-md/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>OSSå¯¹è±¡å­˜å‚¨</title>
      <link href="/2023/04/22/2023-04-22-1/"/>
      <url>/2023/04/22/2023-04-22-1/</url>
      
        <content type="html"><![CDATA[<p>å›¾ä¸€ä¹ï¼Œ</p><p>å®é™…å·¥ä½œå“ªè½®å¾—åˆ°æˆ‘æ“ä½œæ§åˆ¶å°å•ŠğŸ˜…(ã£ Â°Ğ” Â°;)ã£</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æµ…å…¥VUE</title>
      <link href="/2023/04/22/2023-04-22/"/>
      <url>/2023/04/22/2023-04-22/</url>
      
        <content type="html"><![CDATA[<p>å¯¹äºVUEå¯¹è±¡ï¼ŒåŸºæœ¬ç»“æ„å¦‚ä¸‹</p><ol><li>el æŒ‚è½½ç‚¹ï¼Œç”¨äºæŒ‚è½½Vueå®ä¾‹</li><li>data ç”¨äºå­˜æ”¾æ•°æ®</li><li>methods ç”¨äºå­˜æ”¾æ–¹æ³•</li></ol><p>ä»¥ä¸Šä¸‰è€…æœ€ä¸ºå¸¸ç”¨ï¼Œé™¤æ­¤ä»¥å¤–è¿˜æœ‰computed, watch, filtersç­‰;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//helloworld</span></span><br><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  &#123;&#123; message &#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;Hello Vue.js!&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>el å±æ€§åˆç§°æŒ‚è½½ç‚¹ï¼Œå¯è®¤ä¸ºæ˜¯ element çš„ç®€å†™ï¼Œåˆ›å»ºä¸€ä¸ª vueå®ä¾‹ å¾—çŸ¥é“æ˜¯åœ¨å“ªä¸€å—å…ƒç´ ä¸Šåˆ›å»º Vueå®ä¾‹ ï¼Œå¯¹å“ªä¸€å—è§†å›¾è¿›è¡Œæ“ä½œã€‚</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª Vue å®ä¾‹ï¼Œå¹¶å°†å…¶åœ¨elä¸­æŒ‚è½½åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šã€‚è¿™é‡Œçš„æŒ‚è½½å…ƒç´ æ˜¯ #app,å…¶ä¸­å’Œcssä¸­ç±»ä¼¼,  <strong>#ç»‘å®šçš„æ˜¯id</strong>, <strong>.ç»‘å®šçš„æ˜¯class</strong></p><p>dataç”¨äºVue å®ä¾‹ä¸­çš„æ•°æ®ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª data å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª message å±æ€§ï¼Œå…¶å€¼ä¸º â€˜Hello Vue.js!â€™ã€‚</p><p>åœ¨æ¨¡æ¿ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong>åŒå¤§æ‹¬å·è¯­æ³•è¡¨ç¤ºæ•°æ®ç»‘å®š</strong>ï¼Œä½¿ç”¨æ¥è¾“å‡ºmessageå±æ€§çš„å€¼ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æŒ‡ä»¤-å†…å®¹æ¸²æŸ“æŒ‡ä»¤<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- vue èƒ½å¤Ÿæ§åˆ¶ä¸‹é¢çš„ #app è¿™ä¸ª div --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å†…å®¹æ¸²æŸ“æŒ‡ä»¤--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span>=<span class="string">&quot;name&quot;</span>&gt;</span>my name is ...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; gender &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span>=<span class="string">&quot;info&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--1. å¼•å…¥ vue çš„åº“æ–‡ä»¶ï¼Œåœ¨ window å…¨å±€å°±æœ‰äº† Vue è¿™ä¸ªæ„é€ å‡½æ•°--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--2. åˆ›å»º vue çš„å®ä¾‹å¯¹è±¡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ä½¿ç”¨æ„é€ å‡½æ•°åˆ›é€  viewmodel å®ä¾‹å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ ‡è¯† vm å®ä¾‹è¦æ§åˆ¶é¡µé¢ä¸Šçš„å“ªä¸ªå…ƒç´ ï¼Œâ€˜â€™ä¸­å¡«å†™é€‰æ‹©å™¨</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// data å¯¹è±¡å°±æ˜¯è¦æ¸²æŸ“åˆ°é¡µé¢ä¸Šçš„æ•°æ®</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;lucien&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">info</span>: <span class="string">&#x27;&lt;h4 style=&quot;color: red&quot;&gt; æ¬¢è¿ä½¿ç”¨ vue...&lt;h4&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="VueåŸºæœ¬å‘½ä»¤"><a href="#VueåŸºæœ¬å‘½ä»¤" class="headerlink" title="VueåŸºæœ¬å‘½ä»¤"></a>VueåŸºæœ¬å‘½ä»¤</h1><p>ç»‘å®šï¼Œäº‹ä»¶å¤„ç†å’Œæ¸²æŸ“</p><h2 id="ç»‘å®š"><a href="#ç»‘å®š" class="headerlink" title="ç»‘å®š"></a>ç»‘å®š</h2><p>Vueæœ‰ä¸¤ç§æ•°æ®ç»‘å®šçš„æ–¹å¼ï¼š</p><ul><li>å•å‘ç»‘å®š(v-bind)ï¼šæ•°æ®åªèƒ½ä»dataæµå‘é¡µé¢ã€‚</li><li>åŒå‘ç»‘å®š(v-model)ï¼šæ•°æ®ä¸ä»…èƒ½ä»dataæµå‘é¡µé¢ï¼Œè¿˜å¯ä»¥ä»é¡µé¢æµå‘dataã€‚</li></ul><p>å¦å¤–</p><ul><li>åŒå‘ç»‘å®šä¸€èˆ¬éƒ½åº”ç”¨åœ¨è¡¨å•ç±»å…ƒç´ ä¸Šï¼ˆå¦‚inputç­‰ï¼‰</li><li>v-model:value å¯ä»¥ç®€å†™ä¸º v-modelï¼Œå› ä¸ºv-modelé»˜è®¤æ”¶é›†çš„å°±æ˜¯valueå€¼ã€‚</li></ul><p>ç®€å†™</p><ol><li>v-bind</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">&lt;!-- å®Œæ•´è¯­æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!-- ç¼©å†™ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!-- å®Œæ•´è¯­æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-bind:disabled</span>=<span class="string">&quot;someDynamicCondition&quot;</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!-- ç¼©å†™ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">:disabled</span>=<span class="string">&quot;someDynamicCondition&quot;</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li>v-on</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å®Œæ•´è¯­æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!-- ç¼©å†™ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>æ•°æ®ç»‘å®š<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥Vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ™®é€šå†™æ³• --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">å•å‘æ•°æ®ç»‘å®šï¼š&lt;input type=&quot;text&quot; v-bind:value=&quot;name&quot;&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="comment">åŒå‘æ•°æ®ç»‘å®šï¼š&lt;input type=&quot;text&quot; v-model:value=&quot;name&quot;&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ç®€å†™ --&gt;</span></span><br><span class="line">å•å‘æ•°æ®ç»‘å®šï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">åŒå‘æ•°æ®ç»‘å®šï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¦‚ä¸‹ä»£ç æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºv-modelåªèƒ½åº”ç”¨åœ¨è¡¨å•ç±»å…ƒç´ ï¼ˆè¾“å…¥ç±»å…ƒç´ ï¼‰ä¸Šï¼Œå³æœ‰valueå€¼çš„å…ƒç´ ï¼Œå› ä¸ºå…¶é»˜è®¤ä¸valueç»‘å®š --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;h2 v-model:x=&quot;name&quot;&gt;ä½ å¥½å•Š&lt;/h2&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">name</span>: <span class="string">&#x27;hkk&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h2><p>vmå³Vueå®ä¾‹ï¼Œè¿™é‡Œçš„äº‹ä»¶æˆ–è€…è¯´è¡Œä¸ºæ˜¯ç±»ä¼¼Clickç­‰ç”¨æˆ·è¡Œä¸ºè§¦å‘çš„äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å°±æ˜¯Vueè°ƒç”¨ä¸è¯¥äº‹ä»¶ç›¸å…³è”çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼›</p><ol><li>ä½¿ç”¨v-on:xxx æˆ– @xxx ç»‘å®šäº‹ä»¶ï¼Œå…¶ä¸­xxxæ˜¯äº‹ä»¶åï¼›</li><li>äº‹ä»¶çš„å›è°ƒéœ€è¦é…ç½®åœ¨methodså¯¹è±¡ä¸­ï¼Œæœ€ç»ˆä¼šåœ¨vmä¸Šï¼›</li><li>methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œä¸è¦ç”¨ç®­å¤´å‡½æ•°ï¼å¦åˆ™thiså°±ä¸æ˜¯vmï¼Œè€Œæ˜¯Windowï¼›</li><li>methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œéƒ½æ˜¯è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼Œthisçš„æŒ‡å‘æ˜¯vmæˆ–ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼›</li><li>@click&#x3D;â€demoâ€ å’Œ @click&#x3D;â€demo($event)â€ æ•ˆæœä¸€è‡´ï¼Œä½†åè€…å¯ä»¥ä¼ å‚(demoæ˜¯methodsä¸­çš„ä¸€ä¸ªåä¸º demo çš„æ–¹æ³•)ï¼›</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>ç‚¹å‡»æˆ‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&quot;MyComponent&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">handleClick</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;äº‹ä»¶å¯¹è±¡ï¼š&quot;</span>, event);</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;äº‹ä»¶ç±»å‹ï¼š&quot;</span>, event.<span class="property">type</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;äº‹ä»¶è§¦å‘çš„å…ƒç´ ï¼š&quot;</span>, event.<span class="property">target</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h3><p>exact ä¿®é¥°ç¬¦</p><p>.exact ä¿®é¥°ç¬¦å…è®¸ä½ æ§åˆ¶ç”±ç²¾ç¡®çš„ç³»ç»Ÿä¿®é¥°ç¬¦ç»„åˆè§¦å‘çš„äº‹ä»¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- å³ä½¿ <span class="title class_">Alt</span> æˆ– <span class="title class_">Shift</span> è¢«ä¸€åŒæŒ‰ä¸‹æ—¶ä¹Ÿä¼šè§¦å‘ --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.ctrl</span>=<span class="string">&quot;onClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"> </span><br><span class="line">&lt;!-- æœ‰ä¸”åªæœ‰ <span class="title class_">Ctrl</span> è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.ctrl.exact</span>=<span class="string">&quot;onCtrlClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"> </span><br><span class="line">&lt;!-- æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.exact</span>=<span class="string">&quot;onClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦<br>.left<br>.right<br>.middle</p><p>è¿™äº›ä¿®é¥°ç¬¦ä¼šé™åˆ¶å¤„ç†å‡½æ•°ä»…å“åº”ç‰¹å®šçš„é¼ æ ‡æŒ‰é’®ã€‚</p><p>preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">user</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- ä¿®é¥°ç¬¦ç”¨äºæŒ‡å‡ºä¸€ä¸ªæŒ‡ä»¤åº”è¯¥ä»¥ç‰¹æ®Šæ–¹å¼ç»‘å®šã€‚</span><br><span class="line">     è¿™é‡Œçš„ .<span class="property">prevent</span> ä¿®é¥°ç¬¦å‘Šè¯‰ v-on æŒ‡ä»¤å¯¹äºè§¦å‘çš„äº‹ä»¶è°ƒç”¨jsçš„ event.<span class="title function_">preventDefault</span>()ï¼š</span><br><span class="line">     å³é˜»æ­¢è¡¨å•æäº¤çš„é»˜è®¤è¡Œä¸º --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;save&quot;</span> <span class="attr">v-on:submit.prevent</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;user.username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>ä¿å­˜<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">methods: &#123;     onSubmit() &#123;</span></span><br><span class="line"><span class="language-xml">        if (this.user.username) &#123;             console.log(&#x27;æäº¤è¡¨å•&#x27;)</span></span><br><span class="line"><span class="language-xml">        &#125; else &#123;</span></span><br><span class="line"><span class="language-xml">            alert(&#x27;è¯·è¾“å…¥ç”¨æˆ·å&#x27;)</span></span><br><span class="line"><span class="language-xml">        &#125;</span></span><br><span class="line"><span class="language-xml">    &#125;</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></table></figure><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œè¡¨å•æäº¤ä¼šå¯¼è‡´æµè§ˆå™¨é‡æ–°åŠ è½½é¡µé¢æˆ–è€…å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥é˜»æ­¢è¿™ç§é»˜è®¤è¡Œä¸ºï¼Œåœ¨ v-on æŒ‡ä»¤åé¢æ·»åŠ  .prevent ä¿®é¥°ç¬¦ã€‚è¿™å‘Šè¯‰ Vue.js åœ¨è§¦å‘äº‹ä»¶æ—¶è°ƒç”¨ event.preventDefault() æ–¹æ³•æ¥é˜»æ­¢é»˜è®¤è¡Œä¸ºã€‚<br>åœ¨ä¸Šé¢ï¼Œå½“ç”¨æˆ·ç‚¹å‡»â€œä¿å­˜â€æŒ‰é’®æ—¶ï¼ŒonSubmit æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯â€œè¦†ç›–â€äº†é»˜è®¤çš„æäº¤æ–¹æ³•ã€‚</p><h2 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h2><p><strong>v-if</strong>ï¼šæ¡ä»¶æŒ‡ä»¤ï¼Œç”¨äºæ¡ä»¶æ€§åœ°æ¸²æŸ“ä¸€å—å†…å®¹ã€‚è¿™å—å†…å®¹åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å›çœŸå€¼æ—¶æ‰è¢«æ¸²æŸ“ã€‚è¡¨è¾¾å¼å¯ä»¥æ˜¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> vue = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="string">&quot;el&quot;</span>:<span class="string">&quot;#div0&quot;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//#ä¹Ÿå°±æ˜¯idï¼Œ.ä¹Ÿå°±æ˜¯classï¼Œè¿™é‡Œå’Œdiv0ç»‘å®š</span></span></span><br><span class="line"><span class="language-javascript">dataï¼š&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">num</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;num%2==0&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:200px;heigth:200px;background-color:chartreuse;&quot;</span>&gt;</span></span><br><span class="line">è¿™é‡Œçš„v-ifè¡¨ç¤ºè‹¥å¶æ•°ï¼Œåˆ™å¯ç”¨è¯¥æ ‡ç­¾ï¼Œè‹¥ä¸æˆç«‹åˆ™è¯¥æ ‡ç­¾æ— æ•ˆ</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªç”µå­å•†åŠ¡ç½‘ç«™ï¼Œè¯¥ç½‘ç«™å…è®¸ç”¨æˆ·ç­›é€‰å•†å“å¹¶æŒ‰ä»·æ ¼æ’åºã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v-if æ¥æ¸²æŸ“ä¸åŒçš„å•†å“åˆ—è¡¨ï¼Œä»¥å“åº”ç”¨æˆ·çš„ä¸åŒç­›é€‰æ¡ä»¶ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡µé¢ä¸Šæ”¾ç½®å¤šä¸ªæŒ‰é’®ï¼Œæ¯ä¸ªæŒ‰é’®éƒ½å¯¹åº”ç€ä¸€ä¸ªä¸åŒçš„ç­›é€‰æ¡ä»¶ã€‚å½“ç”¨æˆ·ç‚¹å‡»æŸä¸ªæŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v-if æ¥å†³å®šæ¸²æŸ“å“ªä¸ªå•†å“åˆ—è¡¨ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortByPrice&quot;</span>&gt;</span>æŒ‰ä»·æ ¼æ’åº<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortByRating&quot;</span>&gt;</span>æŒ‰è¯„åˆ†æ’åº<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showAllProducts&quot;</span>&gt;</span>æ˜¾ç¤ºå…¨éƒ¨å•†å“<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;sortBy === &#x27;price&#x27;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æŒ‰ä»·æ ¼æ’åºçš„å•†å“åˆ—è¡¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;product in sortedProductsByPrice&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;product.id&quot;</span>&gt;</span></span><br><span class="line">          &#123;&#123; product.name &#125;&#125; - &#123;&#123; product.price &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;sortBy === &#x27;rating&#x27;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æŒ‰è¯„åˆ†æ’åºçš„å•†å“åˆ—è¡¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;product in sortedProductsByRating&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;product.id&quot;</span>&gt;</span></span><br><span class="line">          &#123;&#123; product.name &#125;&#125; - &#123;&#123; product.rating &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;sortBy === &#x27;all&#x27;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ‰€æœ‰å•†å“åˆ—è¡¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;product in products&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;product.id&quot;</span>&gt;</span></span><br><span class="line">          &#123;&#123; product.name &#125;&#125; - &#123;&#123; product.price &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">products</span>: [</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;å•†å“A&#x27;</span>, <span class="attr">price</span>: <span class="number">50</span>, <span class="attr">rating</span>: <span class="number">4.5</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;å•†å“B&#x27;</span>, <span class="attr">price</span>: <span class="number">80</span>, <span class="attr">rating</span>: <span class="number">3.8</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;å•†å“C&#x27;</span>, <span class="attr">price</span>: <span class="number">100</span>, <span class="attr">rating</span>: <span class="number">4.9</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      ],</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">sortBy</span>: <span class="string">&#x27;all&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">sortedProductsByPrice</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">products</span>.<span class="title function_">slice</span>().<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a.<span class="property">price</span> - b.<span class="property">price</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">sortedProductsByRating</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">products</span>.<span class="title function_">slice</span>().<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b.<span class="property">rating</span> - a.<span class="property">rating</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">sortByPrice</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">sortBy</span> = <span class="string">&#x27;price&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">sortByRating</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">sortBy</span> = <span class="string">&#x27;rating&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showAllProducts</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">sortBy</span> = <span class="string">&#x27;all&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>v-else</strong>ï¼šå¯ä»¥ä½¿ç”¨ v-else ä¸º v-if æ·»åŠ ä¸€ä¸ªâ€œelse åŒºå—â€ã€‚ä¸€ä¸ª v-else å…ƒç´ å¿…é¡»è·Ÿåœ¨ä¸€ä¸ª v-if æˆ–è€… v-else-if å…ƒç´ åé¢ï¼Œå¦åˆ™å®ƒå°†ä¸ä¼šè¢«è¯†åˆ«ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;awesome = !awesome&quot;</span>&gt;</span>Toggle<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;awesome&quot;</span>&gt;</span>Vue is awesome!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>Oh no ğŸ˜¢<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>v-else-if:</strong><br>v-else-if æä¾›çš„æ˜¯ç›¸åº”äº v-if çš„â€œelse if åŒºå—â€ã€‚å®ƒå¯ä»¥è¿ç»­å¤šæ¬¡é‡å¤ä½¿ç”¨ï¼Œå’Œ v-else ç±»ä¼¼ï¼Œä¸€ä¸ªä½¿ç”¨ v-else-if çš„å…ƒç´ å¿…é¡»ç´§è·Ÿåœ¨ä¸€ä¸ª v-if æˆ–ä¸€ä¸ª v-else-if å…ƒç´ åé¢ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;A&#x27;&quot;</span>&gt;</span></span><br><span class="line">  A</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;type === &#x27;B&#x27;&quot;</span>&gt;</span></span><br><span class="line">  B</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;type === &#x27;C&#x27;&quot;</span>&gt;</span></span><br><span class="line">  C</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">  Not A/B/C</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦ä¸€ä¸ªå¯ä»¥ç”¨æ¥æŒ‰æ¡ä»¶æ˜¾ç¤ºä¸€ä¸ªå…ƒç´ çš„æŒ‡ä»¤æ˜¯ <strong>v-show</strong>ã€‚å…¶ç”¨æ³•åŸºæœ¬ä¸€æ ·ï¼šv-ifç±»ä¼¼ï¼Œä½†æ˜¯ifçš„åŸç†æ˜¯è‹¥ä¸æˆç«‹ï¼Œåˆ™æ•´ä¸ªdivæ¶ˆå¤±ï¼Œè€Œshowåªæ˜¯è®©divçš„displayå±æ€§ä¿®æ”¹ä¸ºéšè—noneï¼Œæ˜¯é€šè¿‡æ ·å¼æ”¹å˜çš„ã€‚</p><p>v-if æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ v-show è¾ƒå¥½ã€‚</p><h2 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h2><p>v-forï¼šåˆ—è¡¨å¾ªç¯æŒ‡ä»¤</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 1ã€ç®€å•çš„åˆ—è¡¨æ¸²æŸ“ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;n in 10&quot;</span>&gt;</span>&#123;&#123; n &#125;&#125; <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¦‚æœæƒ³è·å–ç´¢å¼•ï¼Œåˆ™ä½¿ç”¨indexå…³é”®å­—ï¼Œæ³¨æ„ï¼Œåœ†æ‹¬å·ä¸­çš„indexå¿…é¡»æ”¾åœ¨åé¢ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(n, index) in 5&quot;</span>&gt;</span>&#123;&#123; n &#125;&#125; - &#123;&#123; index &#125;&#125; <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 2. åˆ—è¡¨éå†--&gt;</span>&gt;</span><br><span class="line">data: &#123;     userList: [</span><br><span class="line">        &#123; id: 1, username: &#x27;helen&#x27;, age: 18 &#125;,</span><br><span class="line">        &#123; id: 2, username: &#x27;peter&#x27;, age: 28 &#125;,</span><br><span class="line">        &#123; id: 3, username: &#x27;andy&#x27;, age: 38 &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;tr v-for=&quot;item in userList&quot;&gt;&lt;/tr&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in userList&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.id&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.username&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.age&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="template"><a href="#template" class="headerlink" title="template"></a>template</h2><p>åœ¨ Vue.js ä¸­ï¼Œtemplate æ˜¯ Vue.js ç»„ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥åŒ…å« HTML å…ƒç´ ã€Vue.js æŒ‡ä»¤ã€Vue.js è¡¨è¾¾å¼ã€Vue.js ç»„ä»¶ç­‰å†…å®¹ã€‚é€šè¿‡åœ¨ template ä¸­å®šä¹‰è¿™äº›å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºå‡ºåº”ç”¨ç¨‹åºä¸­çš„å„ç§è§†å›¾ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ Vue.js ç»„ä»¶ç¤ºä¾‹ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€ä¸ª templateï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; greeting &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">greeting</span>: <span class="string">&#x27;Hello&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">&#x27;Welcome to my website!&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„ templateï¼Œå®ƒä»¬åˆ†åˆ«ç”¨äºæ¸²æŸ“ä¸€ä¸ªæ ‡é¢˜å’Œä¸€ä¸ªæ®µè½ã€‚é€šè¿‡ä½¿ç”¨ Vue.js çš„åŒèŠ±æ‹¬å·è¯­æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°† greeting å’Œ message æ•°æ®ç»‘å®šåˆ° HTML å…ƒç´ ä¸­ï¼Œä»è€Œå®ç°åŠ¨æ€æ¸²æŸ“ã€‚æˆ–è€…è¯´ï¼Œé€šè¿‡templateï¼Œæˆ‘ä»¬èƒ½åœ¨vueæ–‡ä»¶ä¸­ç¼–å†™htmlã€‚</p><h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h2><p>ç»„ä»¶å¯ä»¥æ‰©å±• HTML å…ƒç´ ï¼Œå°è£…å¯é‡ç”¨çš„ä»£ç ã€‚<br>ç»„ä»¶ç³»ç»Ÿè®©æˆ‘ä»¬å¯ä»¥ç”¨ç‹¬ç«‹å¯å¤ç”¨çš„å°ç»„ä»¶æ¥æ„å»ºå¤§å‹åº”ç”¨ï¼Œå‡ ä¹ä»»æ„ç±»å‹çš„åº”ç”¨çš„ç•Œé¢éƒ½å¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªç»„ä»¶æ ‘ï¼š<br>ä½¿ç”¨componentså®šä¹‰ç»„ä»¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;     <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="comment">// å®šä¹‰å±€éƒ¨ç»„ä»¶ï¼Œè¿™é‡Œå¯ä»¥å®šä¹‰å¤šä¸ªå±€éƒ¨ç»„ä»¶</span></span><br><span class="line">    <span class="attr">components</span>: &#123;</span><br><span class="line">        <span class="comment">//ç»„ä»¶çš„åå­—</span></span><br><span class="line">        <span class="string">&#x27;Navbar&#x27;</span>: &#123;</span><br><span class="line">            <span class="comment">//ç»„ä»¶çš„å†…å®¹</span></span><br><span class="line">            <span class="attr">template</span>: <span class="string">&#x27;&lt;ul&gt;&lt;li&gt;é¦–é¡µ&lt;/li&gt;&lt;li&gt;å­¦å‘˜ç®¡ç†&lt;/li&gt;&lt;/ul&gt;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Navbar</span>&gt;</span><span class="tag">&lt;/<span class="name">Navbar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å…¨å±€ç»„ä»¶"><a href="#å…¨å±€ç»„ä»¶" class="headerlink" title="å…¨å±€ç»„ä»¶"></a>å…¨å±€ç»„ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å…¨å±€ç»„ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;Navbar&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;ul&gt;&lt;li&gt;é¦–é¡µ&lt;/li&gt;&lt;li&gt;å­¦å‘˜ç®¡ç†&lt;/li&gt;&lt;li&gt;è®²å¸ˆç®¡ç†&lt;/li&gt;&lt;/ul&gt;&#x27;</span> &#125;)</span><br><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Navbar</span>&gt;</span><span class="tag">&lt;/<span class="name">Navbar</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;components/Navbar.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;         <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><p>å¸¸ç”¨äºç‚¹å‡»èœå•å†…å®¹åˆ‡æ¢<br>Vue.js è·¯ç”±å…è®¸æˆ‘ä»¬é€šè¿‡ä¸åŒçš„ URL è®¿é—®ä¸åŒçš„å†…å®¹ã€‚</p><p>é€šè¿‡ Vue.js å¯ä»¥å®ç°å¤šè§†å›¾çš„å•é¡µWebåº”ç”¨,è·¯ç”±éœ€è¦è½½å…¥ vue-router åº“</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;vue-router.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- htmléƒ¨åˆ† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello App!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä½¿ç”¨ router-link ç»„ä»¶æ¥å¯¼èˆª. --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é€šè¿‡ä¼ å…¥ `to` å±æ€§æŒ‡å®šé“¾æ¥. --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;router-link&gt; é»˜è®¤ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ª `&lt;a&gt;` æ ‡ç­¾ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/student&quot;</span>&gt;</span>ä¼šå‘˜ç®¡ç†<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/teacher&quot;</span>&gt;</span>è®²å¸ˆç®¡ç†<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è·¯ç”±å‡ºå£ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶å°†æ¸²æŸ“åœ¨è¿™é‡Œ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- vueéƒ¨åˆ† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1. å®šä¹‰ï¼ˆè·¯ç”±ï¼‰ç»„ä»¶ã€‚</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å¯ä»¥ä»å…¶ä»–æ–‡ä»¶ import è¿›æ¥</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title class_">Welcome</span> = &#123; <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;æ¬¢è¿&lt;/div&gt;&#x27;</span> &#125;     </span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title class_">Student</span> = &#123; <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;student list&lt;/div&gt;&#x27;</span> &#125;     </span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title class_">Teacher</span> = &#123; <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;teacher list&lt;/div&gt;&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2. å®šä¹‰è·¯ç”±</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// æ¯ä¸ªè·¯ç”±åº”è¯¥æ˜ å°„ä¸€ä¸ªç»„ä»¶ã€‚</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> routes = [</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">redirect</span>: <span class="string">&#x27;/welcome&#x27;</span> &#125;, <span class="comment">//è®¾ç½®é»˜è®¤æŒ‡å‘çš„è·¯å¾„</span></span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/welcome&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Welcome</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/student&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Student</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/teacher&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Teacher</span> &#125;     ]</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 3. åˆ›å»º router å®ä¾‹ï¼Œç„¶åä¼  `routes` é…ç½®     const router = new VueRouter(&#123;         routes </span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ï¼ˆç¼©å†™ï¼‰ç›¸å½“äº routes: routes     &#125;)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 4. åˆ›å»ºå’ŒæŒ‚è½½æ ¹å®ä¾‹ã€‚     // ä»è€Œè®©æ•´ä¸ªåº”ç”¨éƒ½æœ‰è·¯ç”±åŠŸèƒ½</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123; </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                         router     &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç°åœ¨ï¼Œåº”ç”¨å·²ç»å¯åŠ¨äº†ï¼</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘é€axios</span></span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;     <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,     <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">memberList</span>: []<span class="comment">//æ•°ç»„</span></span><br><span class="line">    &#125;,     <span class="title function_">created</span>(<span class="params"></span>) &#123;         </span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">getList</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">getList</span>(<span class="params">id</span>) &#123;             <span class="comment">//vm = this</span></span><br><span class="line">        <span class="comment">//å‘urlå‘é€äº†ä¸€ä¸ªgetè¯·æ±‚ï¼Œè¿”å›ä¸¤ä¸ªå›è°ƒ æˆåŠŸ/å¤±è´¥</span></span><br><span class="line">            axios.<span class="title function_">get</span>(<span class="string">&#x27;http://localhost:8081/admin/ucenter/member&#x27;</span>)             </span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;                 </span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(response)</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">memberList</span> = response.<span class="property">data</span>.<span class="property">data</span>.<span class="property">items</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;                 </span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// æ˜¾ç¤º</span></span><br><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span>         <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>id<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;item in memberList&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.memberId&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span>             </span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.nickname&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span>     <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ new Vue() åˆ›å»ºä¸€ä¸ª Vue.js å®ä¾‹ï¼Œå¹¶å°†å…¶ç»‘å®šåˆ°ç½‘é¡µä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼ˆåœ¨æœ¬ä¾‹ä¸­æ˜¯ id ä¸º app çš„ div å…ƒç´ ï¼‰ã€‚åœ¨ data é€‰é¡¹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç©ºæ•°ç»„ memberListï¼Œå®ƒå°†ç”¨äºå­˜å‚¨ä»æœåŠ¡å™¨è·å–çš„æ•°æ®ã€‚</p><p>åœ¨ created é’©å­å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº† getList æ–¹æ³•ï¼Œå®ƒä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª GET è¯·æ±‚ï¼Œå¹¶ä½¿ç”¨ axios åº“æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚å¦‚æœè¯·æ±‚æˆåŠŸï¼Œaxios åº“ä¼šè¿”å›ä¸€ä¸ªåŒ…å«å“åº”æ•°æ®çš„å¯¹è±¡ï¼Œå¹¶è§¦å‘ then å›è°ƒå‡½æ•°ã€‚åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ response.data å±æ€§æ¥è·å–æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œå¹¶å°†å®ƒèµ‹å€¼ç»™ memberList æ•°ç»„ã€‚å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œaxios åº“ä¼šè§¦å‘ catch å›è°ƒå‡½æ•°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­æˆ‘ä»¬ç®€å•åœ°è¾“å‡ºäº†é”™è¯¯ä¿¡æ¯ã€‚</p><p>åœ¨ç½‘é¡µä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Vue.js çš„ v-for æŒ‡ä»¤æ¥å¾ªç¯éå† memberList æ•°ç»„ï¼Œå¹¶å°†æ¯ä¸ªå…ƒç´ æ˜¾ç¤ºåœ¨ä¸€ä¸ªè¡¨æ ¼è¡Œä¸­ã€‚ä½¿ç”¨åŒèŠ±æ‹¬å·è¯­æ³•ï¼Œæˆ‘ä»¬å°† item å¯¹è±¡çš„ memberId å’Œ nickname å±æ€§ç»‘å®šåˆ° HTML å…ƒç´ ä¸­ï¼Œä»è€Œå®ç°åŠ¨æ€æ¸²æŸ“ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2023/03/03/Reggie/"/>
      <url>/2023/03/03/Reggie/</url>
      
        <content type="html"><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><h2 id="åŠŸèƒ½æ¶æ„å›¾"><a href="#åŠŸèƒ½æ¶æ„å›¾" class="headerlink" title="åŠŸèƒ½æ¶æ„å›¾"></a>åŠŸèƒ½æ¶æ„å›¾</h2><p><img src="https://img-blog.csdnimg.cn/00f39dbdd7d24d88b56c10eabeecdd7d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="æ•°æ®åº“å»ºåº“å»ºè¡¨"><a href="#æ•°æ®åº“å»ºåº“å»ºè¡¨" class="headerlink" title="æ•°æ®åº“å»ºåº“å»ºè¡¨"></a>æ•°æ®åº“å»ºåº“å»ºè¡¨</h1><h2 id="è¡¨è¯´æ˜"><a href="#è¡¨è¯´æ˜" class="headerlink" title="è¡¨è¯´æ˜"></a>è¡¨è¯´æ˜</h2><p><img src="https://img-blog.csdnimg.cn/ee424986569f45b6a071f1556bfe10b8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h1><h2 id="Mavenæ­å»º"><a href="#Mavenæ­å»º" class="headerlink" title="Mavenæ­å»º"></a>Mavenæ­å»º</h2><p>ç›´æ¥åˆ›å»ºæ–°å·¥ç¨‹<br>ç»§æ‰¿çˆ¶å·¥ç¨‹çš„å½¢å¼æ¥åšè¿™ä¸ªï¼Œè¿™é‡Œæ–°å»ºçˆ¶å·¥ç¨‹<br><img src="https://img-blog.csdnimg.cn/6e78719f1b0e465e816e50584a93d39c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>pomæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        spring-boot--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itheima<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>reggie_take_out<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        jdkç‰ˆæœ¬--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--spring starter--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--json--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.76<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--SQLé©±åŠ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--druidæ•°æ®åº“è¿æ¥æ± --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.23<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ymlé…ç½®</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9001</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">ccTakeOut</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/ruiji?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="number">333</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span> <span class="comment"># æœ¬åœ°IP æˆ–æ˜¯ è™šæ‹ŸæœºIP</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="comment">#    password: root</span></span><br><span class="line">    <span class="attr">database:</span> <span class="number">0</span>  <span class="comment"># é»˜è®¤ä½¿ç”¨ 0å·db</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">time-to-live:</span> <span class="number">1800000</span>  <span class="comment"># è®¾ç½®ç¼“å­˜æ•°æ®çš„è¿‡æœŸæ—¶é—´ï¼Œ30åˆ†é’Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment">#åœ¨æ˜ å°„å®ä½“æˆ–è€…å±æ€§æ—¶ï¼Œå°†æ•°æ®åº“ä¸­è¡¨åå’Œå­—æ®µåä¸­çš„ä¸‹åˆ’çº¿å»æ‰ï¼Œå¼€å¯æŒ‰ç…§é©¼å³°å‘½åæ³•æ˜ å°„</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">ASSIGN_ID</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨æµ‹è¯•"><a href="#å¯åŠ¨æµ‹è¯•" class="headerlink" title="å¯åŠ¨æµ‹è¯•"></a>å¯åŠ¨æµ‹è¯•</h2><p>åˆ›å»ºæµ‹è¯•ç±»å¹¶å¯åŠ¨<br><img src="https://img-blog.csdnimg.cn/8f3df341f8ed469a96de5831708a5fc5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="å¯¼å…¥å‰ç«¯é¡µé¢"><a href="#å¯¼å…¥å‰ç«¯é¡µé¢" class="headerlink" title="å¯¼å…¥å‰ç«¯é¡µé¢"></a>å¯¼å…¥å‰ç«¯é¡µé¢</h2><p><img src="https://img-blog.csdnimg.cn/d8af2e9f8b1f4c52b8b881801c5d8c3b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h3><p>åœ¨é»˜è®¤é¡µé¢å’Œå‰å°é¡µé¢çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æŠŠè¿™ä¿©æ‹–åˆ°resourceç›®å½•ä¸‹ç›´æ¥è®¿é—®æ˜¯è®¿é—®ä¸åˆ°çš„ï¼Œå› ä¸ºè¢«mvcæ¡†æ¶æ‹¦æˆªäº†<br>æ‰€ä»¥æˆ‘ä»¬è¦ç¼–å†™ä¸€ä¸ªæ˜ å°„ç±»æ”¾è¡Œè¿™äº›èµ„æº</p><h4 id="åˆ›å»ºé…ç½®æ˜ å°„ç±»"><a href="#åˆ›å»ºé…ç½®æ˜ å°„ç±»" class="headerlink" title="åˆ›å»ºé…ç½®æ˜ å°„ç±»"></a>åˆ›å»ºé…ç½®æ˜ å°„ç±»</h4><p><img src="https://img-blog.csdnimg.cn/434a4b66a3534624ae8576c71d5e43ac.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/ddb9c62315e74bfba369d3812b957453.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è®¿é—®æˆåŠŸ<br><img src="https://img-blog.csdnimg.cn/1a44e566a18b4da1bdbcb2e20abcd048.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="åå°å¼€å‘"><a href="#åå°å¼€å‘" class="headerlink" title="åå°å¼€å‘"></a>åå°å¼€å‘</h1><h2 id="æ•°æ®åº“å®ä½“ç±»æ˜ å°„"><a href="#æ•°æ®åº“å®ä½“ç±»æ˜ å°„" class="headerlink" title="æ•°æ®åº“å®ä½“ç±»æ˜ å°„"></a>æ•°æ®åº“å®ä½“ç±»æ˜ å°„</h2><p>ç”¨mybatis plusæ¥å®ç°é€†å‘å·¥ç¨‹<br>è¿™é‡Œæ˜¯è€ç‰ˆæœ¬çš„é€†å‘å·¥ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.freemarker&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;freemarker&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">2.3</span><span class="number">.30</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;com.baomidou&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">3.3</span><span class="number">.1</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--mybatis-plus ä»£ç ç”Ÿæˆå™¨ä¾èµ–--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;com.baomidou&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">3.3</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>å…·ä½“æ€ä¹ˆç©çœ‹è¿™é‡Œ<br><a href="https://blog.csdn.net/weixin_48678547/article/details/123379415">MPé€†å‘å·¥ç¨‹æ•™ç¨‹</a><br><img src="https://img-blog.csdnimg.cn/9063d65d4f074b488c44675c078965c2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="è´¦æˆ·æ“ä½œ"><a href="#è´¦æˆ·æ“ä½œ" class="headerlink" title="è´¦æˆ·æ“ä½œ"></a>è´¦æˆ·æ“ä½œ</h1><h2 id="ç™»é™†åŠŸèƒ½"><a href="#ç™»é™†åŠŸèƒ½" class="headerlink" title="ç™»é™†åŠŸèƒ½"></a>ç™»é™†åŠŸèƒ½</h2><p>å‰ç«¯é¡µé¢<br><img src="https://img-blog.csdnimg.cn/018840778788414d802ec5309034a30b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/7981e9e300884b3285073d4072fdd775.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/aa04438900b64014a89cbcb2115d9463.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ•°æ®åº“<br><img src="https://img-blog.csdnimg.cn/fbf6a0035c4c4e929e6736bb592abc1f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸šåŠ¡é€»è¾‘<br><img src="https://img-blog.csdnimg.cn/257ae0d260b2430b8890d054fc72b65a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>è¿™é‡Œä¸¤ä¸ªå­—ç¬¦ä¸²çš„æ¯”è¾ƒæ²¡æ³•ç”¨!&#x3D;æ¥å®ç°</strong>ï¼Œåªèƒ½equalså†å–åæ¥åˆ¤æ–­<br>ç›´æ¥ä¸Šä»£ç ï¼Œè¿™é‡Œæ²¡æœ‰æ¶‰åŠserviceå±‚çš„æ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request å¦‚æœç™»é™†æˆåŠŸæŠŠå¯¹è±¡æ”¾å…¥Sessionä¸­ï¼Œæ–¹ä¾¿åç»­æ‹¿å–</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> employee åˆ©ç”¨<span class="doctag">@RequestBody</span>æ³¨è§£æ¥è§£æå‰ç«¯ä¼ æ¥çš„Jsonï¼ŒåŒæ—¶ç”¨å¯¹è±¡æ¥å°è£…</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span> &#123;</span><br><span class="line">    String password=employee.getPassword();</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> employee.getUsername();</span><br><span class="line">    log.info(<span class="string">&quot;ç™»é™†&quot;</span>);</span><br><span class="line">    <span class="comment">//MD5åŠ å¯†</span></span><br><span class="line">    <span class="type">MD5Util</span> <span class="variable">md5Util</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MD5Util</span>();</span><br><span class="line">    password=MD5Util.getMD5(password);</span><br><span class="line">    <span class="comment">//é€šè¿‡è´¦æˆ·æŸ¥è¿™ä¸ªå‘˜å·¥å¯¹è±¡ï¼Œè¿™é‡Œå°±ä¸èµ°Serviceå±‚äº†</span></span><br><span class="line">    LambdaQueryWrapper&lt;Employee&gt; lambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>();</span><br><span class="line">    lambdaQueryWrapper.eq(Employee::getUsername, username);</span><br><span class="line">    Employee empResult=employeeService.getOne(lambdaQueryWrapper);</span><br><span class="line">        <span class="comment">//åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> (!empResult.getUsername().equals(username))&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;è´¦æˆ·ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">        <span class="comment">//å¯†ç æ˜¯å¦æ­£ç¡®</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (!empResult.getPassword().equals(password))&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;è´¦æˆ·å¯†ç é”™è¯¯&quot;</span>);</span><br><span class="line">        <span class="comment">//å‘˜å·¥è´¦æˆ·çŠ¶æ€æ˜¯å¦æ­£å¸¸ï¼Œ1çŠ¶æ€æ­£å¸¸ï¼Œ0å°ç¦</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (empResult.getStatus()!=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;å½“å‰è´¦æˆ·æ­£åœ¨å°ç¦&quot;</span>);</span><br><span class="line">        <span class="comment">//çŠ¶æ€æ­£å¸¸å…è®¸ç™»é™†</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;ç™»é™†æˆåŠŸï¼Œè´¦æˆ·å­˜å…¥session&quot;</span>);</span><br><span class="line">        <span class="comment">//å‘˜å·¥idå­˜å…¥sessionï¼Œ</span></span><br><span class="line">        request.getSession().setAttribute(<span class="string">&quot;employ&quot;</span>,empResult.getId());</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;ç™»é™†æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“ä»£ç å¯ä»¥å‚è€ƒå¦‚ä¸‹è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.cc.controller.EmployeeController</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/weixin_44062380/article/details/116103642">å…³äºRequestBodyä½•æ—¶ä½¿ç”¨</a></p><h2 id="é€€å‡ºåŠŸèƒ½"><a href="#é€€å‡ºåŠŸèƒ½" class="headerlink" title="é€€å‡ºåŠŸèƒ½"></a>é€€å‡ºåŠŸèƒ½</h2><p>ç‚¹å‡»é€€å‡º<br><img src="https://img-blog.csdnimg.cn/09194dda97404a7db7a4438d056df2b6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åˆ é™¤sessionå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request åˆ é™¤requestä½œç”¨åŸŸä¸­çš„sessionå¯¹è±¡ï¼Œå°±æŒ‰ç™»é™†çš„request.getSession().setAttribute(&quot;employ&quot;,empResult.getId());åˆ é™¤employeeå°±è¡Œ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/logout&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">    <span class="comment">//å°è¯•åˆ é™¤</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        request.getSession().removeAttribute(<span class="string">&quot;employ&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">        <span class="comment">//åˆ é™¤å¤±è´¥</span></span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;ç™»å‡ºå¤±è´¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Result.success(<span class="string">&quot;ç™»å‡ºæˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®Œå–„ç™»é™†ï¼ˆæ·»åŠ è¿‡æ»¤å™¨ï¼‰"><a href="#å®Œå–„ç™»é™†ï¼ˆæ·»åŠ è¿‡æ»¤å™¨ï¼‰" class="headerlink" title="å®Œå–„ç™»é™†ï¼ˆæ·»åŠ è¿‡æ»¤å™¨ï¼‰"></a>å®Œå–„ç™»é™†ï¼ˆæ·»åŠ è¿‡æ»¤å™¨ï¼‰</h2><p>è¿™é‡Œçš„è¯ç”¨æˆ·ç›´æ¥url+èµ„æºåå¯ä»¥éšä¾¿è®¿é—®ï¼Œæ‰€ä»¥è¦åŠ ä¸ªæ‹¦æˆªå™¨ï¼Œæ²¡æœ‰ç™»é™†æ—¶ï¼Œä¸ç»™è®¿é—®ï¼Œè‡ªåŠ¨è·³è½¬åˆ°ç™»é™†é¡µé¢<br><img src="https://img-blog.csdnimg.cn/470f1c39f58f4cb09ee3878195622ca1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿‡æ»¤å™¨é…ç½®ç±»æ³¨è§£ <code>@WebFilter(filterName=&quot;æ‹¦æˆªå™¨ç±»åé¦–å­—æ¯å°å†™&quot;ï¼ŒurlPartten=â€œè¦æ‹¦æˆªçš„è·¯å¾„ï¼Œæ¯”å¦‚/*â€)</code><br><img src="https://img-blog.csdnimg.cn/4cf893fe589242eba9be0c206389bc18.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">åˆ¤æ–­ç”¨æˆ·çš„ç™»é™†çŠ¶æ€è¿™å—ä¹‹å‰å› ä¸ºå­˜å…¥sessioné‡Œé¢æœ‰ä¸€ä¸ªåä¸ºemployeeçš„å¯¹è±¡ï¼Œé‚£ä¹ˆåªéœ€è¦çœ‹çœ‹è¿™ä¸ªsessionè¿˜åœ¨ä¸åœ¨å°±çŸ¥é“ä»–æ˜¯å¦åœ¨ç™»é™†çŠ¶æ€<br>æ³¨æ„ï¼Œæƒ³å­˜æˆ–è€…æƒ³è·å–çš„è¯ï¼Œå°±éƒ½å¾—ç”¨ <code>HttpServletRequest</code>çš„å¯¹è±¡æ¥è¿›è¡Œè·å–ï¼Œåˆ«çš„requestå¯¹è±¡æ‹¿ä¸åˆ°çš„</p><p>è¿™é‡Œæä¸€å˜´<br>è°ƒç”¨Springæ ¸å¿ƒåŒ…çš„å­—ç¬¦ä¸²åŒ¹é…ç±»çš„å¯¹è±¡ï¼Œå¯¹è·¯å¾„è¿›è¡ŒåŒ¹é…ï¼Œå¹¶ä¸”è¿”å›æ¯”è¾ƒç»“æœ<br>å¦‚æœç›¸ç­‰å°±ä¸ºtrue</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">AntPathMatcher</span> <span class="variable">PATH_MATCHER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AntPathMatcher</span>();</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/a4e9e841bb7c43179bbcb2905d172a2c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å‰ç«¯æ‹¦æˆªå™¨å®Œæˆè·³è½¬åˆ°ç™»é™†é¡µé¢ï¼Œä¸åœ¨åç«¯åšå¤„ç†<br><img src="https://img-blog.csdnimg.cn/f0a1667cce664c35b64925c48dfb59f0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä»£ç å¤ªå¤šäº†ï¼Œç»™ä¸ªè·¯å¾„å¥½å•¦ï¼Œç›´æ¥å»Giteeçœ‹<br>requestçš„jsä»£ç è·¯å¾„ï¼š<code>resource/backend/js/request.js</code><br>æ‹¦æˆªå™¨çš„è·¯å¾„ï¼š<code>com.cc.filter.LoginCheckFilter</code></p><h2 id="æ–°å¢å‘˜å·¥"><a href="#æ–°å¢å‘˜å·¥" class="headerlink" title="æ–°å¢å‘˜å·¥"></a>æ–°å¢å‘˜å·¥</h2><p>æ–°å¢å‘˜å·¥åŠŸèƒ½ï¼Œï¼ˆå‰ç«¯å¯¹æ‰‹æœºå·å’Œèº«ä»½è¯å·é•¿åº¦åšäº†ä¸€ä¸ªæ ¡éªŒï¼‰<br><img src="https://img-blog.csdnimg.cn/966dd380180a47018ed362e125406271.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¯·æ±‚ URL: <a href="http://localhost:9001/employee">http://localhost:9001/employee</a>  ï¼ˆPOSTè¯·æ±‚ï¼‰<br><img src="https://img-blog.csdnimg.cn/8bae2348243f4d0ebe58ce97aff511d3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/f6299bb555784e8e88b08d3cfa88be77.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ”¹é€ ä¸€ä¸‹Employeeå®ä½“ç±»ï¼Œé€šç”¨idé›ªèŠ±è‡ªå¢ç®—æ³•æ¥æ–°å¢id<br><img src="https://img-blog.csdnimg.cn/d38ab9e9810244bab56a09ca6d40bfa9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™é‡Œç”¨serviceæ¥å£ç»§æ‰¿çš„MybatisPlusçš„åŠŸèƒ½<br><img src="https://img-blog.csdnimg.cn/0b5eeb36e8214deb8ceea0385d4f89a0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ³¨å…¥ä¸€ä¸‹å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œæ’å…¥æ–¹æ³•<br><img src="https://img-blog.csdnimg.cn/e297f0e3af7649eda9ac74fb9b19b19c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åŸºæœ¬ä¸Šéƒ½æ˜¯è‡ªåŠ¨CRUDï¼Œè®¿é—®è·¯å¾„ï¼š<code>com.cc.controller.EmployeeController</code></p><h2 id="å…¨å±€å¼‚å¸¸å¤„ç†"><a href="#å…¨å±€å¼‚å¸¸å¤„ç†" class="headerlink" title="å…¨å±€å¼‚å¸¸å¤„ç†"></a>å…¨å±€å¼‚å¸¸å¤„ç†</h2><p>å…ˆçœ‹çœ‹è¿™ç§ä»£ç çš„try catch<br>è¿™ç§try catchæ¥æ•è·å¼‚å¸¸å›ºç„¶å¥½ï¼Œ<strong>ä½†æ˜¯ï¼Œä»£ç é‡ä¸€å¤§èµ·æ¥ï¼Œè¶…çº§å¤šçš„try catchå°±ä¼šå¾ˆä¹±</strong><br><img src="https://img-blog.csdnimg.cn/232dfeaca28f420cb0fd5fae01f4ce15.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ‰€ä»¥æˆ‘ä»¬è¦åŠ å…¥å…¨å±€å¼‚å¸¸å¤„ç†ï¼Œåœ¨CommonåŒ…ä¸‹ï¼Œå’ŒResultåŒçº§ï¼Œè¿™é‡Œåªæ˜¯ç¤ºä¾‹ï¼Œå¹¶ä¸å®Œæ•´<br><img src="https://img-blog.csdnimg.cn/b8da6a3931714deeb724381c0ad2da41.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/33fe7337e5464cf9b07a7f0a31f67a04.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å½“æŠ¥é”™ä¿¡æ¯å‡ºç°Duplicate entryæ—¶ï¼Œå°±æ„å‘³ç€æ–°å¢å‘˜å·¥å¼‚å¸¸äº†<br>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯¹å¼‚å¸¸ç±»çš„æ–¹æ³•è¿›è¡Œä¸€äº›å°æ”¹åŠ¨ï¼Œè®©è¿™ä¸ªå¼‚å¸¸åé¦ˆå˜å¾—æ›´äººæ€§åŒ–<br><img src="https://img-blog.csdnimg.cn/b795bb06e106477192795c9fa56e15fa.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™ä¸ªæ—¶å€™å†æ¥å®¢æˆ·ç«¯è¯•è¯•ï¼Œå°±ä¼šæä¾›äººæ€§åŒ–çš„æŠ¥é”™ï¼Œéå¸¸çš„å¿«ä¹~<br><img src="https://img-blog.csdnimg.cn/39454913ca2a48778c8c25281a03ff06.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>è¿™å›å†å›åˆ°Controllerï¼Œè¿™æ—¶å°±ä¸éœ€è¦å†æ¥try catchè¿™ç§å½¢å¼äº†ï¼Œä¸ç”¨ç®¡ä»–ï¼Œå› ä¸ºä¸€æ—¦å‡ºç°é”™è¯¯å°±ä¼šè¢«æˆ‘ä»¬çš„AOPæ•è·ã€‚æ‰€ä»¥ï¼Œä¸éœ€è¦å†ç”¨try catchæ¥æŠ“äº†</strong><br><img src="https://img-blog.csdnimg.cn/0e1e9a3feb7c4b7c8bfa1dc61286437f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¼‚å¸¸ç±»ä½ç½®ï¼š<code>com.cc.common.GloableExceptionHandler</code></p><h2 id="å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"><a href="#å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"></a>å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢</h2><h3 id="æ¥å£åˆ†æ"><a href="#æ¥å£åˆ†æ" class="headerlink" title="æ¥å£åˆ†æ"></a>æ¥å£åˆ†æ</h3><p>è€ç”Ÿå¸¸è°ˆåˆ†é¡µæŸ¥è¯¢äº†<br>éœ€æ±‚<br><img src="https://img-blog.csdnimg.cn/3899bbef468e4224b6b26fa6a13e103c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åˆ†é¡µè¯·æ±‚æ¥å£<br><img src="https://img-blog.csdnimg.cn/288dd9777c1944d195cb421038fbc885.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/3b9f9ddf4a304f44923ef89fa9b22ca7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æŸ¥è¯¢å‘˜å·¥åŠæ˜¾ç¤ºæ¥å£<br><img src="https://img-blog.csdnimg.cn/cc0e4ee9f4b14b8d9e2c12428471889d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/e339d98a293a43c19d3c6a6252da428b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é€»è¾‘æµç¨‹<br><img src="https://img-blog.csdnimg.cn/50fa6620581044c69049028b6921f72e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="åˆ†é¡µæ’ä»¶é…ç½®ç±»"><a href="#åˆ†é¡µæ’ä»¶é…ç½®ç±»" class="headerlink" title="åˆ†é¡µæ’ä»¶é…ç½®ç±»"></a>åˆ†é¡µæ’ä»¶é…ç½®ç±»</h3><p>å…ˆå¼„ä¸ªMPåˆ†é¡µæ’ä»¶é…ç½®ç±»<br><strong>åŸå› æ˜¯å’Œ3.2.3ç‰ˆæœ¬çš„ä»£ç ç”Ÿæˆå™¨å†²çª</strong><br><a href="https://blog.csdn.net/weixin_49530535/article/details/119815650">åˆ†é¡µæ’ä»¶çˆ†çº¢è§£å†³æ–¹æ¡ˆ</a><br><img src="https://img-blog.csdnimg.cn/d21457c19dd14f89ab7c314137ae7b33.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç›´æ¥æ³¨é‡Šæ‰<br><img src="https://img-blog.csdnimg.cn/0d56b79072e548799e4bde12f7cc7bc2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åŠ å…¥é…ç½®ç±»<br><img src="https://img-blog.csdnimg.cn/928faf96126040248a6c7629433b8f4a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="æ¥å£è®¾è®¡"><a href="#æ¥å£è®¾è®¡" class="headerlink" title="æ¥å£è®¾è®¡"></a>æ¥å£è®¾è®¡</h3><p>å‰ç«¯æ³¨æ„äº‹é¡¹<br><img src="https://img-blog.csdnimg.cn/0e4186ba7e804ab6b1b3c6b2a3f1ce05.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/eae2123e010e4d048e3b5a1339cf41ce.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>pageå¯¹è±¡å†…éƒ¨<br><img src="https://img-blog.csdnimg.cn/87eab00f37584a51bcee03f83d665e32.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é‡Œé¢åŒ…å«äº†æŸ¥è¯¢æ„é€ å™¨çš„ä½¿ç”¨<br>å…·ä½“çš„ç»†èŠ‚åœ¨è¿™ä¸ªåŒ…ä¸‹ï¼šcom.cc.controller.EmployeeController.page</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ†é¡µå±•ç¤ºå‘˜å·¥åˆ—è¡¨æ¥å£ã€æŸ¥è¯¢æŸä¸ªå‘˜å·¥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> page æŸ¥è¯¢ç¬¬å‡ é¡µ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> pageSize æ¯é¡µä¸€å…±å‡ æ¡æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> name æŸ¥è¯¢åå­—=nameçš„æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> è¿”å›Pageé¡µ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize,String name)</span>&#123;</span><br><span class="line">    <span class="comment">//åˆ†é¡µæ„é€ å™¨,Page(ç¬¬å‡ é¡µ, æŸ¥å‡ æ¡)</span></span><br><span class="line">    <span class="type">Page</span> <span class="variable">pageInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Page</span>(page, pageSize);</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Employee&gt; lambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>();</span><br><span class="line">    <span class="comment">//è¿‡æ»¤æ¡ä»¶.like(ä»€ä¹ˆæ¡ä»¶ä¸‹å¯ç”¨æ¨¡ç³ŠæŸ¥è¯¢ï¼Œæ¨¡ç³ŠæŸ¥è¯¢å­—æ®µï¼Œè¢«æ¨¡ç³Šæ’å™çš„åç§°)</span></span><br><span class="line">    lambdaQueryWrapper.like(!StringUtils.isEmpty(name), Employee::getName, name);</span><br><span class="line">    <span class="comment">//æ·»åŠ æ’åº</span></span><br><span class="line">    lambdaQueryWrapper.orderByDesc(Employee::getCreateTime);</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢åˆ†é¡µã€è‡ªåŠ¨æ›´æ–°</span></span><br><span class="line">    employeeService.page(pageInfo, lambdaQueryWrapper);</span><br><span class="line">    <span class="comment">//è¿”å›æŸ¥è¯¢ç»“æœ </span></span><br><span class="line">    <span class="keyword">return</span> Result.success(pageInfo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å¯ç”¨ã€ç¦ç”¨å‘˜å·¥è´¦å·"><a href="#å¯ç”¨ã€ç¦ç”¨å‘˜å·¥è´¦å·" class="headerlink" title="å¯ç”¨ã€ç¦ç”¨å‘˜å·¥è´¦å·"></a>å¯ç”¨ã€ç¦ç”¨å‘˜å·¥è´¦å·</h2><p>æ— éå°±æ˜¯ä¿®æ”¹statusï¼Œ0ç¦ç”¨ï¼Œ1å¯ç”¨<br><img src="https://img-blog.csdnimg.cn/cbc14ff5649f4c3ab58a61f6a3717d55.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/00fd8c22798a4be0935fbe4706aac1a0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™ç§æ ¹æ®ç™»é™†äººç‰©æ¥è¿›è¡Œåˆ¤æ–­çš„ç©æ³•ï¼Œæ˜¯å‰ç«¯<br>è¿™ä¸ªé¡µé¢çš„ä½ç½® <code>resource/backend/page/member/list.html</code><br><img src="https://img-blog.csdnimg.cn/15cb1554d5014d91a50a1d33faff5f0e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>çœ‹æ‹¿å‡ºæ¥çš„å¯¹è±¡æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œå¦‚æœæ˜¯adminï¼Œvueçš„v-ifæŒ‡ä»¤å°±ä¼šæŠŠç¼–è¾‘æŒ‰é’®æ˜¾ç¤ºå‡ºæ¥<br>å¦‚æœæ˜¯æ™®é€šç”¨æˆ·ï¼Œå°±ä¼šæŠŠç¼–è¾‘æŒ‰é’®éšè—<br><img src="https://img-blog.csdnimg.cn/1a813cac7216496c9f007b2e89e94571.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ä¿®å¤ä¸€ä¸ªå°Bug"><a href="#ä¿®å¤ä¸€ä¸ªå°Bug" class="headerlink" title="ä¿®å¤ä¸€ä¸ªå°Bug"></a>ä¿®å¤ä¸€ä¸ªå°Bug</h3><p>å‰ç«¯ä¸€ç›´ä¸æ˜¾ç¤ºç¼–è¾‘æŒ‰é’®ï¼Œåœ¨localStorageé‡Œæ²¡æœ‰å‘ç°adminå¯¹è±¡<br><img src="https://img-blog.csdnimg.cn/656ddea591c644369951b448d9437162.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™ä¸ªå€¼ä¸åº”è¯¥æ˜¯ç™»é™†æˆåŠŸï¼Œåº”è¯¥æ˜¯Employeeçš„å¯¹è±¡Json<br>çŒœæµ‹æ˜¯ç™»é™†çš„æ—¶å€™å¾€requesté‡Œå­˜å¯¹è±¡æ²¡å­˜å¥½<br><img src="https://img-blog.csdnimg.cn/e02134f0443f4cebaf01da0bebb88be3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ”¹æˆå¯¹è±¡å­˜å…¥å°±å¥½äº†<br><img src="https://img-blog.csdnimg.cn/3695c863613643ebb7c9d2fb6f44b1f2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™å›éƒ½æ­£å¸¸äº†<br><img src="https://img-blog.csdnimg.cn/f291200889854951bae0025d0c96d67f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="åŠŸèƒ½ç¼–å†™"><a href="#åŠŸèƒ½ç¼–å†™" class="headerlink" title="åŠŸèƒ½ç¼–å†™"></a>åŠŸèƒ½ç¼–å†™</h3><p>å¤ä¹ ä¸€ä¸‹<br>&#x3D;&#x3D;<strong>PutMappingæ˜¯Resultfulé£æ ¼çš„è¯·æ±‚æ–¹å¼</strong>&#x3D;&#x3D;<br><img src="https://img-blog.csdnimg.cn/0dcd79a42b334bae8337cb40a73fd17c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å½“å‰çŠ¶æ€æ˜¯1ï¼Œç›´æ¥å¸¦ç€ç›®æ ‡çŠ¶æ€å€¼ï¼ˆçŠ¶æ€æ”¹ç¦ç”¨ï¼‰è¿›è¡Œæ›´æ–°<br><img src="https://img-blog.csdnimg.cn/bbc8b8c97744496491c18389cf13f2f1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>Idç²¾åº¦ä¸¢å¤±ï¼Œjsç‹¬æœ‰çš„bugï¼Œç›´æ¥å¤„ç†Longå¤„ç†ä¸äº†ï¼Œè¦Longè½¬Stringå†è¿”å›å»<br><img src="https://img-blog.csdnimg.cn/bd851e41062148db9a7d4b84b687372f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/65954dc589544fe1bc98a70d0a878936.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åˆ©ç”¨å¯¹è±¡è½¬æ¢å™¨JacksonObjectMapperï¼Œå°†å¯¹è±¡è½¬Json<br>å°†Longå‹çš„Idè½¬æ¢ä¸ºStringç±»å‹çš„æ•°æ®<br><img src="https://img-blog.csdnimg.cn/7b18d09c0e75446db59dab3f6f4f505a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åœ¨MVCé…ç½®ç±»ä¸­æ‰©å±•ä¸€ä¸ªæ¶ˆæ¯è½¬æ¢å™¨<br><img src="https://img-blog.csdnimg.cn/bc895faafbb247eb9e580f553d32d4e6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æµ‹è¯•åŠŸèƒ½æ­£å¸¸ï¼Œæ­£å¸¸æ›´æ–°å‘˜å·¥çŠ¶æ€<br>æ¶ˆæ¯æ‰©å±•å™¨é…ç½®ä½ç½®ï¼š<code>com.cc.common.JacksonObjectMapper</code><br>å¯¹è±¡æ˜ å°„å™¨ä½ç½®ï¼š<code>com.cc.config.WebMvcConfig</code><br>å‘˜å·¥çŠ¶æ€æ›´æ–°ä½ç½®ï¼š<code>com.cc.controller.EmployeeController</code></p><h2 id="ç¼–è¾‘å‘˜å·¥ä¿¡æ¯"><a href="#ç¼–è¾‘å‘˜å·¥ä¿¡æ¯" class="headerlink" title="ç¼–è¾‘å‘˜å·¥ä¿¡æ¯"></a>ç¼–è¾‘å‘˜å·¥ä¿¡æ¯</h2><p><img src="https://img-blog.csdnimg.cn/83b635aff2ca4445840f24ef5c60a22b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¯·æ±‚APIï¼Œè¿™ä¸ªæ˜¯å…ˆå‘è¯·æ±‚ï¼ŒæŸ¥åˆ°ç”¨æˆ·ï¼Œç„¶åå¡«å……åˆ°é¡µé¢ä¸Š<br>å¯ä»¥çœ‹å‡ºæ¥ï¼Œè¿™ç§è¯·æ±‚æ–¹å¼æ˜¯ResultFulé£æ ¼çš„è¯·æ±‚æ–¹å¼<br>åœ¨æ§åˆ¶å™¨ä¸­è¦ç”¨@PathVariable(â€œ&#x2F;{å‚æ•°åç§°}â€)æ³¨è§£æ¥è¿›è¡Œæ¥æ”¶<br><img src="https://img-blog.csdnimg.cn/7f1a236c859d418eb4aa1177cbf82543.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/f7b34494b2eb42b8b315e9f7c2802956.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å®Œç¾æ›´æ–°<br>æ›´æ–°æ–¹æ³•ä½ç½®ï¼š<code>com.cc.controller.EmployeeController.getEmployee</code></p><h2 id="å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……"><a href="#å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……" class="headerlink" title="å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……"></a>å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……</h2><p>åƒæ˜¯ä¸€éƒ¨åˆ†å…¬å…±å­—æ®µï¼Œåå¤å¡«å……èµ·æ¥æ²¡æœ‰æ„ä¹‰ï¼Œç®€åŒ–å¡«å……çš„æ“ä½œã€‚<br>æŠŠè¿™ä¸ªåŠŸèƒ½æ‹¿å‡ºæ¥ï¼Œå•ç‹¬æ‹å‡ºæ¥åšè‡ªåŠ¨å¡«å……å¤„ç†<br><img src="https://img-blog.csdnimg.cn/f6b5a68d4b8646aab2b39db34fba625a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/09eaaee0510849749512ef973529a4ed.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸ºå®ä½“ç±»å±æ€§ä¸Šé¢åŠ å…¥æ³¨è§£ <code>@TableField(fill = å¡«å……æ¡ä»¶)</code><br>çœ‹ä¸€ä¸‹æºç ã€‚fillæ˜¯å¡«å……æ¡ä»¶ï¼Œç”¨æšä¸¾æ¥è¿›è¡Œå¤„ç†çš„<br><img src="https://img-blog.csdnimg.cn/c41f5a745d6c48d5b944fbe2b81e5726.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åŠ å®Œæ³¨è§£å’Œæ¡ä»¶ä¸ç®—å®Œï¼Œè¿˜è¦åŠ å…¥é…ç½®ç±»è¿›è¡Œå¤„ç†ï¼Œå¯¹å¡«å……çš„æ•°æ®åšè§„å®š<br>åœ¨commonåŒ…ä¸‹åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»ï¼Œæœ€å…³é”®çš„æ˜¯è¦å®ç° <code>MetaObjectHandleræ¥å£ä¸‹çš„insertFillå’ŒupdateFill</code><br>ç¡®è®¤å¡«å……æ—¶éœ€è¦çš„å­—æ®µã€‚è¿˜æœ‰è¦åŠ å…¥@Componentæ³¨è§£ï¼Œå°†è¿™ä¸ªç±»äº¤ç»™æ¡†æ¶æ¥ç®¡ç†ï¼Œå¦åˆ™çš„è¯å®¹æ˜“æ‰¾ä¸åˆ°,setValueçš„å€¼ä¼šæ ¹æ®æ³¨è§£åŠ å…¥çš„å­—æ®µåç§°æ¥é”å®šæ˜¯å¦éœ€è¦æ›´æ–°<br>ä½ç½®ï¼š<code>com.cc.common.MyMetaObjectHandler</code><br><img src="https://img-blog.csdnimg.cn/1810345a8b204a639754df2220f32bc2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä½†æ˜¯è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘æƒ³å»æ›´æ–°ç®¡ç†å‘˜å­—æ®µæ˜¯éå¸¸å›°éš¾çš„ï¼Œå› ä¸ºæˆ‘è¿™é‡Œæ‹¿ä¸åˆ°Requestçš„ä½œç”¨åŸŸå¯¹è±¡ï¼Œæ‰€ä»¥è¦æƒ³ä¸ªåŠæ³•æ¥å¤„ç†ã€‚<br>è¿™ä¸ªæ—¶å€™å°±éœ€è¦ <code>ThreadLocal</code>æ¥è¿›è¡Œå¯¹è±¡çš„è·å–ï¼Œè¿™ä¸ªçº¿ç¨‹æ˜¯è´¯ç©¿æ•´ä¸ªè¿è¡Œçš„ï¼Œå¯ä»¥é€šè¿‡ä»–æ¥è·å–</p><h3 id="ä½¿ç”¨æ—¶Â·"><a href="#ä½¿ç”¨æ—¶Â·" class="headerlink" title="ä½¿ç”¨æ—¶Â·"></a>ä½¿ç”¨æ—¶Â·</h3><p>ä½•ä¸ºThreadLocal<br>&#x3D;&#x3D;<strong>é‡ç‚¹æ¥äº†</strong>&#x3D;&#x3D;<br>è¿™ä¸ªå›¾<br><img src="https://img-blog.csdnimg.cn/a747301972964b88a7db5dc9d84995e6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/62ec83c598a546b89722fef26f3ca4b4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æˆ‘çš„æ€è·¯å°±æ˜¯åœ¨ç”¨æˆ·ç™»é™†çš„æ—¶å€™ï¼ŒæŠŠè¿™ä¸ªidå­˜è¿›å»ï¼Œç­‰åˆ°åœ¨å¡«å……å­—æ®µçš„æ—¶å€™ï¼Œä»ThreadLocalé‡ŒæŠŠè¿™ä¸ªèµ„æºå†æ‹¿å‡ºæ¥ã€‚<br>ç›´æ¥æ“ä½œä¸å¤ªå¥½ï¼ŒæŠŠä»–å°è£…æˆä¸€ä¸ªå·¥å…·ç±»ï¼Œè¿™ä¸ªå·¥å…·ç±»é‡Œæ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼Œå¯ä»¥é€šè¿‡ç±»ç›´æ¥è°ƒç”¨ã€å¹¶ä¸”éƒ½æ˜¯é™æ€æ–¹æ³•ï¼Œæ¥æ“ä½œä¿å­˜å’Œè¯»å–<br>æˆ‘é€‰æ‹©åœ¨Utilsä¸‹åˆ›å»º</p><h3 id="ç¬¬ä¸€æ¬¡çš„Bug"><a href="#ç¬¬ä¸€æ¬¡çš„Bug" class="headerlink" title="ç¬¬ä¸€æ¬¡çš„Bug"></a>ç¬¬ä¸€æ¬¡çš„Bug</h3><p>å…·ä½“åŒ…åœ¨utilsé‡Œï¼Œæœ‰Bugï¼Œå°è£…çš„ç±»ThreadLocalè·å–ä¸åˆ°æ•°æ®ï¼Œä¸å¤ªæ¸…æ¥šä¸ºä»€ä¹ˆï¼Œæš‚æ—¶å°±æŠŠè¿™ä¸ªå†™æ­»äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºäºThreadLocal å°è£…å·¥å…·ç±»ï¼Œç”¨æˆ·ä¿å­˜å’Œè·å–å½“å‰ç™»å½•çš„ç”¨æˆ·id</span></span><br><span class="line"><span class="comment">// ThreadLocalä»¥çº¿ç¨‹ä¸º ä½œç”¨åŸŸï¼Œä¿å­˜æ¯ä¸ªçº¿ç¨‹ä¸­çš„æ•°æ®å‰¯æœ¬</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseContext</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ThreadLocal&lt;Long&gt; threadLocal = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  è®¾ç½®å½“å‰ç”¨æˆ·id</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setCurrentId</span><span class="params">(Long id)</span>&#123;</span><br><span class="line">        threadLocal.set(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Long <span class="title function_">getCurrentId</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> threadLocal.get();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼ŒThreadLocalä¸æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œåªæœ‰åŒä¸€ä¸ªçº¿ç¨‹æ‰èƒ½æ‹¿åˆ°ï¼Œä¸æ˜¯ä¸€ä¸ªçº¿ç¨‹æ‹¿ä¸åˆ°çš„</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>æ›´æ”¹setIdçš„ä½ç½®ï¼Œå­˜å‚¨çš„æ—¶å€™æ”¾åœ¨è¿‡æ»¤å™¨å†…éƒ¨ï¼Œå°±ç®—æ˜¯ä¸€ä¸ªçº¿ç¨‹äº†ï¼Œå°±èƒ½æ‹¿åˆ°ã€‚ä¸è¿‡æˆ‘éƒ½è¯•è¿‡äº†ï¼Œç¡®å®æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯è¿˜æ˜¯æ‹¿ä¸åˆ°ã€‚<br>æ¢ä¸ªæ€è·¯ï¼šå› ä¸ºæˆ‘æƒ³æ‹¿Requestå¯¹è±¡é‡Œçš„Idå˜›ï¼Œæ‰€ä»¥ï¼Œåªè¦æœ‰Requestçš„idå°±è¡Œï¼Œä¸å¿…è¿‡äºæ‰§ç€ä¸€å®šè¦ç”¨ThreadLocalæ¥å­˜ï¼Œå› æ­¤ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©æ³¨å…¥ä¸€ä¸‹HttpServletRequestå¯¹è±¡æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br><img src="https://img-blog.csdnimg.cn/58b8b8d5442a4da29ef667430a521262.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="èœå“é¡µé¢"><a href="#èœå“é¡µé¢" class="headerlink" title="èœå“é¡µé¢"></a>èœå“é¡µé¢</h1><h2 id="èœå“åˆ†ç±»"><a href="#èœå“åˆ†ç±»" class="headerlink" title="èœå“åˆ†ç±»"></a>èœå“åˆ†ç±»</h2><p><img src="https://img-blog.csdnimg.cn/2c38b870546f49bd9a9d00572c2f1578.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ¶‰åŠçš„è¡¨æœ‰åˆ†ç±»è¡¨category<br><img src="https://img-blog.csdnimg.cn/5c9af552c151402d99d419b44601110a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸šåŠ¡æµç¨‹<br><img src="https://img-blog.csdnimg.cn/0e55226139a848f4ba8a792c62a6feb3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="æ–°å¢èœå“åˆ†ç±»"><a href="#æ–°å¢èœå“åˆ†ç±»" class="headerlink" title="æ–°å¢èœå“åˆ†ç±»"></a>æ–°å¢èœå“åˆ†ç±»</h3><p>è¯·æ±‚æ–¹å¼æ˜¯Postè¯·æ±‚<br><img src="https://img-blog.csdnimg.cn/d43ee4cb2aeb4259abe4129cb1672978.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/dc4cdb56b1ff40039d61b044f0259ea4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ§åˆ¶å™¨ä½ç½®ï¼š<code>com.cc.controller.CategoryController (save)</code></p><h3 id="èœå“åˆ†ç±»å±•ç°"><a href="#èœå“åˆ†ç±»å±•ç°" class="headerlink" title="èœå“åˆ†ç±»å±•ç°"></a>èœå“åˆ†ç±»å±•ç°</h3><p><img src="https://img-blog.csdnimg.cn/9dc65e03155d4e29b1dd85b73e79468c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿˜æ˜¯é‚£å‡ æ­¥</p><ol><li>åˆ›å»ºåˆ†é¡µæ„é€ å™¨ Page pageInfo &#x3D; new Page(ç¬¬å‡ é¡µ,æ¯é¡µå‡ æ¡æ•°æ®);</li><li>å¦‚æœæœ‰éœ€è¦æ¡ä»¶è¿‡æ»¤çš„åŠ å…¥æ¡ä»¶è¿‡æ»¤å™¨LambaQueryWarpper</li><li>æ³¨å…¥çš„serviceå¯¹è±¡ï¼ˆå·²ç»ç»§æ‰¿MPçš„BaseMapperæ¥å£ï¼‰å»è°ƒç”¨Pageå¯¹è±¡<br>serviceå¯¹è±¡.page(åˆ†é¡µä¿¡æ¯,æ¡ä»¶è¿‡æ»¤å™¨)</li><li>è¿”å›ç»“æœå°±å¯ä»¥äº†</li></ol><p>åˆ†é¡µæŸ¥è¯¢ä½ç½®ï¼š<code>com.cc.controller.CategoryController.page</code></p><h3 id="åˆ é™¤èœå“åˆ†ç±»"><a href="#åˆ é™¤èœå“åˆ†ç±»" class="headerlink" title="åˆ é™¤èœå“åˆ†ç±»"></a>åˆ é™¤èœå“åˆ†ç±»</h3><p><img src="https://img-blog.csdnimg.cn/d3c5ede5188a46caa8bef24e4c14b9fb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/e35caef5f5d8421aae24cfc2832fe3d0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ™®é€šç‰ˆæœ¬ï¼Œæ²¡æœ‰è€ƒè™‘åˆ†ç±»æœ‰å…³è”çš„æƒ…å†µ<br><img src="https://img-blog.csdnimg.cn/62d820a820634bcc841b41bcc0bc3987.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å®Œå–„ä¸€ä¸‹ï¼Œ&#x3D;&#x3D;<strong>å¦‚æœå½“å‰èœå“åˆ†ç±»ä¸‹æœ‰èœå“çš„è¯ï¼Œå°±ä¸è®¸åˆ é™¤</strong>&#x3D;&#x3D;<br>æ‰€ä»¥åœ¨åˆ é™¤ä¹‹å‰è¦å…ˆåšåˆ¤æ–­æ‰å¯ä»¥åˆ é™¤ï¼Œä¸ç¬¦åˆæ¡ä»¶çš„ï¼Œæˆ‘ä»¬è¦æŠ›å‡ºå¼‚å¸¸è¿›è¡Œæç¤º<br>å› ä¸ºæ²¡æœ‰è¿”å›å¼‚å¸¸ä¿¡æ¯çš„ç±»ï¼Œæˆ‘ä»¬è¿™é‡Œè¦åšä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸“é—¨è¿”å›å¼‚å¸¸ä¿¡æ¯çš„ç±» <code>CustomerException</code><br>è¿™ä¸ªç±»çš„ä½ç½®ä¹Ÿåœ¨commonåŒ…ä¸‹<br><img src="https://img-blog.csdnimg.cn/40de841c594443398553b1509512fa5e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å› ä¸ºæˆ‘ä»¬ä¹‹å‰åˆ›å»ºäº†ä¸€ä¸ªå…¨å±€å¼‚å¸¸å¤„ç†ï¼Œä¹Ÿè¦ç”¨ä¸Šï¼Œå› ä¸ºè¦æ‹¦æˆªå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br>è¿˜æ˜¯ <code>com.cc.common.GloableExceptionHandler</code><br>å¯¹æŠ›å‡ºå¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œå°±å¯ä»¥å¯¹æ–°å¢çš„å¼‚å¸¸æä¾›ç›®æ ‡çš„æ‹¦æˆªå’Œå¼‚å¸¸é€šçŸ¥<br><img src="https://img-blog.csdnimg.cn/035d8b14a54f4cb1bffcd4c63673d0f8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åˆ é™¤èœå“åˆ†ç±»çš„controlleræ¥å£åœ¨ï¼š<code>com.cc.controller.CategoryController (delCategory)</code><br>å› ä¸ºä¸šåŠ¡ç‰¹æ®Šï¼Œä¸”æ¯”è¾ƒé•¿ï¼Œå°±åˆ†ç¦»å‡ºæ¥æŠŠä¸šåŠ¡æ”¾åœ¨serviceåŒ…ä¸‹<br>serviceæ¥å£ä½ç½®ï¼š<code>com.cc.service.impl.CategoryServiceImpl (removeCategory)</code></p><h2 id="ä¿®æ”¹å¥—é¤ä¿¡æ¯"><a href="#ä¿®æ”¹å¥—é¤ä¿¡æ¯" class="headerlink" title="ä¿®æ”¹å¥—é¤ä¿¡æ¯"></a>ä¿®æ”¹å¥—é¤ä¿¡æ¯</h2><p><img src="https://img-blog.csdnimg.cn/e6c29b9b209c4881815bdffa24f571e8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>éå¸¸ç®€å•çš„CRUDï¼Œç›´æ¥è°ƒç”¨MPæ›´æ–°ä¸€ä¸‹å°±è¡Œ<br>APIä½ç½®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.cc.controller.CategoryController (updateCategory)</span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ï¼ˆé‡ç‚¹ï¼‰"><a href="#æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ï¼ˆé‡ç‚¹ï¼‰"></a>æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ï¼ˆé‡ç‚¹ï¼‰</h2><h3 id="ä¸Šä¼ é€»è¾‘"><a href="#ä¸Šä¼ é€»è¾‘" class="headerlink" title="ä¸Šä¼ é€»è¾‘"></a>ä¸Šä¼ é€»è¾‘</h3><p>ç¬¬ä¸€æ¬¡æ¥è§¦ä¸Šä¼ å’Œä¸‹è½½çš„åŠŸèƒ½<br>æ–‡ä»¶ä¸Šä¼ é€»è¾‘ï¼ˆåç«¯ï¼‰<br><img src="https://img-blog.csdnimg.cn/6fddfbb6992645358dd6f7fc9e7ed79d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å‚æ•°åæœ‰è¦æ±‚çš„<br>æ¥æ”¶çš„æ–‡ä»¶ç±»å‹ä¸€å®šæ˜¯ æ–¹æ³•å(MultipartFile å‰ç«¯ä¸Šä¼ çš„æ–‡ä»¶åç§°)<br><img src="https://img-blog.csdnimg.cn/dee0540b7de5467ea6695e058a833b7f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/b0f446d645654cd89577b9ba0a369f34.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ‰€ä»¥åç«¯çš„æ¥æ”¶åå­—ä¹Ÿå¾—æ”¹ä¸ºfile<br><img src="https://img-blog.csdnimg.cn/8d04a387872f43f199fadcd1d2c79090.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ä¸Šä¼ é€»è¾‘å®ç°"><a href="#ä¸Šä¼ é€»è¾‘å®ç°" class="headerlink" title="ä¸Šä¼ é€»è¾‘å®ç°"></a>ä¸Šä¼ é€»è¾‘å®ç°</h3><p>å…·ä½“çš„å­˜å‚¨è·¯å¾„å†™åœ¨é…ç½®æ–‡ä»¶é‡Œäº†<br><img src="https://img-blog.csdnimg.cn/57186bd868ce4e8fadf0090dd495c9ce.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç”¨@Valueæ³¨å…¥åˆ°ä¸šåŠ¡é‡Œå°±å¯ä»¥äº†<br><img src="https://img-blog.csdnimg.cn/8e10ef4ade02405d86215df5653076f7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å…·ä½“ä½ç½®åœ¨ <code>com.cc.controller.CommonController (upLoadFile)</code></p><h3 id="ä¸‹è½½é€»è¾‘"><a href="#ä¸‹è½½é€»è¾‘" class="headerlink" title="ä¸‹è½½é€»è¾‘"></a>ä¸‹è½½é€»è¾‘</h3><p><img src="https://img-blog.csdnimg.cn/9748d9f84a224b329f2035afcf31091d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>&#x3D;&#x3D;å›¾ç‰‡å›æ˜¾åŠŸèƒ½&#x3D;&#x3D;<br>ç”¨åˆ°äº†è¾“å…¥è¾“å‡ºæµ<br>ä½ç½®ï¼š<code>com.cc.controller.CommonController (fileDownload)</code></p><h1 id="èœå“ç®¡ç†é¡µé¢"><a href="#èœå“ç®¡ç†é¡µé¢" class="headerlink" title="èœå“ç®¡ç†é¡µé¢"></a>èœå“ç®¡ç†é¡µé¢</h1><h2 id="æ–°å¢èœå“"><a href="#æ–°å¢èœå“" class="headerlink" title="æ–°å¢èœå“"></a>æ–°å¢èœå“</h2><h3 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="headerlink" title="éœ€æ±‚åˆ†æ"></a>éœ€æ±‚åˆ†æ</h3><p><img src="https://img-blog.csdnimg.cn/307c50613cf9427eb8af9ca1edf35f10.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ¶‰åŠè¡¨ä¸ºdishå’Œdish_flavor<br><img src="https://img-blog.csdnimg.cn/2bee4656682c429093d0b487f7453028.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¼€å‘é€»è¾‘<br><img src="https://img-blog.csdnimg.cn/0c69f61ce4e84e87b2f70cef256a597c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="æ–°å¢å®ç°"><a href="#æ–°å¢å®ç°" class="headerlink" title="æ–°å¢å®ç°"></a>æ–°å¢å®ç°</h3><p>ç”±äºæ˜¯å¤šè¡¨çš„æ“ä½œï¼ŒMPç›´æ¥å¹²è‚¯å®šä¸è¡Œï¼Œæ‰€ä»¥å°±æŠŠserviceå±‚æŠ½ç¦»å‡ºæ¥è¿›è¡Œå¤„ç†</p><p>è¿˜æœ‰ï¼Œå› ä¸ºæ¶‰åŠä¸¤å¼ è¡¨ï¼Œè¿™é‡Œè¿˜è¦åŠ å…¥äº‹åŠ¡è¿›è¡Œæ§åˆ¶ï¼Œé˜²æ­¢å¤šè¡¨æ“ä½œå´©æºƒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¤šè¡¨æ“ä½œåªèƒ½ä¸€ä¸ªä¸€ä¸ªæ¥ï¼ŒMPæ²¡æœ‰åŠæ³•ä¸€æ¬¡æ€§æ“ä½œå¤šå¼ è¡¨</span><br><span class="line">å› ä¸ºæ¶‰åŠåˆ°å¤šè¡¨çš„é—®é¢˜ï¼Œæ‰€ä»¥è¿˜è¦åŠ å…¥æ³¨è§£æ¥å¤„ç†äº‹åŠ¡</span><br><span class="line"><span class="meta">@Transactional</span> å¼€å¯äº‹åŠ¡</span><br><span class="line"><span class="meta">@EnableTransactionManagement</span> åœ¨å¯åŠ¨ç±»åŠ å…¥ï¼Œæ”¯æŒäº‹åŠ¡å¼€å¯</span><br></pre></td></tr></table></figure><p>Controllerä½ç½®ï¼š<code>com.cc.controller.DishController (addDish)</code><br>Serviceä½ç½®ï¼š<code>com.cc.service.DishService </code><br>ServiceImplä½ç½®ï¼š<code>com.cc.service.impl.DishServiceImpl (addDishWithFlavor)</code></p><h3 id="æ–°å¢èœå“ä¹‹è·å–èœå“ç§ç±»"><a href="#æ–°å¢èœå“ä¹‹è·å–èœå“ç§ç±»" class="headerlink" title="æ–°å¢èœå“ä¹‹è·å–èœå“ç§ç±»"></a>æ–°å¢èœå“ä¹‹è·å–èœå“ç§ç±»</h3><p><img src="https://img-blog.csdnimg.cn/260620e272564731a10cf74b24d47b95.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä»å‰ç«¯æ¥æ”¶ä¸€ä¸ªtype&#x3D;1çš„æ ‡æ³¨ï¼Œç›®çš„æ˜¯åœ¨åˆ†ç±»è¡¨ä¸­ï¼Œèœå“åˆ†ç±»æ˜¯1ï¼Œå¥—é¤åˆ†ç±»æ˜¯2ï¼ŒæŠŠäºŒè€…åŒºåˆ†å¼€ï¼Œè·å–æ‰€æœ‰çš„èœå“ç±»å‹<br><img src="https://img-blog.csdnimg.cn/c139415e958e4a4d81a9687d3f04a524.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä½ç½®ï¼š<code>com.cc.controller.CategoryController ï¼ˆlistCategoryï¼‰</code></p><h3 id="èœå“åˆ†é¡µ"><a href="#èœå“åˆ†é¡µ" class="headerlink" title="èœå“åˆ†é¡µ"></a>èœå“åˆ†é¡µ</h3><p>é¡ºæ‰‹æŠŠèœå“åˆ†é¡µä¹Ÿåšäº†ï¼Œä¸å†™å¤ªå¤šäº†ï¼Œä½ç½®åœ¨ï¼š<code>com.cc.controller.CategoryController ï¼ˆdishPageï¼‰</code><br>è®°å½•ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œå¦‚æœè¯´åç«¯æ²¡æœ‰ç±»å’Œå‰ç«¯è¦çš„æ•°æ®å¯¹åº”ï¼Œé‚£ä¹ˆè‡ªå·±å°±å¯ä»¥å°è£…ä¸€ä¸ªç±»æ¥å¯¹å‰ç«¯ç‰¹æ®Šéœ€è¦çš„æ•°æ®è¿›è¡Œå°è£…</p><h2 id="DTOå¯¹è±¡"><a href="#DTOå¯¹è±¡" class="headerlink" title="DTOå¯¹è±¡"></a>DTOå¯¹è±¡</h2><p>è¿™ä¸ªç±»å¯ä»¥æ˜¯å¯¹ä¸€äº›å®ä½“ç±»è¿›è¡Œæ‰©å±•ï¼Œç»§æ‰¿äºæŸä¸ªçˆ¶ç±»ï¼Œå†æ·»åŠ ä¸€äº›å†…å®¹<br>æ¯”å¦‚Dishå’ŒDishDto<br>DishDtoå°±ç»§æ‰¿äºDishç±»ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œäº†æ‰©å±•<br><img src="https://img-blog.csdnimg.cn/c20e2473b88b49f684764ddab99f9cfb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/a365d359125f498799f4b96a8e43fd0a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="æ›´æ–°èœå“ä¿¡æ¯"><a href="#æ›´æ–°èœå“ä¿¡æ¯" class="headerlink" title="æ›´æ–°èœå“ä¿¡æ¯"></a>æ›´æ–°èœå“ä¿¡æ¯</h2><p>å°±æ˜¯ä¸ªupdate<br><img src="https://img-blog.csdnimg.cn/e48ab4407978498d8321be25c5da40a0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é€»è¾‘<br><img src="https://img-blog.csdnimg.cn/31c8e202fea94bcf8a775644996a6cc5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ³¨æ„ï¼Œè¿™é‡Œå›æ˜¾æ•°æ®æ˜¯è¦ç”¨DishDtoï¼Œå› ä¸ºå‰ç«¯è¦æ˜¾ç¤ºå£å‘³ç­‰ä¿¡æ¯ï¼Œè¿™é‡Œå¦‚æœç”¨Dishæ˜¯æ— æ³•å®Œç¾æ˜¾ç¤ºçš„ï¼Œæ‰€ä»¥è¦ç”¨DishDto</p><h3 id="å›æ˜¾å¡«å……æŸ¥è¯¢"><a href="#å›æ˜¾å¡«å……æŸ¥è¯¢" class="headerlink" title="å›æ˜¾å¡«å……æŸ¥è¯¢"></a>å›æ˜¾å¡«å……æŸ¥è¯¢</h3><p><img src="https://img-blog.csdnimg.cn/7fd4eb56b06542b490e056bc8989a12c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿™æ˜¯ä¸ªå¤šè¡¨è”æŸ¥ï¼Œç”¨MPè‚¯å®šä¸è¡Œï¼Œå¾—è‡ªå·±å†™<br>Controllerä½ç½®ï¼š<code>com.cc.controller.DishController (updateDish)</code><br>Serviceä½ç½®ï¼š<code>com.cc.service.DishService </code><br>ServiceImplä½ç½®ï¼š<code>com.cc.service.impl.DishServiceImpl</code></p><h3 id="æ›´æ–°å®ç°"><a href="#æ›´æ–°å®ç°" class="headerlink" title="æ›´æ–°å®ç°"></a>æ›´æ–°å®ç°</h3><p>å®é™…ä¸Šå°±æ˜¯ä¸¤ä¸ªè¡¨è”åŠ¨æ›´æ–°å’Œåˆ é™¤æ“ä½œï¼Œæ‰€ä»¥MPç›´æ¥æ“ä½œæ˜¯ä¸å¯ä»¥çš„ï¼Œæ‰€ä»¥è¦åœ¨Serviceå±‚è‡ªå·±å†å°è£…ä¸€ä¸ªåˆ é™¤æ–¹æ³•ï¼Œç»™Controllerå±‚è°ƒç”¨åˆ é™¤å°±è¡Œ<br>å¯¹äºDishå¯¹è±¡å¯ä»¥ç›´æ¥è¿›è¡Œæ›´æ–°ï¼Œå› ä¸ºDishDtoæ˜¯Dishçš„å­ç±»<br>å› æ­¤å¯ä»¥è°ƒç”¨DishServiceçš„updateæ–¹æ³•ä¼ å…¥DishDtoå¯¹è±¡ï¼Œæ¥å®ç°Dishçš„æ›´æ–°<br>Controllerä½ç½®ï¼š<code>com.cc.controller.DishController (updateDish)</code> ç¡®å®å’Œä¸Šé¢é‚£ä¸ªä¸€æ ·ï¼Œå› ä¸ºè¯·æ±‚æ–¹å¼ä¸ä¸€æ ·<br>Serviceä½ç½®ï¼š<code>com.cc.service.DishService </code><br>ServiceImplä½ç½®ï¼š<code>com.cc.service.impl.DishServiceImpl (updateDishWithFlavor)</code></p><h3 id="å…¶ä»–åŠŸèƒ½"><a href="#å…¶ä»–åŠŸèƒ½" class="headerlink" title="å…¶ä»–åŠŸèƒ½"></a>å…¶ä»–åŠŸèƒ½</h3><p>å®Œæˆä¸€äº›å°åŠŸèƒ½çš„å¼€å‘<br><img src="https://img-blog.csdnimg.cn/b4b59c021748427c87fa6edc48619920.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="åœå”®åŠŸèƒ½"><a href="#åœå”®åŠŸèƒ½" class="headerlink" title="åœå”®åŠŸèƒ½"></a>åœå”®åŠŸèƒ½</h4><p>å°±æ˜¯æŠŠæ•°æ®åº“çš„statuså€¼æ›´æ–°ä¸€ä¸‹ï¼Œä¸¤ä¸ªè·¯å¾„ï¼Œä¸€ä¸ªå¯å”®ï¼Œä¸€ä¸ªåœå”®<br><img src="https://img-blog.csdnimg.cn/f1da740301ed403399148b6d9afb31f5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœå”®è¯·æ±‚è·¯å¾„<br><img src="https://img-blog.csdnimg.cn/2969987e765b4a8e8b4fd71b772bcfa0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¦‚æœçŠ¶æ€ä¸ä¸€æ ·äº†ï¼Œä¼šä»åœå”®å˜æˆå¯å”®ï¼ŒåŒæ—¶å¯¹åº”çš„è¯·æ±‚è·¯å¾„ä¹Ÿä¸ä¸€æ ·<br><img src="https://img-blog.csdnimg.cn/335331ee558541e089128ff2b36faa6e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/f3b5006617a144c2a50cf48e91daf7db.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>Controllerä½ç½®ï¼š<code>com.cc.controller.DishController (updateStatusStop)</code>åœæ­¢<br>Controllerä½ç½®ï¼š<code>com.cc.controller.DishController (updateStatusStart)</code>å¯åŠ¨</p><h4 id="åˆ é™¤åŠŸèƒ½"><a href="#åˆ é™¤åŠŸèƒ½" class="headerlink" title="åˆ é™¤åŠŸèƒ½"></a>åˆ é™¤åŠŸèƒ½</h4><p><img src="https://img-blog.csdnimg.cn/2e291e2e9a5941dbafb90caed4c894a2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>èœå“åˆ é™¤åŠŸèƒ½<br>å®Œæˆé€»è¾‘åˆ é™¤ï¼Œä¸æ˜¯çœŸåˆ <br><img src="https://img-blog.csdnimg.cn/2b84f5bc3cd54e1997a87f5768f0b48a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä½ç½®ï¼š<br>Controllerä½ç½®ï¼š<code>com.cc.controller.DishController (deleteDish)</code>åœæ­¢</p><h1 id="å¥—é¤é¡µé¢"><a href="#å¥—é¤é¡µé¢" class="headerlink" title="å¥—é¤é¡µé¢"></a>å¥—é¤é¡µé¢</h1><p>å®é™…ä¸Šå°±æ˜¯ä¸€ç»„èœå“çš„é›†åˆ</p><h2 id="æ–°å¢å¥—é¤æ¦‚è¿°"><a href="#æ–°å¢å¥—é¤æ¦‚è¿°" class="headerlink" title="æ–°å¢å¥—é¤æ¦‚è¿°"></a>æ–°å¢å¥—é¤æ¦‚è¿°</h2><p>æ¶‰åŠåˆ°çš„æ•°æ®åº“<br><img src="https://img-blog.csdnimg.cn/490ee26fc870424092c6f06b3b637de2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/6ab0bc680c2d40d48da71becdf139330.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/458f7e16da474362ad0f5b49656bdc06.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯¼å…¥SetmealDto<br><img src="https://img-blog.csdnimg.cn/9f5bd7dfcecc4c5a95d3ce1a48358980.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/0bb88c91dfba4c759e8cca3eb574682e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="æ–°å¢å¥—é¤ä¹‹èœå“åˆ—è¡¨"><a href="#æ–°å¢å¥—é¤ä¹‹èœå“åˆ—è¡¨" class="headerlink" title="æ–°å¢å¥—é¤ä¹‹èœå“åˆ—è¡¨"></a>æ–°å¢å¥—é¤ä¹‹èœå“åˆ—è¡¨</h2><p><img src="https://img-blog.csdnimg.cn/7b242922f194454cbce663c939c19fe8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/fd6a01bbfbee43a1b7ff6b420815ef7f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>Controllerä½ç½®ï¼š<code>com.cc.controller.DishController (listCategory)</code></p><h2 id="æ–°å¢å¥—é¤å®ç°"><a href="#æ–°å¢å¥—é¤å®ç°" class="headerlink" title="æ–°å¢å¥—é¤å®ç°"></a>æ–°å¢å¥—é¤å®ç°</h2><p>å’Œæ–°å¢èœå“å·®ä¸å¤šï¼Œè¿™é‡Œä¹Ÿæ˜¯å¤šè¡¨çš„æ“ä½œ<br>Controllerä½ç½®ï¼š<code>com.cc.controller.SetmealController (saveSetmeal)</code><br>Serviceä½ç½®ï¼š<code>com.cc.service.SetmealService</code><br>ServiceImplä½ç½®ï¼š<code>com.cc.service.impl.SetmealServiceImpl(saveWithDish)</code></p><h2 id="å¥—é¤åˆ†é¡µ"><a href="#å¥—é¤åˆ†é¡µ" class="headerlink" title="å¥—é¤åˆ†é¡µ"></a>å¥—é¤åˆ†é¡µ</h2><p>è¿™é‡Œçš„å¥—é¤åˆ†é¡µå’Œä»¥å¾€ä¸åŒï¼Œè®¾è®¡åˆ°äº†å¤šè¡¨å†…å®¹<br><img src="https://img-blog.csdnimg.cn/28b34889b2e4467c9e3e4a79aa3d2d18.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¥—é¤åˆ†é¡µControllerä½ç½®ï¼š<code>com.cc.controller.SetmealController.pageList</code><br>å¥—é¤Mapperæ¥å£ä½ç½®ï¼š<code>com.cc.mapper.SetmealMapper</code><br>Mapperæ–‡ä»¶ä½ç½®ï¼š<code>resource.mapper.SetmealMapper</code><br><img src="https://img-blog.csdnimg.cn/a02a17ef6b8648a59e2b90ef9ec70a3f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="æ›´æ–°å¥—é¤"><a href="#æ›´æ–°å¥—é¤" class="headerlink" title="æ›´æ–°å¥—é¤"></a>æ›´æ–°å¥—é¤</h2><p>æ·»åŠ å¥—é¤å’Œæ›´æ–°å¥—é¤æ˜¯å‡ ä¹å®Œå…¨ä¸€è‡´çš„ï¼Œå­—æ®µå·´æ‹‰å·´æ‹‰çš„éƒ½ä¸€æ ·<br><img src="https://img-blog.csdnimg.cn/5bf7c40f7b9147b7a093da18ae860952.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä½†æ˜¯æ³¨æ„ï¼Œä¿®æ”¹å¥—é¤çš„è¯ï¼Œéœ€è¦å…ˆå¯¹èœå“é¡µé¢è¿›è¡Œå¡«å……ï¼Œè¿™ä¸€é¡µéƒ½æ˜¯éœ€è¦å¡«å……æ»¡è¦ä¿®æ”¹çš„èœå“ä¿¡æ¯çš„ã€‚<img src="https://img-blog.csdnimg.cn/07c01da9636d4643acea8689f2579f82.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å…ˆå‘è¯·æ±‚ï¼Œä¸€çœ‹å°±æ˜¯Restfulé£æ ¼è¯·æ±‚<br><img src="https://img-blog.csdnimg.cn/cb797ab490434dd2ad5de3e282e3f4c4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è·å–å¥—é¤Controllerä½ç½®ï¼š<code>com.cc.controller.SetmealController.getSetmal</code></p><h2 id="æ›´æ–°é”€å”®çŠ¶æ€"><a href="#æ›´æ–°é”€å”®çŠ¶æ€" class="headerlink" title="æ›´æ–°é”€å”®çŠ¶æ€"></a>æ›´æ–°é”€å”®çŠ¶æ€</h2><p><img src="https://img-blog.csdnimg.cn/53db02cdb6fd4574b2471bdaf7825d78.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/f2158ec7d2924b2eb17e2ef7b92fc6f3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å’Œä¹‹å‰ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å¾ˆåƒï¼Œä¸æƒ³å¤šèµ˜è¿°äº†ï¼Œç›´æ¥æ”¾æ¥å£ä½ç½®<br><img src="https://img-blog.csdnimg.cn/bb10511b3fd14b398095865065700680.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">Controllerä½ç½®ï¼š<code>com.cc.controller.SetmealController (startSale/stopSale)</code></p><h2 id="åˆ é™¤å¥—é¤"><a href="#åˆ é™¤å¥—é¤" class="headerlink" title="åˆ é™¤å¥—é¤"></a>åˆ é™¤å¥—é¤</h2><p>å¯ä»¥å•ç‹¬åˆ ï¼Œä¹Ÿå¯ä»¥æ‰¹é‡åˆ ï¼Œæ¥å£æ˜¯ä¸‡é‡‘æ²¹ï¼Œéƒ½èƒ½æ¥ï¼Œä¸»è¦çœ‹ä¼ æ¥çš„æ•°æ®æ˜¯å‡ ä¸ª<br><img src="https://img-blog.csdnimg.cn/734b880bdf304e70bb9376ecebcd3d15.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/730459957d464af3827df49084205353.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ¥å£<br><img src="https://img-blog.csdnimg.cn/678ea2f5eb194625a05567061bba5ad0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>&#x3D;&#x3D; å¤šè¡¨åˆ é™¤ï¼Œåœ¨Controllerç›´æ¥å®ç°ä¸å¤ªç°å®ï¼Œæ‰€ä»¥è¦åœ¨ServiceæŠŠä¸šåŠ¡å†™å¥½&#x3D;&#x3D;<br>Controllerä½ç½®ï¼š<code>com.cc.controller.SetmealController (deleteSetmeal)</code><br>Serviceä½ç½®ï¼š<code>com.cc.service.SetmealService</code><br>ServiceImplä½ç½®ï¼š<code>com.cc.service.impl.SetmealServiceImpl(removeWithDish)</code><br><img src="https://img-blog.csdnimg.cn/bb4351bafe314861b6c775620f39641e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="å‰å°å¼€å‘ï¼ˆæ‰‹æœºç«¯ï¼‰"><a href="#å‰å°å¼€å‘ï¼ˆæ‰‹æœºç«¯ï¼‰" class="headerlink" title="å‰å°å¼€å‘ï¼ˆæ‰‹æœºç«¯ï¼‰"></a>å‰å°å¼€å‘ï¼ˆæ‰‹æœºç«¯ï¼‰</h1><h1 id="è´¦æˆ·ç™»é™†"><a href="#è´¦æˆ·ç™»é™†" class="headerlink" title="è´¦æˆ·ç™»é™†"></a>è´¦æˆ·ç™»é™†</h1><h2 id="çŸ­ä¿¡å‘é€"><a href="#çŸ­ä¿¡å‘é€" class="headerlink" title="çŸ­ä¿¡å‘é€"></a>çŸ­ä¿¡å‘é€</h2><p><img src="https://img-blog.csdnimg.cn/6db71e2024264927a59a3ae59bca5890.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/56cadd94e4de4536aec20ff921842039.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><a href="https://blog.csdn.net/qq_55106682/article/details/121920826">é˜¿é‡Œäº‘çŸ­ä¿¡ä¸šåŠ¡æ•™ç¨‹</a></p><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p><a href="https://help.aliyun.com/document_detail/112148.html">å®˜æ–¹æ–‡æ¡£åœ°å€</a><br>å¯¼å…¥Maven</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;com.aliyun&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;aliyun-java-sdk-core&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.5</span><span class="number">.16</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.aliyun&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;aliyun-java-sdk-dysmsapi&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">1.1</span><span class="number">.0</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/ca8d01eaf61a485a9e0edae0c0307c3a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯¼å…¥çŸ­ä¿¡ç™»é™†çš„å·¥å…·ç±»ï¼ŒæŠŠACCESSKeyIDå’ŒSecretæ›´æ¢åˆ°ä½å°±è¡Œ<br><img src="https://img-blog.csdnimg.cn/fab29b651545452b8aaf515717a3244d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="éªŒè¯ç å‘é€"><a href="#éªŒè¯ç å‘é€" class="headerlink" title="éªŒè¯ç å‘é€"></a>éªŒè¯ç å‘é€</h2><p>æ•°æ®æ¨¡å‹userè¡¨ï¼Œæ‰‹æœºéªŒè¯ç ä¸“ç”¨çš„è¡¨<br><img src="https://img-blog.csdnimg.cn/582420e32f9449699765ad9db8f665bc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¼€å‘æµç¨‹<br><img src="https://img-blog.csdnimg.cn/03e0ad86bbda4229b8985e6644e2e5f7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¿®æ”¹æ‹¦æˆªå™¨ï¼Œæ”¾è¡Œæ“ä½œ<br><img src="https://img-blog.csdnimg.cn/2c136ec0905248328f25be7e137b2da0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/15b21dad09be44bfa030984f5f4c1731.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>controllerä½ç½®ï¼š<code>com.cc.controller.UserController ï¼ˆsendMsgï¼‰</code><br>å‘é€å®Œè¿˜éœ€è¦éªŒè¯ï¼ŒéªŒè¯å°±æ˜¯å¦ä¸€ä¸ªloginäº†</p><h2 id="ç”¨æˆ·ç™»é™†"><a href="#ç”¨æˆ·ç™»é™†" class="headerlink" title="ç”¨æˆ·ç™»é™†"></a>ç”¨æˆ·ç™»é™†</h2><p><img src="https://img-blog.csdnimg.cn/16f3f2b8f68948b0b4f2e01133adc6ce.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>controllerä½ç½®ï¼š<code>com.cc.controller.UserController ï¼ˆloginï¼‰</code><br>è¿™é‡Œç™»é™†è¿˜æ¶‰åŠåˆ°è¿‡æ»¤å™¨æ”¾è¡Œçš„åŠŸèƒ½ï¼Œä¸è¦å¿˜è®°äº†ï¼ŒæŠŠç”¨æˆ·idå­˜å…¥sessionï¼Œè¿‡æ»¤å™¨ä¼šè¿›è¡ŒéªŒè¯<br>è¿‡æ»¤å™¨<br><img src="https://img-blog.csdnimg.cn/16d1b1cf6fa54b408d9b5bcd495962f5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>controller<br><img src="https://img-blog.csdnimg.cn/7da50768c0b043f3a9a5f3dbce6915c1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="å‰å°é¡µé¢"><a href="#å‰å°é¡µé¢" class="headerlink" title="å‰å°é¡µé¢"></a>å‰å°é¡µé¢</h1><h2 id="å¯¼å…¥ç”¨æˆ·åœ°å€ç°¿"><a href="#å¯¼å…¥ç”¨æˆ·åœ°å€ç°¿" class="headerlink" title="å¯¼å…¥ç”¨æˆ·åœ°å€ç°¿"></a>å¯¼å…¥ç”¨æˆ·åœ°å€ç°¿</h2><p><img src="https://img-blog.csdnimg.cn/732d6d4d8bba4911b903055d7a2003cf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ°å€è¡¨<br><img src="https://img-blog.csdnimg.cn/e45d3cd4c91e4619a21a3342d4683508.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™é‡Œç›´æ¥å¯¼å…¥ç°æˆçš„AddressBookControllerï¼Œæ²¡æœ‰è‡ªå·±å†™</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.cc.controller.AddressBookController</span><br></pre></td></tr></table></figure><h2 id="èœå“å±•ç¤º"><a href="#èœå“å±•ç¤º" class="headerlink" title="èœå“å±•ç¤º"></a>èœå“å±•ç¤º</h2><p>é€»è¾‘æ¢³ç†<br><img src="https://img-blog.csdnimg.cn/db2983fb1a8a46bc85f4836dae41a24c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/c7e3567ea3f94b718e33ba680e573121.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¿®æ”¹DishControllerçš„listæ–¹æ³•ï¼Œæ¥ç¬¦åˆå‰å°è¯·æ±‚çš„è¦æ±‚<br>controllerä½ç½®ï¼š<code>com.cc.controller.DishController ï¼ˆlistCategoryï¼‰</code><br>å¥—é¤å†…èœå“Controllerï¼š<code>com.cc.controller.SetmealController ï¼ˆlistï¼‰</code></p><h2 id="è´­ç‰©è½¦"><a href="#è´­ç‰©è½¦" class="headerlink" title="è´­ç‰©è½¦"></a>è´­ç‰©è½¦</h2><p>æŠŠèœå“åŠ å…¥è´­ç‰©è½¦<br><img src="https://img-blog.csdnimg.cn/159ef74addd64f60bfa9d9a44bf22d64.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/3b7b1d5d90d949cb94c6c4f77a2f9d96.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é€»è¾‘æ¢³ç†<br><img src="https://img-blog.csdnimg.cn/48b1358d65a8418689ada067bc6fbdd2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ³¨æ„ï¼Œè¿™é‡Œä¸éœ€è¦åç«¯å»ç®¡æ€»ä»·çš„è®¡ç®—ï¼Œå°±æ˜¯å•ä»·*æ•°é‡çš„è¿™ä¸ªæ“ä½œï¼Œä¸æ˜¯åç«¯çš„å†…å®¹ã€‚å‰ç«¯åœ¨å±•ç¤ºçš„æ—¶å€™è‡ªå·±å°±è®¡ç®—äº†ã€‚<br>ä½ç½®ï¼š<code>com.cc.controller.ShoppingCartController ï¼ˆaddï¼‰</code></p><h2 id="ä¸‹å•"><a href="#ä¸‹å•" class="headerlink" title="ä¸‹å•"></a>ä¸‹å•</h2><p><img src="https://img-blog.csdnimg.cn/37b2f6bb4b2e4d82942e38ceea4bbc78.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯¹åº”çš„ä¸¤ä¸ªè¡¨ï¼Œä¸€ä¸ªæ˜¯ordersè¡¨ï¼Œå¦ä¸€ä¸ªæ˜¯orders_detailè¡¨</p><p>ordersè¡¨<br><img src="https://img-blog.csdnimg.cn/37f1f4d9aec2474ab3578ad01062abf9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>orders_detailè¡¨<br><img src="https://img-blog.csdnimg.cn/d07d325b341841e787117d1f12d727e0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>äº¤äº’æµç¨‹<br><img src="https://img-blog.csdnimg.cn/04bfdd8093cb41f7956332bb1561e12f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸šåŠ¡æ¯”è¾ƒå¤æ‚ï¼Œåœ¨Serviceé‡Œå†™çš„ <code>com.cc.service.impl.OrdersServiceImpl</code></p><p>è‡³æ­¤åŸºç¡€éƒ¨åˆ†å®Œæˆï¼Œå¼€å§‹å¯¹é¡¹ç›®æ€§èƒ½è¿›è¡Œä¼˜åŒ–</p><h1 id="å°çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#å°çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="å°çŸ¥è¯†ç‚¹æ€»ç»“"></a>å°çŸ¥è¯†ç‚¹æ€»ç»“</h1><h3 id="RequestBodyçš„ä½¿ç”¨"><a href="#RequestBodyçš„ä½¿ç”¨" class="headerlink" title="@RequestBodyçš„ä½¿ç”¨"></a>@RequestBodyçš„ä½¿ç”¨</h3><p>åªæœ‰ä¼ æ¥çš„å‚æ•°æ˜¯Jsonæ‰èƒ½ç”¨RequestBodyæ¥æ”¶ï¼Œå¦‚æœä¸æ˜¯Jsonçš„æƒ…å†µï¼ˆæ¯”å¦‚é‚£ç§ï¼Ÿkey&#x3D;value&amp;key&#x3D;valueï¼‰æ˜¯ä¸å¯ä»¥ç”¨çš„ï¼Œä¼š400é”™è¯¯<br><a href="https://blog.csdn.net/weixin_44062380/article/details/116103642">å…³äºRequestBodyä½•æ—¶ä½¿ç”¨</a></p><h1 id="ç¼“å­˜ä¼˜åŒ–"><a href="#ç¼“å­˜ä¼˜åŒ–" class="headerlink" title="ç¼“å­˜ä¼˜åŒ–"></a>ç¼“å­˜ä¼˜åŒ–</h1><p>åŸºäºRedisè¿›è¡Œç¼“å­˜ä¼˜åŒ–<br><img src="https://img-blog.csdnimg.cn/017c0aab4eb345d68ba9a5a309e78c7a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="Redisè¿›è¡Œé…ç½®"><a href="#Redisè¿›è¡Œé…ç½®" class="headerlink" title="Redisè¿›è¡Œé…ç½®"></a>Redisè¿›è¡Œé…ç½®</h3><p>åŠ å…¥Pomæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¯¼å…¥Redisä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åŠ å…¥Redisé…ç½®ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> <span class="keyword">extends</span> <span class="title class_">CachingConfigurerSupport</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;Object, Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory connectionFactory)</span> &#123;</span><br><span class="line">        RedisTemplate&lt;Object, Object&gt; redisTemplate = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//é»˜è®¤çš„Keyåºåˆ—åŒ–å™¨ä¸ºï¼šJdkSerializationRedisSerializer</span></span><br><span class="line">        redisTemplate.setKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        redisTemplate.setConnectionFactory(connectionFactory);</span><br><span class="line">        <span class="keyword">return</span> redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ymlä¸­åŠ å…¥é…ç½®<br><img src="https://img-blog.csdnimg.cn/a737f91d8934469ca405f2acf279272d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="çŸ­ä¿¡éªŒè¯ç ã€ç™»é™†ä¼˜åŒ–"><a href="#çŸ­ä¿¡éªŒè¯ç ã€ç™»é™†ä¼˜åŒ–" class="headerlink" title="çŸ­ä¿¡éªŒè¯ç ã€ç™»é™†ä¼˜åŒ–"></a>çŸ­ä¿¡éªŒè¯ç ã€ç™»é™†ä¼˜åŒ–</h2><p>ç»™éªŒè¯ç åŠ å…¥æœ‰æ•ˆæ—¶é—´çš„éªŒè¯ï¼Œè®¾ç½®å¥½çŸ­ä¿¡éªŒè¯ç çš„æœ‰æ•ˆæ—¶é—´<br><img src="https://img-blog.csdnimg.cn/dd9f7fcb4dd948b380008dd1d769e535.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¦‚æœç™»é™†æˆåŠŸï¼Œå°±è‡ªåŠ¨åˆ é™¤ç¼“å­˜ä¸­çš„éªŒè¯ç <br>ä¼˜åŒ–ä½ç½®ï¼šcom.cc.controller.UserController sendMsgå’Œlogin<br>æ³¨å…¥RedisTemplete<br><img src="https://img-blog.csdnimg.cn/e881a9dc80a740aab43c8bc30f45a91f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é’ˆå¯¹éªŒè¯ç è¿›è¡Œä¼˜åŒ–<br><img src="https://img-blog.csdnimg.cn/4139a4aebf384f8e958f0587c7fe4acb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é’ˆå¯¹ç™»å½•åè¿›è¡Œä¼˜åŒ–<br>loginæ–¹æ³•ä¸­<br><img src="https://img-blog.csdnimg.cn/ccc12a60c924407bb8c859aa66b61c38.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/24b7a6e20b7840e1a868dea4be2f0787.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™é‡Œè¿‡æ»¤å™¨ä¹Ÿè¦æ”¹ï¼Œå› ä¸ºç™»é™†çš„idæ•°æ®ç”±sessionå˜æˆäº†rediså­˜æ”¾ï¼Œæ‰€ä»¥è¦æŠŠè¿‡æ»¤å™¨çš„ç›¸å…³éƒ¨åˆ†è¿›è¡Œæ”¹é€ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.cc.filter.LoginCheckFilter</span><br></pre></td></tr></table></figure><p>åŒæ ·è¦å…ˆæ³¨å…¥RedisTemplate<br><img src="https://img-blog.csdnimg.cn/bb4030b56bd64c6dbdc5633c67e4bbfb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="ç¼“å­˜å‰å°èœå“æ•°æ®"><a href="#ç¼“å­˜å‰å°èœå“æ•°æ®" class="headerlink" title="ç¼“å­˜å‰å°èœå“æ•°æ®"></a>ç¼“å­˜å‰å°èœå“æ•°æ®</h2><p><img src="https://img-blog.csdnimg.cn/32925b5c084942ecb5f5f9aa153a6d96.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç¼“å­˜æ€è·¯ï¼Œè¦ä¿è¯ç¼“å­˜æ•°æ®åº“å’ŒDBMSå†…çš„æ•°æ®ä¿æŒåŒæ­¥ï¼Œé¿å…è¯»åˆ°è„æ•°æ®ï¼ˆæ²¡æ›´æ–°çš„æ•°æ®ï¼‰<br><img src="https://img-blog.csdnimg.cn/ed16b6270e734adaaf78058373894604.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯¹DishControllerè¿›è¡Œä¼˜åŒ–ï¼ŒåŠ å…¥äº†ç¼“å­˜<br>å†æ¬¡è®¿é—®å¯ä»¥å‘ç°ï¼Œå¦‚æœå·²ç»ç¼“å­˜è¿‡äº†å½“å‰çš„èœå“åˆ†ç±»ï¼Œå°±ä¸ä¼šå†æŸ¥æ•°æ®åº“äº†</p><h3 id="æ›´æ–°èœå“åŒæ—¶æ›´æ–°ç¼“å­˜"><a href="#æ›´æ–°èœå“åŒæ—¶æ›´æ–°ç¼“å­˜" class="headerlink" title="æ›´æ–°èœå“åŒæ—¶æ›´æ–°ç¼“å­˜"></a>æ›´æ–°èœå“åŒæ—¶æ›´æ–°ç¼“å­˜</h3><p>ä¿è¯å°‘å‡ºç°è„æ•°æ®ï¼Œæ‰€ä»¥åŠ å…¥æ¸…ç†ç¼“å­˜ï¼Œä¸åŠæ—¶æ¸…ç†çš„è¯ï¼Œæ–°æ•°æ®ä¿å­˜ä¸Šæ¥ï¼Œåˆ—è¡¨æ•°æ®åº“æ— æ³•åŒæ­¥æ›´æ–°ã€‚å°±ä¼šå‡ºç°é—®é¢˜ã€‚<br>è¿™é‡Œæ¸…ç†ç²¾ç¡®æ•°æ®ã€‚å¤§é¢ç§¯æ¸…ç¼“å­˜ä¹Ÿæ˜¯æ¯”è¾ƒè´¹æ€§èƒ½çš„<br>&#x3D;&#x3D;è¿™ç§å°±æ˜¯å…¨æ¸…ç†&#x3D;&#x3D;<br><img src="https://img-blog.csdnimg.cn/60b7f47bf7d24be0bec55a2309e1f227.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>&#x3D;&#x3D;è¿™ç§æ˜¯ç²¾ç¡®æ¸…ç†&#x3D;&#x3D;<br><img src="https://img-blog.csdnimg.cn/958c3fd2cb824012af93adfd54d4ea24.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="SpringCache"><a href="#SpringCache" class="headerlink" title="SpringCache"></a>SpringCache</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><img src="https://img-blog.csdnimg.cn/a59b7272acce47e98a6bd7505772e071.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="SpringCacheå¸¸ç”¨æ³¨è§£åŠåŠŸèƒ½"><a href="#SpringCacheå¸¸ç”¨æ³¨è§£åŠåŠŸèƒ½" class="headerlink" title="SpringCacheå¸¸ç”¨æ³¨è§£åŠåŠŸèƒ½"></a>SpringCacheå¸¸ç”¨æ³¨è§£åŠåŠŸèƒ½</h3><p><img src="https://img-blog.csdnimg.cn/768c769e2725422f88530feca96d70b8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="å¿«é€Ÿèµ·æ­¥"><a href="#å¿«é€Ÿèµ·æ­¥" class="headerlink" title="å¿«é€Ÿèµ·æ­¥"></a>å¿«é€Ÿèµ·æ­¥</h3><p>å¯åŠ¨ç±»ä¸Šè¦åŠ å…¥ <code>@EnableCaching</code>æ³¨è§£ï¼Œå¯ç”¨ç¼“å­˜æ¡†æ¶<br><img src="https://img-blog.csdnimg.cn/d29b058bff0d4269aa35202a9e35143d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="CachePutæ³¨è§£"><a href="#CachePutæ³¨è§£" class="headerlink" title="@CachePutæ³¨è§£"></a>@CachePutæ³¨è§£</h4><p>ç¼“å­˜æ–¹æ³•è¿”å›å€¼ï¼Œç¼“å­˜ä¸€æ¡æˆ–è€…å¤šæ¡æ•°æ®<br><img src="https://img-blog.csdnimg.cn/0d18d4dcaad54cc7814e3fa1a82ed8c8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="CacheEvictæ³¨è§£"><a href="#CacheEvictæ³¨è§£" class="headerlink" title="@CacheEvictæ³¨è§£"></a>@CacheEvictæ³¨è§£</h4><p>åˆ é™¤ç¼“å­˜<br><img src="https://img-blog.csdnimg.cn/ae87712409804775b614bebb226e8896.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="Cacheableæ³¨è§£"><a href="#Cacheableæ³¨è§£" class="headerlink" title="@Cacheableæ³¨è§£"></a>@Cacheableæ³¨è§£</h4><p>å…ˆçœ‹çœ‹Springæ˜¯å¦å·²ç»ç¼“å­˜äº†å½“å‰æ•°æ®ï¼Œå¦‚æœå·²ç»ç¼“å­˜é‚£ä¹ˆç›´æ¥è¿”å›ã€‚<br>å¦‚æœæ²¡æœ‰ç¼“å­˜å°±ç›´æ¥ç¼“å­˜åˆ°å†…å­˜é‡Œ<br><img src="https://img-blog.csdnimg.cn/c2e3aa34ea3442d894543d105ebb9b41.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œconditionå±æ€§å’ŒUnlesså±æ€§<img src="https://img-blog.csdnimg.cn/ec27f124b8c047e08a8b95af613ed922.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å‰é¢éƒ½æ˜¯ç”¨SpringCacheè‡ªå¸¦çš„ç¼“å­˜å®¹å™¨ï¼Œæ€§èƒ½è‚¯å®šæ¯”ä¸äº†Redis<br>æ‰€ä»¥ç°åœ¨å¼€å§‹å¼•å…¥Redisä½œä¸ºSpringCacheç¼“å­˜çš„äº§å“<br>åˆ‡æ¢ä¸ºRedisä½œä¸ºç¼“å­˜äº§å“</p><h4 id="SpringCache-Redis"><a href="#SpringCache-Redis" class="headerlink" title="SpringCache-Redis"></a>SpringCache-Redis</h4><p><img src="https://img-blog.csdnimg.cn/8dae4993b8494af598d870917e46ba56.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯¼å…¥jaråŒ…<br><img src="https://img-blog.csdnimg.cn/afdfe6133e254348a03303db222f1762.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ³¨å…¥ç›¸å¯¹åº”çš„ç¼“å­˜äº§å“Managerå°±å¯ä»¥äº†ï¼Œè¿™é‡Œä»¥RedisManagerä¸ºä¾‹<br><img src="https://img-blog.csdnimg.cn/69344c2b79044bb7a354d96cb148d495.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="åˆ©ç”¨SpringCache-Redisæ¥ç¼“å­˜å¥—é¤æ•°æ®"><a href="#åˆ©ç”¨SpringCache-Redisæ¥ç¼“å­˜å¥—é¤æ•°æ®" class="headerlink" title="åˆ©ç”¨SpringCache-Redisæ¥ç¼“å­˜å¥—é¤æ•°æ®"></a>åˆ©ç”¨SpringCache-Redisæ¥ç¼“å­˜å¥—é¤æ•°æ®</h2><p><img src="https://img-blog.csdnimg.cn/ffd8677c072d4697971562d1a96134bc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯åŠ¨ç±»ä¸Šè¦åŠ å…¥ <code>@EnableCaching</code>æ³¨è§£ï¼Œå¯ç”¨ç¼“å­˜æ¡†æ¶<br><img src="https://img-blog.csdnimg.cn/d29b058bff0d4269aa35202a9e35143d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åŠ å…¥æ³¨è§£æ—¶çš„å‘<br>è¿™é‡Œç›¸å½“äºæ˜¯ä»Returnä¸­æ‹¿åˆ°Setmealä¸­çš„å±æ€§ï¼Œä½†æ˜¯Returnæ—¶çš„æ•°æ®æ˜¯Resultå°è£…çš„Setmealæ•°æ®ï¼Œæ˜¾ç„¶æ— æ³•å®Œæˆåºåˆ—åŒ–ï¼Œè¿™é‡Œä¹Ÿæ˜¯éœ€è¦å¯¹Resultç±»è¿›è¡Œåºåˆ—åŒ–çš„æ”¹é€ <br><img src="https://img-blog.csdnimg.cn/f1309a8146514e37bb8078ef9b0cc7ca.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç»§æ‰¿åºåˆ—åŒ–ç±»ï¼Œä½¿å…¶å¯ä»¥åºåˆ—åŒ–<br><img src="https://img-blog.csdnimg.cn/f25595d9069441d1adf22a469e842c09.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>&#x3D;&#x3D;&#x3D;æ­¤æ—¶å°±å®Œæˆäº†ç¼“å­˜çš„ä¼˜åŒ–ï¼Œæ­¤æ—¶å¦‚æœç¼“å­˜ä¸­æœ‰å½“å‰valueåå­—çš„ç¼“å­˜ï¼Œå°±è‡ªåŠ¨è¿”å›ï¼Œå¦‚æœæ²¡æœ‰å°±æŸ¥è¯¢ä¸€ä¸‹ã€‚å½“å‰ç¼“å­˜è‡ªåŠ¨è¿‡æœŸçš„æ—¶é—´åœ¨ymlé‡Œé¢æœ‰è¯¦ç»†é…ç½®&#x3D;&#x3D;</p><p>ä¿å­˜å¥—é¤æ–¹æ³•ç¼“å­˜ä¼˜åŒ–<br>ä¸€ä¿å­˜å¥—é¤ï¼Œå¯¹åº”çš„ç¼“å­˜å°±å¾—åˆ é™¤ï¼Œå› ä¸ºæ•°æ®æ›´æ–°äº†è¦é‡æ–°è·å–<br>è¿˜æœ‰æ›´æ–°å¥—é¤ï¼Œç†ç”±åŒä¸Š<br>åˆ é™¤æ–¹æ³•è¦åŠ <br><img src="https://img-blog.csdnimg.cn/0896df7570f843a19afb69975c4a328f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¿å­˜æ–¹æ³•ä¹Ÿè¦åŠ <br><img src="https://img-blog.csdnimg.cn/3206a5c50388428ea4809425d083bc72.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="æ•°æ®åº“ä¼˜åŒ–"><a href="#æ•°æ®åº“ä¼˜åŒ–" class="headerlink" title="æ•°æ®åº“ä¼˜åŒ–"></a>æ•°æ®åº“ä¼˜åŒ–</h1><h2 id="MySQLè¯»å†™åˆ†ç¦»"><a href="#MySQLè¯»å†™åˆ†ç¦»" class="headerlink" title="MySQLè¯»å†™åˆ†ç¦»"></a>MySQLè¯»å†™åˆ†ç¦»</h2><p>å°†å•ç‚¹æ•°æ®åº“æ”¹æˆåˆ†å¸ƒå¼çš„æ•°æ®åº“æœåŠ¡å™¨<br>ä¸»å†™ä»è¯»ã€‚<br><img src="https://img-blog.csdnimg.cn/95b2e61b3c594adeac1732bcc6d719d6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/be32928754c8409785c39f857ee78381.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="MySQLä¸»ä»å¤åˆ¶æ­å»º"><a href="#MySQLä¸»ä»å¤åˆ¶æ­å»º" class="headerlink" title="MySQLä¸»ä»å¤åˆ¶æ­å»º"></a>MySQLä¸»ä»å¤åˆ¶æ­å»º</h2><h3 id="ä¸»åº“è®¾ç½®"><a href="#ä¸»åº“è®¾ç½®" class="headerlink" title="ä¸»åº“è®¾ç½®"></a>ä¸»åº“è®¾ç½®</h3><p>ä¸»ä»å¤åˆ¶æ¶æ„å›¾<br><img src="https://img-blog.csdnimg.cn/c72d940c5ff143ea834e53e05fb4db83.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä»¥ä¸Šå°±å¯ä»¥åšåˆ°ä¸»åº“æ•°æ®å’Œä»åº“æ•°æ®ä¿æŒåŒæ­¥</p><p>å¯¹ä¸»åº“è¿›è¡Œé…ç½®<br>Linuxæ”¹æ³•<br><img src="https://img-blog.csdnimg.cn/71faca81d5524f7f81249639ec421334.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">log<span class="operator">-</span>bin<span class="operator">=</span>mysql<span class="operator">-</span>bin #å¯åŠ¨äºŒè¿›åˆ¶</span><br><span class="line">server<span class="operator">-</span>id<span class="operator">=</span><span class="number">100</span> #å”¯ä¸€id</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/07f64dd342a54a02bb9db8055535c02d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>windowsæ”¹æ³•</p><p>åœ¨mysqlå®‰è£…è·¯å¾„ä¸‹<br><img src="https://img-blog.csdnimg.cn/ddcf86e4bfc344c3874a528909018c4d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/d85b28a9fe5c4fdebb9bef5d96717860.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä¿®æ”¹å¥½äº†é‡å¯MySQL</p><p><img src="https://img-blog.csdnimg.cn/841a999f27fe4910baf41c7ba6728ad7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>windowsç‰ˆæœ¬çš„é‡å¯æ•™ç¨‹åœ¨è¿™é‡Œ<br><a href="https://blog.csdn.net/weixin_31444279/article/details/113223859">é‡å¯mysql</a></p><p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p><p><img src="https://img-blog.csdnimg.cn/06539e930d864f08831019eed03e50c0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> REPLICATION SLAVE <span class="keyword">ON</span><span class="operator">*</span>.<span class="operator">*</span><span class="keyword">to</span><span class="string">&#x27;xiaoming&#x27;</span>@<span class="string">&#x27;%&#x27;</span>identified <span class="keyword">by</span> <span class="string">&#x27;Root@123456&#x27;</span>;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘æŠŠæœ¬åœ°çš„MySQLä½œä¸ºä¸»æœºï¼ŒæŠŠé˜¿é‡Œäº‘ä½œä¸ºä»æœº<br>è¿è¡Œä¸€ä¸‹æƒé™SQL<br><img src="https://img-blog.csdnimg.cn/bbbc91e5cd674f60a0e3765c1e3a477b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æŸ¥çœ‹ä¸»æœºçŠ¶æ€ <code>show master status;</code><br><img src="https://img-blog.csdnimg.cn/2c46f23083eb4d009cee681610f20467.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ä»åº“è®¾ç½®"><a href="#ä»åº“è®¾ç½®" class="headerlink" title="ä»åº“è®¾ç½®"></a>ä»åº“è®¾ç½®</h3><p>ä»åº“è¿™é‡Œé€‰æ‹©äº†é˜¿é‡Œäº‘<br>è¿˜æ˜¯å…ˆä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ŒåŠ å…¥ç«¯å£id<br><img src="https://img-blog.csdnimg.cn/59c47eb35c4748948c96ac6bf1a0eb17.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/b8ac44ce50c546b5bfeb507a0ab7ef4f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç¬¬äºŒæ­¥è¿˜æ˜¯ä»åº“é‡å¯ï¼ˆLinuxä¸­ï¼‰<br><img src="https://img-blog.csdnimg.cn/5f1f8347417441ccb00d15c08ff5cb5a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç¬¬ä¸‰éƒ¨ï¼Œè®¾ç½®è¿æ¥åˆ°ä¸»æœº<br>è¿è¡ŒSQL<br><img src="https://img-blog.csdnimg.cn/dda57b14af0845aca9056e4788a34fea.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿è¡Œä¸€ä¸‹<br>å…·ä½“çš„å¯ä»¥å»ä»æœºç”¨show master statusæŸ¥çœ‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">change master <span class="keyword">to</span> master_host<span class="operator">=</span><span class="string">&#x27;ip&#x27;</span>,master_user<span class="operator">=</span><span class="string">&#x27;xiaoming&#x27;</span>,master_password<span class="operator">=</span><span class="string">&#x27;Root@123456&#x27;</span>,master_log_file<span class="operator">=</span><span class="string">&#x27;mysql-bin.eo0001&#x27;</span>,master_log_pos<span class="operator">=</span>ä¸»æœºçš„position</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/1f88d8237d804843849777aa1c3e0f4e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/e9080c8d03a24206a4a00b553b1c9ade.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>&#x3D;&#x3D;è¿™é‡Œæˆ‘æ˜¯ä¸¤å°æœåŠ¡å™¨ï¼Œä¸€å°dockerå®‰è£…çš„mysqlï¼ˆä»æœºï¼‰<br>å¦ä¸€å°æ˜¯æ™®é€šå®‰è£…çš„mysqlåšä¸»æœºï¼Œé…ç½®è¿‡ç¨‹ä¸­é‡åˆ°äº†å¾ˆå¤šé—®é¢˜ï¼Œå‚è€ƒäº†ä¸‹é¢çš„é“¾æ¥&#x3D;&#x3D;<br><a href="https://blog.csdn.net/xizhen2791/article/details/123660049">å‚è€ƒæ•™ç¨‹</a></p><p>ä¸€å®šä¸€å®šè®°ç€ä¸Šé¢ä»æœºè¿æ¥å‘½ä»¤è¿è¡ŒæˆåŠŸåè¦å¯åŠ¨ä»æœºä¹Ÿå°±æ˜¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slave <span class="keyword">start</span></span><br></pre></td></tr></table></figure><p>æœ€åè¿è¡Œ <code>start slave</code>å°±ç®—æ˜¯æ‰§è¡ŒæˆåŠŸäº†<br><img src="https://img-blog.csdnimg.cn/cf6e9e14501149a197b7a6cc329cc1d0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æŸ¥çœ‹ä¸€ä¸‹ä»æœºçŠ¶æ€</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> slave status</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ç®—æ­å»ºå¥½äº†<br><img src="https://img-blog.csdnimg.cn/54747e8178044d8c9f68a7ecf1862bb7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p><img src="https://img-blog.csdnimg.cn/e471059730274a98a3a6b2e71728724f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/dc067197d93b4799a37e5d51f28c5736.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/5657bb24170a4fbe8a9139b954934164.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åˆ°è¿™é‡Œå°±ç®—æ­å»ºå®Œæˆäº†</p><h3 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h3><p>è¿™é‡Œé‡åˆ°çš„é—®é¢˜ï¼Œè¿ä¸ä¸Š<br><img src="https://img-blog.csdnimg.cn/cbb888adff9c45be994e4087e528d9dc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æƒ³æœ¬åœ°å½“ä¸»æœºï¼Œå¤–ç½‘å½“ä»æœºå¥½åƒä¸å¤ªè¡Œï¼Œæˆ‘å°±åˆå¼„äº†å°æœåŠ¡å™¨åšè¯»å†™åˆ†ç¦»</p><p>æåˆ°äº†ä»æœºä¹‹åï¼Œå°±å¼€å§‹é…ç½®ï¼Œå®‰è£…MySQLç­‰ç­‰</p><p>æœ‰çš„æ—¶å€™ä¼šæç¤ºioå†²çªï¼Œè¿™æ˜¯å› ä¸ºä¹‹å‰çš„ä»æœºæ²¡æœ‰å…³é—­ï¼Œå…³é—­ä¸€ä¸‹å°±å¯ä»¥äº†<br><code>stop slave</code> ä¸€ä¸‹ å°±å¯ä»¥è¿è¡Œäº†</p><p>ä¸€ä¸ªä»æœºå¯åŠ¨å‘½ä»¤å¿˜è®°äº†ï¼Œæ”¹äº†ä¸€æ™šä¸Š<br>å¦‚æœä¸è¿è¡Œä»æœºå¯åŠ¨å°±ä¼šå˜æˆè¿™æ ·<br><img src="https://img-blog.csdnimg.cn/85ee4381b01c44ccb0777995ba042e46.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="ä¸»å†™ä»è¯»å®æˆ˜"><a href="#ä¸»å†™ä»è¯»å®æˆ˜" class="headerlink" title="ä¸»å†™ä»è¯»å®æˆ˜"></a>ä¸»å†™ä»è¯»å®æˆ˜</h2><h3 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p><img src="https://img-blog.csdnimg.cn/f141bcd96b9840bd8a4e1295055408a1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>éš¾ä¹ˆå¦‚ä½•å»ç¡®å®šæ¥çš„SQLåº”è¯¥åˆ†é…åˆ°å“ªä¸ªåº“ä¸Šï¼Œè¿™ä¸ªå°±è¦é Sharding-jdbcæ¡†æ¶æ¥è¯»å†™åˆ†ç¦»çš„åˆ†æµå¤„ç†<br><img src="https://img-blog.csdnimg.cn/83f78cd07cd848de9c4b5abd422d4b91.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h3><p>æ­¥éª¤å¦‚ä¸‹<br><img src="https://img-blog.csdnimg.cn/f72981dfa9204bab9545793d04bc2ed9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯¼å…¥Mavenåæ ‡</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span>dependency<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span>groupId<span class="operator">&gt;</span>org.apache.shardingsphere<span class="operator">&lt;</span><span class="operator">/</span>groupId<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span>artifactId<span class="operator">&gt;</span>sharding<span class="operator">-</span>jdbc<span class="operator">-</span>spring<span class="operator">-</span>boot<span class="operator">-</span>starter<span class="operator">&lt;</span><span class="operator">/</span>artifactId<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span>version<span class="operator">&gt;</span><span class="number">4.0</span><span class="number">.0</span><span class="operator">-</span>RC1<span class="operator">&lt;</span><span class="operator">/</span>version<span class="operator">&gt;</span></span><br><span class="line"><span class="operator">&lt;</span><span class="operator">/</span>dependency<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><p>&#x3D;&#x3D;é…ç½®ymlæ–‡ä»¶&#x3D;&#x3D;</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line">  application:</span><br><span class="line">    name: ccTakeOut</span><br><span class="line">  shardingsphere:</span><br><span class="line">    datasource:</span><br><span class="line">      names:</span><br><span class="line">        master,slave</span><br><span class="line">      # ä¸»åº“ï¼ˆå¢åˆ æ”¹æ“ä½œï¼‰</span><br><span class="line">      master:</span><br><span class="line">        type: com.alibaba.druid.pool.DruidDataSource</span><br><span class="line">        driver<span class="operator">-</span>class<span class="operator">-</span>name: com.mysql.cj.jdbc.Driver</span><br><span class="line">        url: jdbc:mysql:<span class="operator">/</span><span class="operator">/</span><span class="number">121.89</span><span class="number">.200</span><span class="number">.204</span>:<span class="number">3306</span><span class="operator">/</span>ruiji?characterEncoding<span class="operator">=</span>utf<span class="number">-8</span></span><br><span class="line">        username: root</span><br><span class="line">        password: <span class="number">333</span></span><br><span class="line">      # ä»æ•°æ®æºï¼ˆè¯»æ“ä½œï¼‰</span><br><span class="line">      slave:</span><br><span class="line">        type: com.alibaba.druid.pool.DruidDataSource</span><br><span class="line">        driver<span class="operator">-</span>class<span class="operator">-</span>name: com.mysql.cj.jdbc.Driver</span><br><span class="line">        url: jdbc:mysql:<span class="operator">/</span><span class="operator">/</span><span class="number">121.36</span><span class="number">.51</span><span class="number">.170</span>:<span class="number">3306</span><span class="operator">/</span>ruiji?characterEncoding<span class="operator">=</span>utf<span class="number">-8</span></span><br><span class="line">        username: root</span><br><span class="line">        password: <span class="number">333</span></span><br><span class="line">    masterslave:</span><br><span class="line">      # è¯»å†™åˆ†ç¦»é…ç½®</span><br><span class="line">      load<span class="operator">-</span>balance<span class="operator">-</span>algorithm<span class="operator">-</span>type: round_robin #è½®è¯¢ï¼ˆå¦‚æœæœ‰å¤šä¸ªä»åº“ä¼šè½®è¯¢ç€è¯»ï¼‰</span><br><span class="line">      # æœ€ç»ˆçš„æ•°æ®æºåç§°</span><br><span class="line">      name: dataSource</span><br><span class="line">      # ä¸»åº“æ•°æ®æºåç§°</span><br><span class="line">      master<span class="operator">-</span>data<span class="operator">-</span>source<span class="operator">-</span>name: master</span><br><span class="line">      # ä»åº“æ•°æ®æºåç§°åˆ—è¡¨ï¼Œå¤šä¸ªé€—å·åˆ†éš”</span><br><span class="line">      slave<span class="operator">-</span>data<span class="operator">-</span>source<span class="operator">-</span>names: slave</span><br><span class="line">    props:</span><br><span class="line">      <span class="keyword">sql</span>:</span><br><span class="line">        <span class="keyword">show</span>: <span class="literal">true</span> #å¼€å¯<span class="keyword">SQL</span>æ˜¾ç¤ºï¼Œé»˜è®¤<span class="literal">false</span></span><br><span class="line">  main:</span><br><span class="line">    allow<span class="operator">-</span>bean<span class="operator">-</span>definition<span class="operator">-</span>overriding: <span class="literal">true</span> #å…è®¸beanæ•°æ®æºè¦†ç›–</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è§£è¯»ä¸€ä¸‹ymlé…ç½®<br><img src="https://img-blog.csdnimg.cn/7e5c203773a04fdd9b9a096659db9749.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>å…è®¸Beanå®šä¹‰è¦†ç›–å¾ˆé‡è¦</strong></p><h3 id="æµ‹è¯•-1"><a href="#æµ‹è¯•-1" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>å¯åŠ¨é¡¹ç›®ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¯»å†™æ“ä½œåˆ†åˆ«åˆ°è¾¾äº†ä¸åŒçš„ä¸»æœºä¸Š<br>è¯»å†™åˆ†ç¦»æµ‹è¯•<br><img src="https://img-blog.csdnimg.cn/f647f0ab726e48f7a4ae0445970980d2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/fd937b8b481946bba8325127319d22f9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="Nginxéƒ¨ç½²"><a href="#Nginxéƒ¨ç½²" class="headerlink" title="Nginxéƒ¨ç½²"></a>Nginxéƒ¨ç½²</h1><p><a href="https://blog.csdn.net/weixin_46906696/article/details/125569407?csdn_share_tail=%7B%22type%22:%22blog%22,%22rType%22:%22article%22,%22rId%22:%22125569407%22,%22source%22:%22weixin_46906696%22%7D&ctrtid=O48Rx">Nginxç¬”è®°</a></p><h1 id="å‰åç«¯åˆ†ç¦»å¼€å‘"><a href="#å‰åç«¯åˆ†ç¦»å¼€å‘" class="headerlink" title="å‰åç«¯åˆ†ç¦»å¼€å‘"></a>å‰åç«¯åˆ†ç¦»å¼€å‘</h1><p><img src="https://img-blog.csdnimg.cn/5ae7a5c5f65049e698b47a060c9b9ac8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/9b200bae5d514949b1fed2860598906a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="å¼€å‘æµç¨‹"><a href="#å¼€å‘æµç¨‹" class="headerlink" title="å¼€å‘æµç¨‹"></a>å¼€å‘æµç¨‹</h2><p><img src="https://img-blog.csdnimg.cn/9d4d3ca75521432a999246d1ff68cea2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="YApi"><a href="#YApi" class="headerlink" title="YApi"></a>YApi</h2><p><img src="https://img-blog.csdnimg.cn/b56ddabf9931461dab56dafdd5614088.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Swaggerï¼ˆå¸¸ç”¨ï¼‰"><a href="#Swaggerï¼ˆå¸¸ç”¨ï¼‰" class="headerlink" title="Swaggerï¼ˆå¸¸ç”¨ï¼‰"></a>Swaggerï¼ˆå¸¸ç”¨ï¼‰</h2><p>ä¸»è¦ä½œç”¨å°±æ˜¯å¸®åŠ©åç«¯äººå‘˜ç”Ÿæˆåç«¯æ¥å£æ–‡æ¡£çš„<br><img src="https://img-blog.csdnimg.cn/7352d150c2b64d3e9c84f15ce56c7c1d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä½¿ç”¨æ–¹å¼<br><img src="https://img-blog.csdnimg.cn/b22b2f0ae0c04a4db76fe8e8fa047615.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯¼å…¥åæ ‡</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span><span class="operator">!</span><span class="comment">--knife4jæ¥å£ç®¡ç†--&gt;</span></span><br><span class="line"><span class="operator">&lt;</span>dependency<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span>groupId<span class="operator">&gt;</span>com.github.xiaoymin<span class="operator">&lt;</span><span class="operator">/</span>groupId<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span>artifactId<span class="operator">&gt;</span>knife4j<span class="operator">-</span>spring<span class="operator">-</span>boot<span class="operator">-</span>starter<span class="operator">&lt;</span><span class="operator">/</span>artifactId<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span>version<span class="operator">&gt;</span><span class="number">3.0</span><span class="number">.2</span><span class="operator">&lt;</span><span class="operator">/</span>version<span class="operator">&gt;</span></span><br><span class="line"><span class="operator">&lt;</span><span class="operator">/</span>dependency<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><p>å¯¼å…¥é…ç½®ç±»<br><img src="https://img-blog.csdnimg.cn/8efe0ecd0f32415296336792c002cb93.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å…·ä½“é…ç½®ä½ç½® <code>com.cc.config.WebMvcConfig</code></p><p>å¯åŠ¨æœåŠ¡ï¼Œè®¿é—®è·¯å¾„+doc.html<br>è¿›å…¥ä¹‹åå°±å¯ä»¥å¯¹å·²æœ‰çš„æ¥å£è¿›è¡Œç®¡ç†äº†<br><img src="https://img-blog.csdnimg.cn/28fa1199bed745909c1ab3566ef46517.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Swaggerå¸¸ç”¨æ³¨è§£"><a href="#Swaggerå¸¸ç”¨æ³¨è§£" class="headerlink" title="Swaggerå¸¸ç”¨æ³¨è§£"></a>Swaggerå¸¸ç”¨æ³¨è§£</h2><p>ç›´æ¥ç”Ÿæˆçš„æ³¨è§£å†…å®¹å¹¶ä¸æ˜¯å¾ˆå®Œå–„<br><img src="https://img-blog.csdnimg.cn/7b2482af3df7429ea060c692c9778524.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>Swaggerå¸¸ç”¨æ³¨è§£<br><img src="https://img-blog.csdnimg.cn/96378f7383e34de1a6ef9f7785989c2d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä»¥å®ä½“ç±»ä¸ºä¾‹<br><img src="https://img-blog.csdnimg.cn/0fbe9d3e59ee47d0b5a9f8d6b21609af.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>Controllerä¸Šçš„æ³¨è§£<br><img src="https://img-blog.csdnimg.cn/920dcfe50e8544f0ab5a42581722b3e3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä»¥ä¸Šå‡ä¸ºç¤ºä¾‹ï¼Œæœ€ç»ˆå®Œå–„å¥½æ³¨è§£ï¼Œæ–‡æ¡£ä¼šæ›´å¥½ç”¨ï¼Œæ›´è¯¦ç»†ã€‚</p><h1 id="é¡¹ç›®éƒ¨ç½²"><a href="#é¡¹ç›®éƒ¨ç½²" class="headerlink" title="é¡¹ç›®éƒ¨ç½²"></a>é¡¹ç›®éƒ¨ç½²</h1><h2 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h2><p>å‰ç«¯ä½œä¸ºä¸€ä¸ªå·¥ç¨‹ï¼ŒåŒæ ·éœ€è¦æ‰“åŒ…ï¼Œæ‰“åŒ…å®Œä¸ºdistç›®å½•<br><img src="https://img-blog.csdnimg.cn/a2cee8e970754767bf5efab50eb3d065.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æŠŠè¿™ä¸ªdistç›®å½•ï¼Œæ‰”è¿›Nginxé‡ŒHTMLæ–‡ä»¶å¤¹å°±å¯ä»¥äº†ï¼Œä¹Ÿå°±æ˜¯é‚£ä¸ªé™æ€èµ„æº<br><img src="https://img-blog.csdnimg.cn/e05ae7caf6ce4c82b5dd35e96ba97059.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¼ ä¸Šæ¥ä¸ç®—å®Œï¼Œè¿˜è¦å¥½å¥½é…ç½®ä¸€ä¸‹<br>ä¸€ä¸ªæ˜¯é™æ€èµ„æºï¼Œå¦ä¸€ä¸ªæ˜¯åå‘ä»£ç†</p><h3 id="é™æ€èµ„æºé…ç½®"><a href="#é™æ€èµ„æºé…ç½®" class="headerlink" title="é™æ€èµ„æºé…ç½®"></a>é™æ€èµ„æºé…ç½®</h3><p>å…ˆé…ç½®é™æ€èµ„æº<br><img src="https://img-blog.csdnimg.cn/85400722cc984e53bc62af167a80ba13.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="è¯·æ±‚ä»£ç†é…ç½®"><a href="#è¯·æ±‚ä»£ç†é…ç½®" class="headerlink" title="è¯·æ±‚ä»£ç†é…ç½®"></a>è¯·æ±‚ä»£ç†é…ç½®</h3><p>é‡å¯Nginxï¼Œæµ‹è¯•ä¸€ä¸‹ï¼Œè®¿é—®ã€‚<br>éšä¾¿ä¸€ä¸ªè¯·æ±‚å¯ä»¥çœ‹åˆ°ï¼Œå¸¦äº†å‰ç¼€<br><img src="https://img-blog.csdnimg.cn/77debb51210c4259a4c59d76778d4f9b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åç«¯é¡¹ç›®ç»™çš„ç«¯å£æ˜¯9001<br>è¯·æ±‚è·¯å¾„ä¸ºï¼š<a href="http://www.ccsmile.fun:9001/api/employee/login">http://www.ccsmile.fun:9001/api/employee/login</a><br>æˆ‘ä»¬åç«¯æ˜¯æ²¡æœ‰è¿™ä¸ªapiçš„å‰ç¼€çš„<br>é€šè¿‡é‡å†™urlï¼Œå°±å¯ä»¥æŠŠ<br><code>http://www.ccsmile.fun:9001/api/employee/login</code><br>å˜æˆ<br><code>http://www.ccsmile.fun:9001/employee/login</code>çš„è¯·æ±‚åœ°å€ï¼Œè¿™æ ·å°±å®Œæˆäº†è¯·æ±‚ä»£ç†è½¬å‘æ“ä½œ<br><img src="https://img-blog.csdnimg.cn/cebfe85548264cdaafb056fb8a16c5b9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é…ç½®æ–‡ä»¶å¦‚ä¸‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">  listen <span class="number">80</span>;</span><br><span class="line">  server_name localhost;</span><br><span class="line">#é™æ€èµ„æºé…ç½®</span><br><span class="line">  location <span class="operator">/</span>&#123;</span><br><span class="line">    root html<span class="operator">/</span>dist;</span><br><span class="line">    index index.html;</span><br><span class="line">  &#125;</span><br><span class="line">#è¯·æ±‚è½¬å‘ä»£ç†ï¼Œé‡å†™URL<span class="operator">+</span>è½¬å‘</span><br><span class="line">  location <span class="operator">^</span><span class="operator">~</span> <span class="operator">/</span>api<span class="operator">/</span>&#123;</span><br><span class="line">          rewrite <span class="operator">^</span><span class="operator">/</span>api<span class="operator">/</span>(.<span class="operator">*</span>)$ <span class="operator">/</span>$<span class="number">1</span> break;</span><br><span class="line">          proxy_pass http:<span class="operator">/</span><span class="operator">/</span>åç«¯æœåŠ¡ip:ç«¯å£å·;</span><br><span class="line">  &#125;</span><br><span class="line">#å…¶ä»–</span><br><span class="line">  error_page <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> <span class="operator">/</span><span class="number">50</span>x.html;</span><br><span class="line">  location <span class="operator">=</span> <span class="operator">/</span><span class="number">50</span>x.html&#123;</span><br><span class="line">      root html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åä¿å­˜æ–‡ä»¶ï¼Œé‡å¯Nginxï¼Œå°±é…ç½®å®Œæˆäº†<br>ä¸è¿‡è¿˜æ˜¯ä¸çŸ¥é“ä¸ºå•¥ä¸å¤ªå¥½ç”¨ï¼Œè¿˜æœ‰å¾…è§£å†³ï¼Œå®åœ¨ä¸è¡Œå°±åœ¨åç«¯ä¸ŠåŠ å…¥æ¥æ”¶è¯·æ±‚å‰ç¼€å°±å¥½äº†</p><h2 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h2><p><img src="https://img-blog.csdnimg.cn/23e1f1e20f0b420ca3fa8856aa07efaa.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸Šä¼ è„šæœ¬ï¼Œè‡ªåŠ¨æ‹‰å–æœ€æ–°è„šæœ¬<br>è¿™æ ·åœ¨å¼€å‘ç«¯å’ŒLinuxç«¯å°±é€šè¿‡Giteeé—´æ¥å®ç°åŒæ­¥äº†<br><img src="https://img-blog.csdnimg.cn/c2cf53f4a6044202b5e5b7136a9bc0ef.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è„šæœ¬å†…å®¹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#<span class="operator">!</span><span class="operator">/</span>bin<span class="operator">/</span>sh</span><br><span class="line">echo <span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></span><br><span class="line">echo  è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬å¯åŠ¨</span><br><span class="line">echo <span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></span><br><span class="line"></span><br><span class="line">echo åœæ­¢åŸæ¥è¿è¡Œä¸­çš„å·¥ç¨‹</span><br><span class="line">APP_NAME<span class="operator">=</span>reggie_take_out</span><br><span class="line"></span><br><span class="line">tpid<span class="operator">=</span>`ps <span class="operator">-</span>ef<span class="operator">|</span>grep $APP_NAME<span class="operator">|</span>grep <span class="operator">-</span>v grep<span class="operator">|</span>grep <span class="operator">-</span>v kill<span class="operator">|</span>awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line">if [ $&#123;tpid&#125; ]; <span class="keyword">then</span></span><br><span class="line">    echo <span class="string">&#x27;Stop Process...&#x27;</span></span><br><span class="line">    kill <span class="number">-15</span> $tpid</span><br><span class="line">fi</span><br><span class="line">sleep <span class="number">2</span></span><br><span class="line">tpid<span class="operator">=</span>`ps <span class="operator">-</span>ef<span class="operator">|</span>grep $APP_NAME<span class="operator">|</span>grep <span class="operator">-</span>v grep<span class="operator">|</span>grep <span class="operator">-</span>v kill<span class="operator">|</span>awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line">if [ $&#123;tpid&#125; ]; <span class="keyword">then</span></span><br><span class="line">    echo <span class="string">&#x27;Kill Process!&#x27;</span></span><br><span class="line">    kill <span class="number">-9</span> $tpid</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    echo <span class="string">&#x27;Stop Success!&#x27;</span></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo å‡†å¤‡ä»Gitä»“åº“æ‹‰å–æœ€æ–°ä»£ç </span><br><span class="line">cd <span class="operator">/</span>usr<span class="operator">/</span><span class="keyword">local</span><span class="operator">/</span>javaapp<span class="operator">/</span>reggie_take_out</span><br><span class="line"></span><br><span class="line">echo å¼€å§‹ä»Gitä»“åº“æ‹‰å–æœ€æ–°ä»£ç </span><br><span class="line">git pull</span><br><span class="line">echo ä»£ç æ‹‰å–å®Œæˆ</span><br><span class="line"></span><br><span class="line">echo å¼€å§‹æ‰“åŒ…</span><br><span class="line">output<span class="operator">=</span>`mvn clean package <span class="operator">-</span>Dmaven.test.skip<span class="operator">=</span><span class="literal">true</span>`</span><br><span class="line"></span><br><span class="line">cd target</span><br><span class="line"></span><br><span class="line">echo å¯åŠ¨é¡¹ç›®</span><br><span class="line">nohup java <span class="operator">-</span>jar reggie_take_out<span class="number">-1.0</span><span class="operator">-</span>SNAPSHOT.jar <span class="operator">&amp;</span><span class="operator">&gt;</span> reggie_take_out.log <span class="operator">&amp;</span></span><br><span class="line">echo é¡¹ç›®å¯åŠ¨å®Œæˆ</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè„šæœ¬å°±OKäº†<br><img src="https://img-blog.csdnimg.cn/079d294160f94539b7b3db5d09af969e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è®°å¾—ä¿®æ”¹ymlæ–‡ä»¶ä¸­çš„éƒ¨åˆ†å†…å®¹ï¼Œæ¯”å¦‚æ–‡ä»¶è·¯å¾„ç­‰ç­‰ä¿¡æ¯~<br>å®Œç»“æ’’èŠ±å•¦</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mysql-1</title>
      <link href="/2023/01/24/mysql-1/"/>
      <url>/2023/01/24/mysql-1/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQL-ä¸€"><a href="#MySQL-ä¸€" class="headerlink" title="MySQL ä¸€"></a>MySQL ä¸€</h1><h1 id="è¡¨"><a href="#è¡¨" class="headerlink" title="è¡¨"></a>è¡¨</h1><h2 id="è§„åˆ™è§„èŒƒ"><a href="#è§„åˆ™è§„èŒƒ" class="headerlink" title="è§„åˆ™è§„èŒƒ"></a>è§„åˆ™è§„èŒƒ</h2><h3 id="å¤§å°å†™"><a href="#å¤§å°å†™" class="headerlink" title="å¤§å°å†™"></a>å¤§å°å†™</h3><p>å»ºè®®æ•°æ®åº“åï¼Œè¡¨åï¼Œè¡¨åˆ«åï¼Œå­—æ®µåå°å†™</p><p>è€Œå…³é”®å­—ï¼Œå‡½æ•°åï¼Œç»‘å®šå˜é‡å¤§å†™</p><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><p>å•è¡Œæ³¨é‡Š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#xxxxx</span><br><span class="line"><span class="comment">-- xxxxx</span></span><br></pre></td></tr></table></figure><p>å¤šè¡Œæ³¨é‡Š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">xxxxxx</span></span><br><span class="line"><span class="comment">xxxx</span></span><br><span class="line"><span class="comment">xxxxx</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>å¤šè¡Œæ³¨é‡Šçš„åµŒå¥—æ˜¯æ²¡æœ‰æ„ä¹‰çš„</p><h3 id="å‘½å"><a href="#å‘½å" class="headerlink" title="*å‘½å"></a>*å‘½å</h3><h2 id="æ•°æ®å¯¼å…¥"><a href="#æ•°æ®å¯¼å…¥" class="headerlink" title="æ•°æ®å¯¼å…¥"></a>æ•°æ®å¯¼å…¥</h2><h3 id="æ–¹å¼1"><a href="#æ–¹å¼1" class="headerlink" title="æ–¹å¼1"></a>æ–¹å¼1</h3><p>sqlé€šç”¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source æ–‡ä»¶çš„å…¨è·¯å¾„</span><br></pre></td></tr></table></figure><p>æ–¹å¼1åœ¨å›¾å½¢åŒ–ç•Œé¢ä¸‹æ˜¯ä¼šæŠ¥é”™çš„ï¼Œåªèƒ½åœ¨cmdä½¿ç”¨</p><p>#æ³¨æ„ï¼#è¯¥è¯­å¥åä¸æ¥åˆ†å·ï¼›</p><h3 id="æ–¹å¼2"><a href="#æ–¹å¼2" class="headerlink" title="æ–¹å¼2"></a>æ–¹å¼2</h3><p>å›¾å½¢åŒ–ç•Œé¢</p><p>å¦‚SQLyogä¸­ï¼Œå·¥å…·-&gt;æ‰§è¡Œsqlè„šæœ¬-&gt;é€‰æ‹©å¯¹åº”æ–‡ä»¶</p><h2 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h2><h3 id="åŸºæœ¬SELECT"><a href="#åŸºæœ¬SELECT" class="headerlink" title="*åŸºæœ¬SELECT"></a>*åŸºæœ¬SELECT</h3><p>å¦‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">1</span><span class="operator">+</span><span class="number">1</span></span><br></pre></td></tr></table></figure><p>ç­‰ä»·äº</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">1</span><span class="operator">+</span><span class="number">1</span> <span class="keyword">from</span> dualï¼›</span><br></pre></td></tr></table></figure><p>å…¶ä¸­dualæ˜¯ä¼ªè¡¨</p><h3 id="SELECT-FROM"><a href="#SELECT-FROM" class="headerlink" title="SELECT FROM"></a>SELECT FROM</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> xxx <span class="keyword">from</span> yyy;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­xxxæ˜¯æ‰€éœ€æŸ¥æ‰¾çš„å­—æ®µ&#x2F;åˆ—ï¼Œå¯ä»¥ä½¿ç”¨*å·è¡¨ç¤ºæŸ¥æ‰¾æ‰€æœ‰åˆ—ï¼Œç»“æœä¹Ÿå°±æ˜¯æ˜¾ç¤ºå®Œæ•´çš„è¡¨ã€‚</p><p>æ³¨æ„ï¼selectè¯­å¥æŸ¥è¯¢çš„æ˜¯åˆ—ï¼</p><h2 id="åˆ—çš„åˆ«å"><a href="#åˆ—çš„åˆ«å" class="headerlink" title="åˆ—çš„åˆ«å"></a>åˆ—çš„åˆ«å</h2><p>åˆ—ï¼Œä¹Ÿå°±æ˜¯å­—æ®µ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> employee_id,last_name form employee;</span><br></pre></td></tr></table></figure><p>selectåè¿”å›çš„è¡¨ç§°ä¸ºç»“æœé›†</p><p>å…±æœ‰ä¸‰ç§æ–¹å¼èµ·åˆ«å</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> employee_id emp_id,</span><br><span class="line">last_name <span class="keyword">as</span> lastname form employee;</span><br></pre></td></tr></table></figure><p>ç©ºæ ¼å’Œasè¯­å¥éƒ½æ˜¯ç»™åˆ—èµ·åˆ«åçš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æ­¤ï¼Œå¯»æ‰¾åˆ°employee_id,last_nameå­—æ®µåï¼Œç»“æœé›†çš„åˆ—åå°†ä¼šä¸´æ—¶æ˜¾ç¤ºæˆç©ºæ ¼æˆ–asåçš„åˆ«å</p><p>æœ€å¥½è¦å…»æˆasçš„å¥½ä¹ æƒ¯</p><p>å®é™…ä¸Šasæ˜¯alias(åˆ«å)çš„ç®€ç§°</p><p>æ­¤å¤–è¿˜å¯ç”¨â€œâ€åŒå¼•å·å¼•èµ·åˆ«å</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> employee_id â€œemp_idâ€ <span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼ä¸€èˆ¬ä½¿ç”¨åœ¨åˆ«åæ˜¯å¤šä¸ªå•è¯æ—¶ï¼Œå¼•å·è¿˜å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> employee_id â€œemp  idâ€ <span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼</p><p>åˆ«åæ”¯æŒä¸­æ–‡(UTF-8æ ‡å‡†å†…)</p><p>åœ¨mysqlä¸­å¯¹äºå•å¼•å·å’ŒåŒå¼•å·çš„åŒºåˆ«æ—¶ä¸ä¸¥æ ¼çš„ï¼Œè¿˜æ˜¯åº”è¯¥å°½é‡éµå¾ªè§„åˆ™</p><h2 id="å»é‡"><a href="#å»é‡" class="headerlink" title="å»é‡"></a>å»é‡</h2><h3 id="åŸºæœ¬å»é‡"><a href="#åŸºæœ¬å»é‡" class="headerlink" title="åŸºæœ¬å»é‡"></a>åŸºæœ¬å»é‡</h3><p>selectåï¼Œé‡å¤æ•°æ®åªç•™ä¸€æ¡</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> department_id <span class="keyword">from</span> employees;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> department_id <span class="keyword">from</span> employees;</span><br></pre></td></tr></table></figure><p>å¯¹äºä»£ç 1ï¼ŒæŸ¥è¯¢çš„ç»“æœä¸­æœ‰å¤§é‡é‡å¤æ•°æ®</p><p>å¯¹äºä»£ç 2ï¼Œåœ¨1çš„åŸºç¡€ä¸Šä½¿ç”¨äº†distinctå…³é”®å­—ï¼Œä½œç”¨æ˜¯å»æ‰é‡å¤çš„æ•°æ®ï¼Œå¯¹äºé‡å¤æ•°æ®ç»“æœé›†ä¸­åªæ˜¾ç¤ºä¸€ä»½</p><h3 id="è”åˆå»é‡"><a href="#è”åˆå»é‡" class="headerlink" title="è”åˆå»é‡"></a>è”åˆå»é‡</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> department_id, salary <span class="keyword">from</span> employees;</span><br></pre></td></tr></table></figure><p>è¿™æ¡è¯­å¥ä¸­çš„distinctå¯¹åé¢ä¸¤ä¸ªå­—æ®µéƒ½èµ·ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¿”å› department_idç›¸åŒè€Œsalaryä¸åŒå’Œdepartment_idä¸åŒçš„æ‰€æœ‰ç»“æœï¼Œä½†å®é™…ä½¿ç”¨çš„è¾ƒå°‘ã€‚</p><h2 id="ç©ºå€¼è¿ç®—"><a href="#ç©ºå€¼è¿ç®—" class="headerlink" title="ç©ºå€¼è¿ç®—"></a>ç©ºå€¼è¿ç®—</h2><p>ç©ºå€¼ï¼Œä¹Ÿå°±æ˜¯null</p><p>é¦–å…ˆnullä¸ç­‰åŒäº0ï¼Œè€Œæ˜¯ä¸å­˜åœ¨çš„æ„æ€ï¼ˆJavaï¼‰</p><p>æ‰€æœ‰nullå‚ä¸çš„è¿ç®—ï¼Œç»“æœéƒ½ä¸ºnull</p><p>ex.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> idï¼Œsalaryâ€æœˆå·¥èµ„â€œï¼Œ</span><br><span class="line">salary<span class="operator">*</span>ï¼ˆ<span class="number">1</span><span class="operator">+</span>petï¼‰<span class="operator">*</span><span class="number">12</span>â€å¹´å·¥èµ„â€œï¼Œpetâ€å¥–é‡‘â€œ</span><br><span class="line"><span class="keyword">from</span> employeeï¼›</span><br></pre></td></tr></table></figure><p>æœ‰petå­—æ®µè¡¨ç¤ºå¥–é‡‘ï¼Œå…¶ä¸­è¡¨ä¸­å­˜åœ¨æ— å¥–é‡‘ä¹Ÿå°±æ˜¯nullçš„è¡Œï¼ˆå‘˜å·¥ï¼‰ï¼Œå¯¹äºä¸Šè¿°è¿ç®—ï¼Œåˆ™å…¶salaryçš„ç»“æœä¸ºnullï¼Œè¿™æ˜¾ç„¶ä¸å’Œå¸¸ç†ã€‚å¯¹äºè¿™ç§æƒ…å†µä¼šä½¿ç”¨ifç­‰è¯­å¥è§£å†³ï¼ˆè§å•è¡Œå‡½æ•°ï¼‰</p><h2 id="ç€é‡"><a href="#ç€é‡" class="headerlink" title="ç€é‡"></a>ç€é‡</h2><p>ç€é‡å·â€Â·â€œï¼ˆé”®ç›˜1å·¦ä¾§ï¼‰</p><p>å½“åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œå­—æ®µåå’Œå…³é”®å­—ç­‰å†²çªæ—¶ï¼Œå°±å¯ä½¿ç”¨ç€é‡å·å£°æ˜è¯¥å­—æ®µä¸æ˜¯ä¸€ä¸ªå…³é”®å­—è€Œæ˜¯å­—æ®µå</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">order</span>ï¼›</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> Â·<span class="keyword">order</span>ï¼› </span><br></pre></td></tr></table></figure><h2 id="å¸¸æ•°å­—æ®µ"><a href="#å¸¸æ•°å­—æ®µ" class="headerlink" title="å¸¸æ•°å­—æ®µ"></a>å¸¸æ•°å­—æ®µ</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> â€˜æˆ‘æ˜¯â€™ï¼Œ<span class="number">123</span> department_id <span class="keyword">from</span> employees;</span><br></pre></td></tr></table></figure><p>å¯¹äºè¿™å¥ä»£ç ï¼Œdepartment_idæ˜¯å­˜åœ¨äºè¡¨ä¸­çš„ï¼Œè€Œå‰é¢çš„â€˜æˆ‘æ˜¯â€™ï¼Œ123è¿™äºŒè€…æ˜¯æ˜¾ç„¶ä¸å­˜åœ¨çš„ï¼Œåœ¨è¿”å›ç»“æœé›†æ—¶ï¼Œæ¯ä¸€è¡Œç»“æœå‰éƒ½ä¼šåŠ ä¸Šâ€˜æˆ‘æ˜¯â€™å’Œ123è¿™ä¸¤ä¸ªå­—æ®µï¼Œè¿™æ ·è¿™äºŒè€…ä¹Ÿè¢«ç§°ä¸ºå¸¸æ•°å­—æ®µ</p><p>æ³¨æ„ï¼Œè¿™é‡Œçš„â€˜xxâ€™ï¼Œå•å¼•å·å¼•èµ·çš„æ˜¯å­—ç¬¦ä¸²</p><h2 id="æ˜¾ç¤ºè¡¨ç»“æ„"><a href="#æ˜¾ç¤ºè¡¨ç»“æ„" class="headerlink" title="æ˜¾ç¤ºè¡¨ç»“æ„"></a>æ˜¾ç¤ºè¡¨ç»“æ„</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">describe</span> employeesï¼›</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºè¡¨çš„å®Œæ•´ç»“æ„ï¼ˆå­—æ®µåï¼Œå­—æ®µç±»å‹ï¼Œçº¦æŸç­‰ï¼‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> employeesï¼›</span><br></pre></td></tr></table></figure><p>descæ˜¯describeçš„ç®€å†™ï¼Œå’Œdescribeçš„ä½œç”¨å®Œå…¨ç›¸åŒ</p><h2 id="è¿‡æ»¤"><a href="#è¿‡æ»¤" class="headerlink" title="è¿‡æ»¤"></a>è¿‡æ»¤</h2><p>å…³é”®å­— where</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employeesï¼›</span><br></pre></td></tr></table></figure><p>è¯¥è¯­å¥å¾—åˆ°çš„æ˜¯å®Œæ•´çš„employeesè¡¨æ•°æ®ã€‚</p><p>ä½¿ç”¨whereï¼Œè¿”å›ç¬¦åˆæŸä¸€æ¡ä»¶çš„è¡Œï¼Œå¦‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees <span class="keyword">where</span> department_id <span class="operator">=</span><span class="number">90</span>;</span><br></pre></td></tr></table></figure><p>åœ¨å…¨è¡¨ä¸­æŸ¥æ‰¾ï¼Œè¿”å›æ‰€æœ‰department_idä¸º90çš„è¡Œã€‚</p><p>æ³¨æ„ï¼Œè¿‡æ»¤ç»“æ„whereä¸€å®šè¦å£°æ˜åœ¨fromåï¼Œåœ¨whereä¸­å¯ä»¥æ·»åŠ ä¸°å¯Œçš„è¯­å¥</p><h1 id="è¿ç®—"><a href="#è¿ç®—" class="headerlink" title="è¿ç®—"></a>è¿ç®—</h1><h2 id="ç®—æœ¯è¿ç®—"><a href="#ç®—æœ¯è¿ç®—" class="headerlink" title="ç®—æœ¯è¿ç®—"></a>ç®—æœ¯è¿ç®—</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span>åŠ æ³•</span><br><span class="line"><span class="operator">-</span>å‡æ³•</span><br><span class="line"><span class="operator">*</span>  ä¹˜æ³•</span><br><span class="line"><span class="operator">/</span> æˆ– DIVé™¤æ³•ï¼Œå…¶ä¸­divæ˜¯å–æ•´ï¼Œ<span class="operator">/</span>ä¸ºå°æ•°</span><br><span class="line"><span class="operator">%</span> æˆ– MODæ±‚ä½™</span><br></pre></td></tr></table></figure><p>åœ¨sqlä¸­ï¼Œæ³¨æ„ä¸javaåŒºåˆ«ï¼Œ+â€˜åŠ æ³•ç¬¦å·â€™æ²¡æœ‰è¿æ¥çš„ä½œç”¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span><span class="operator">+</span>â€<span class="number">1</span>â€œ<span class="operator">=</span><span class="number">1001</span>ï¼›<span class="operator">/</span><span class="operator">/</span>java</span><br><span class="line">å­—ç¬¦ä¸²åŠ æ³•ä½¿<span class="type">int</span>è‡ªåŠ¨æå‡ä¸ºå­—ç¬¦ä¸²ï¼Œè¿æ¥ä¸ºé•¿å­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span><span class="operator">+</span>â€˜<span class="number">1</span>â€™<span class="operator">=</span><span class="number">101</span>ï¼›<span class="operator">/</span><span class="operator">/</span><span class="keyword">sql</span></span><br><span class="line"><span class="keyword">sql</span>çš„åŠ å·åªæœ‰è¿ç®—çš„ä½œç”¨ï¼Œå¹¶ä¸”å¼•å·å†…ä¼šè½¬æ¢ä¸º<span class="type">int</span>è¿›è¡Œè¿ç®—</span><br><span class="line">ä¹Ÿå°±æ˜¯éšå¼è½¬æ¢</span><br></pre></td></tr></table></figure><p>sqlé‡Œçš„å­—æ¯å­—ç¬¦ï¼Œæ±‰å­—å­—ç¬¦ç­‰å’Œæ•°å­—è¿ç®—æ—¶ï¼Œå­—ç¬¦è¢«è§†ä½œ0ï¼ˆæ•°å­—å­—ç¬¦é™¤å¤–ï¼‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span><span class="operator">+</span>a <span class="operator">=</span><span class="number">100</span>ï¼›</span><br></pre></td></tr></table></figure><p>nullå‚ä¸çš„è¿ç®—ç»“æœéƒ½ä¸ºnull</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span><span class="operator">+</span><span class="keyword">null</span><span class="operator">=</span><span class="keyword">null</span>ï¼›</span><br></pre></td></tr></table></figure><p>å¯¹äºæµ®ç‚¹ç±»å‹ï¼Œå’Œjavaç±»ä¼¼ï¼Œæ¶‰åŠæµ®ç‚¹æ•°æ®çš„è¿ç®—mysqlä¹Ÿä¼šè‡ªåŠ¨æå‡è½¬æ¢ï¼Œè¾“å‡ºæµ®ç‚¹æ•°æ®ã€‚</p><p>åœ¨ä½¿ç”¨â€œ&#x2F;â€çš„é™¤æ³•ä¸­ï¼Œç»“æœé»˜è®¤ä¸ºæµ®ç‚¹å‹ï¼ˆä¸åŒäºjavaçš„æˆªåœ°æ¿ï¼‰ï¼Œä½¿ç”¨DIVå¾—åˆ°çš„ç»“æœåˆ™å¿…ä¸ºæ•´å‹ã€‚å½“é™¤æ³•åˆ†æ¯ä¸º0æ—¶ï¼Œç»“æœä¸ºnullï¼ˆMySQLä¸­ï¼‰</p><p>åœ¨å–æ¨¡è¿ç®—ï¼Œä¹Ÿå°±æ˜¯å–ä½™ä¸­ï¼Œå¾—åˆ°çš„åªæ˜¯ä½™æ•°ï¼ˆç±»ä¼¼javaï¼‰ï¼Œå…¶ä¸­å–ä½™ç»“æœçš„ç¬¦å·ä¸å–ä½™ç¬¦å·çš„å·¦ä¾§ç›¸åŒã€‚</p><h2 id="æ¯”è¾ƒè¿ç®—"><a href="#æ¯”è¾ƒè¿ç®—" class="headerlink" title="æ¯”è¾ƒè¿ç®—"></a>æ¯”è¾ƒè¿ç®—</h2><h3 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h3><p><img src="/assets/image-20221023145215-bl8ghhd.png" alt="image">å…±æœ‰ä¸‰ç§ç»“æœï¼Œå‡ï¼ˆ0ï¼‰ï¼ŒçœŸï¼ˆ1ï¼‰ï¼ŒNullï¼Œç±»ä¼¼cè€Œä¸æ˜¯java</p><p>æ¯”è¾ƒè¿ç®—ç¬¦ç»å¸¸è¢«ç”¨æ¥ä½œä¸ºSELECTæŸ¥è¯¢è¯­å¥çš„æ¡ä»¶æ¥ä½¿ç”¨</p><h3 id="ç­‰å·è¿ç®—"><a href="#ç­‰å·è¿ç®—" class="headerlink" title="ç­‰å·è¿ç®—"></a>ç­‰å·è¿ç®—</h3><p>ç­‰å·è¿ç®—ç¬¦ï¼ˆ&#x3D;ï¼‰åˆ¤æ–­ç­‰å·ä¸¤è¾¹çš„å€¼ã€å­—ç¬¦ä¸²æˆ–è¡¨è¾¾å¼æ˜¯å¦ç›¸ç­‰ï¼Œéµå¾ªä»¥ä¸‹è§„åˆ™</p><ol><li><p>å·¦å³å‡ä¸ºå­—ç¬¦ä¸²ï¼ŒMySQLä¼šæŒ‰ç…§å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œå…¶æ¯”è¾ƒçš„æ˜¯æ¯ä¸ªå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„ANSIç¼–ç æ˜¯å¦ç›¸ç­‰</p></li><li><p>æœ‰nullåˆ™null</p></li><li><p>æ•´æ•°å’Œå­—ç¬¦ä¸²å…±åŒå­˜åœ¨åˆ™å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Œéæ•°å­—å­—ç¬¦ä¸²ä¼šè¢«è½¬æ¢æˆæ•°å­—0ï¼Œ</p></li></ol><p>æ³¨æ„ï¼â€œ&#x3D;â€æ˜¯ç›¸ç­‰åˆ¤æ–­ï¼Œâ€œï¼š&#x3D;â€æ‰æ˜¯èµ‹å€¼è¿ç®—ï¼ˆä¹Ÿå°±æ˜¯javaçš„&#x3D;&#x3D;ï¼‰</p><p>ex.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> last_name,salary <span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> salary <span class="operator">=</span> <span class="number">6000</span>;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢salaryä¸º6000çš„åŒ…å«last_nameå’Œsalaryå­—æ®µçš„ç»“æœ</p><p>æ³¨æ„ï¼å¯¹äºnullï¼Œè‹¥å°è¯•ä½¿ç”¨null&#x3D;nullå»æŸ¥è¯¢ï¼Œç»“æœæ˜¯ç©ºï¼Œå› ä¸ºnullçš„ä»»ä½•ç­‰äºè¿ç®—ç»“æœéƒ½ä¸ºnullï¼Œè€Œç»“æœé›†åªä¼šè¿”å›æ¯”è¾ƒç»“æœä¸º1çš„å€¼ï¼Œè¯¥é—®é¢˜å¯ä»¥ç”¨å®‰å…¨ç­‰äºå’Œç¬¦å·è¿ç®—ç­‰äºè§£å†³ã€‚</p><h3 id="å®‰å…¨ç­‰äº"><a href="#å®‰å…¨ç­‰äº" class="headerlink" title="å®‰å…¨ç­‰äº"></a>å®‰å…¨ç­‰äº</h3><p>å…¶å®å¾ˆç›´è§‚çš„å˜›ï¼Œå¸¦äº†å¥—å°±å®‰å…¨äº†</p><p>å®‰å…¨ç­‰äºè¿ç®—ç¬¦â€œ&lt;&#x3D;&gt;â€ä¸ç­‰äºè¿ç®—ç¬¦â€œ&#x3D;â€çš„ä½œç”¨æ˜¯ç›¸ä¼¼çš„ï¼ŒåŒºåˆ«åœ¨äºæ˜¯â€˜&lt;&#x3D;&gt;â€™å¯ä»¥ç”¨æ¥å¯¹NULLè¿›è¡Œåˆ¤æ–­ã€‚åœ¨ä¸¤ä¸ªæ“ä½œæ•°å‡ä¸ºNULLæ—¶ï¼Œå…¶è¿”å›å€¼ä¸º 1 ï¼Œè€Œä¸ä¸ºNULLï¼›å½“ä¸€ä¸ªæ“ä½œæ•°ä¸ºNULLæ—¶ï¼Œå…¶è¿”å›å€¼ä¸º 0 ï¼Œè€Œä¸ä¸ºNULLã€‚</p><p>ç®€å•æ¥è¯´ä½¿ç”¨å®‰å…¨ç­‰äºè¿ç®—ç¬¦æ—¶ï¼Œä¸¤è¾¹çš„æ“ä½œæ•°çš„å€¼éƒ½ä¸ºNULLæ—¶ï¼Œè¿”å›çš„ç»“æœä¸º 1 è€Œä¸æ˜¯NULLã€‚</p><h3 id="ä¸ç­‰äº"><a href="#ä¸ç­‰äº" class="headerlink" title="ä¸ç­‰äº"></a>ä¸ç­‰äº</h3><p>ä½¿ç”¨â€œï¼&#x3D;â€æˆ–&lt;&gt;æ¥è¡¨ç¤º</p><h2 id="ç¬¦å·è¿ç®—"><a href="#ç¬¦å·è¿ç®—" class="headerlink" title="ç¬¦å·è¿ç®—"></a>ç¬¦å·è¿ç®—</h2><h3 id="ç®€è¿°-1"><a href="#ç®€è¿°-1" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h3><p><img src="/assets/image-20221023151925-781tfx1.png" alt="image">â€‹</p><h3 id="is-nullç³»åˆ—"><a href="#is-nullç³»åˆ—" class="headerlink" title="is nullç³»åˆ—"></a>is nullç³»åˆ—</h3><p>åŒ…æ‹¬is nullï¼Œis not nullï¼Œisnull</p><ol><li>is nullå’Œis not nullæ˜¯å•ç›®è¿ç®—ï¼Œå¦‚A is nullï¼Œåˆ™ä¸ºå½“Aå­—æ®µï¼ˆå€¼ï¼‰ä¸ºnullè¿”å›1</li><li>isnullæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚isnullï¼ˆAï¼‰ï¼Œå½“Aå­—æ®µï¼ˆå€¼ï¼‰ä¸ºnullè¿”å›1</li></ol><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹å­—æ®µçš„æŸ¥è¯¢å¤šç”¨is nullï¼Œå¯¹æ•°å­—å¤šç”¨ç­‰å·å’Œå®‰å…¨ç­‰å·</p><p>æ³¨æ„ï¼whereåå¯æ¥notæˆ–ï¼è¡¨ç¤ºå¦</p><p>ex.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> xxx <span class="keyword">from</span> yyy</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> ï¼ˆA <span class="operator">&lt;=&gt;</span><span class="keyword">null</span>ï¼‰ï¼›</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ä½¿ç”¨notæ—¶æ‹¬å·ä¸ºäº†æé«˜å¯è¯»æ€§è€ŒåŠ çš„ï¼Œè€Œåœ¨ä½¿ç”¨ï¼æ—¶å¿…é¡»åŠ ä¸Šï¼Œè¿™é‡Œçš„A &lt;&#x3D;&gt;nullè¿”å›å€¼ä¼šè¢«notå–å</p><h3 id="æå€¼"><a href="#æå€¼" class="headerlink" title="æå€¼"></a>æå€¼</h3><p>Leastï¼Œæ±‚æœ€å°å€¼</p><p>è¯­æ³•æ ¼å¼ä¸ºï¼šLEAST(å€¼ 1 ï¼Œå€¼ 2 ï¼Œâ€¦ï¼Œå€¼n)ã€‚å…¶ä¸­ï¼Œâ€œå€¼nâ€è¡¨ç¤ºå‚æ•°åˆ—è¡¨ä¸­æœ‰nä¸ªå€¼ã€‚åœ¨æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œè¿”å›æœ€å°å€¼ã€‚</p><p>å…¶ä¸­ï¼Œå½“å‚æ•°æ˜¯æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°æ—¶ï¼ŒLEASTå°†è¿”å›å…¶ä¸­æœ€å°çš„å€¼ï¼›å½“å‚æ•°ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›å­—æ¯è¡¨ä¸­é¡ºåºæœ€é å‰çš„å­—ç¬¦ï¼›å½“æ¯”è¾ƒå€¼åˆ—è¡¨ä¸­æœ‰NULLæ—¶ï¼Œä¸èƒ½åˆ¤æ–­å¤§å°ï¼Œè¿”å›å€¼ä¸ºNULLã€‚</p><p>ex.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> least(first_name,last_name) </span><br><span class="line"><span class="keyword">from</span> employees;</span><br></pre></td></tr></table></figure><p>å¯¹äºè¿™äº›å‡½æ•°ï¼Œè°ƒç”¨æ—¶ï¼ŒæŒ‡å®šä¼ å…¥first_name,last_nameå­—æ®µï¼Œæ­¤æ—¶è¡¨ä¸­æ‹¥æœ‰è¿™ä¸¤å­—æ®µçš„è¡Œå°†ä¼šä½œä¸ºç±»ä¼ å…¥è¿™ä¸ªå‡½æ•°ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢ä»£ç çš„æ„æ€æ˜¯åœ¨æ•´ä¸ªè¡¨ä¸­ï¼Œæ¯”è¾ƒæ¯ä¸€è¡Œçš„first_name,last_nameï¼Œè¾“å‡ºå…¶ä¸­çš„è¾ƒå°å€¼ã€‚</p><p>GreatestäºLeastå¤§ä½“ç›¸ä¼¼</p><h3 id="åŒºé—´"><a href="#åŒºé—´" class="headerlink" title="åŒºé—´"></a>åŒºé—´</h3><p>betweenï¼Œä¸€èˆ¬å’Œandä¸€èµ·ä½¿ç”¨</p><p>BETWEENè¿ç®—ç¬¦ä½¿ç”¨çš„æ ¼å¼é€šå¸¸ä¸º</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> D <span class="keyword">FROM</span> <span class="keyword">TABLE</span> <span class="keyword">WHERE</span> C <span class="keyword">BETWEEN</span> A <span class="keyword">AND</span> B;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œå½“Cå¤§äºæˆ–ç­‰äºAï¼Œå¹¶ä¸”Cå°äºæˆ–ç­‰äºBæ—¶ï¼Œç»“æœä¸º 1 ï¼Œå¦åˆ™ç»“æœä¸º 0ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªé—­åŒºé—´ã€‚</p><p>ex.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="keyword">BETWEEN</span> <span class="number">2500</span> <span class="keyword">AND</span> <span class="number">3500</span> ;</span><br></pre></td></tr></table></figure><h3 id="In"><a href="#In" class="headerlink" title="In"></a>In</h3><p>åŒ…æ‹¬inå’Œnot inï¼Œä¹Ÿå°±æ˜¯å±äºå’Œä¸å±äºï¼Œå’Œbetweenç›¸ä¼¼ï¼Œä½†inæ›´å¤šçš„æ˜¯å¯¹ç¦»æ•£å€¼çš„æŸ¥æ‰¾ã€‚</p><p>INè¿ç®—ç¬¦ç”¨äºåˆ¤æ–­ç»™å®šçš„å€¼æ˜¯å¦æ˜¯INåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå€¼ï¼Œå¦‚æœæ˜¯åˆ™è¿”å› 1 ï¼Œå¦åˆ™è¿”å› 0 ã€‚å¦‚æœç»™å®šçš„å€¼ä¸ºNULLï¼Œæˆ–è€…INåˆ—è¡¨ä¸­å­˜åœ¨NULLï¼Œåˆ™ç»“æœä¸ºNULLã€‚</p><p>ex.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, last_name, salary, manager_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> manager_id <span class="keyword">IN</span> ( <span class="number">100</span> , <span class="number">101</span> , <span class="number">201</span> );</span><br></pre></td></tr></table></figure><p>è€Œnot inå’Œinç±»ä¼¼ï¼Œå¦‚æœä¸æ˜¯INåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå€¼ï¼Œåˆ™è¿”å› 1 ï¼Œå¦åˆ™è¿”å› 0 ã€‚</p><h3 id="Like"><a href="#Like" class="headerlink" title="Like"></a>Like</h3><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>ä¹Ÿå°±æ˜¯æ¨¡ç³ŠæŸ¥è¯¢ï¼Œé€šå¸¸ç”¨äºå­—ç¬¦ä¸²å¦‚æœæ»¡è¶³æ¡ä»¶åˆ™è¿”å› 1 ï¼Œå¦åˆ™è¿”å›0 ã€‚é€šå¸¸å¦‚æœç»™å®šçš„å€¼æˆ–è€…åŒ¹é…æ¡ä»¶ä¸ºNULLï¼Œåˆ™è¿”å›ç»“æœä¸ºNULLã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> last_name</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> last_name <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯ç²¾ç¡®æŸ¥è¯¢ï¼Œè¿”å›æ‰€æœ‰last_name &#x3D; â€˜aâ€™çš„è¡Œ</p><p>è€Œlastå¸¸ä¸%æˆ–_ä¸€èµ·ä½¿ç”¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â€œ<span class="operator">%</span>â€ï¼šåŒ¹é… <span class="number">0</span> ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</span><br><span class="line">â€œ_â€ï¼šåªèƒ½åŒ¹é…ä¸€ä¸ªå­—ç¬¦</span><br></pre></td></tr></table></figure><p>å¦‚appleå’Œabandonedéƒ½å¯ä»¥è¡¨ç¤ºä¸ºa%ï¼Œeatå¯ä»¥è¡¨ç¤ºä¸º_a_æˆ–%a%</p><p>ex.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> first_name</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> first_name <span class="keyword">LIKE</span> <span class="string">&#x27;S%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>è¿”å›æ‰€æœ‰first_nameä¸ºSxxxxxxxxçš„ç»“æœ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">&#x27;_o%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>è¿”å›æ‰€æœ‰æ»¡è¶³xoxxxxxxxçš„ç»“æœ</p><h4 id="è½¬ä¹‰"><a href="#è½¬ä¹‰" class="headerlink" title="è½¬ä¹‰"></a>è½¬ä¹‰</h4><p>å½“æŸ¥è¯¢å¯¹è±¡æœ¬èº«å°±æ˜¯â€_â€æˆ–â€%â€æ—¶ï¼Œä½¿ç”¨è½¬ä¹‰å­—ç¬¦â€\&quot;</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> job_id</span><br><span class="line"><span class="keyword">FROM</span> jobs</span><br><span class="line"><span class="keyword">WHERE</span> job_id <span class="keyword">LIKE</span> â€˜IT\_<span class="operator">%</span>â€˜;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨escapeæŒ‡å®šè½¬ä¹‰å­—ç¬¦ï¼Œå¦‚ä¸‹ä»£ç åˆ™æ˜¯è®©$æˆä¸ºäº†è½¬ä¹‰å­—ç¬¦</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> job_id</span><br><span class="line"><span class="keyword">FROM</span> jobs</span><br><span class="line"><span class="keyword">WHERE</span> job_id <span class="keyword">LIKE</span> â€˜IT$_<span class="operator">%</span>â€˜ <span class="keyword">escape</span> â€˜$â€˜;</span><br></pre></td></tr></table></figure><h2 id="é€»è¾‘è¿ç®—"><a href="#é€»è¾‘è¿ç®—" class="headerlink" title="é€»è¾‘è¿ç®—"></a>é€»è¾‘è¿ç®—</h2><h3 id="ç®€è¿°-2"><a href="#ç®€è¿°-2" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h3><p><img src="/assets/image-20221023162850-blq1ra9.png" alt="image">â€‹</p><p>æ³¨æ„ï¼é€»è¾‘è¿ç®—ä¸¤ä¾§è¡¨è¾¾å¼åº”è¯¥å®Œæ•´ï¼Œå¦‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WHERE</span> manager_id <span class="keyword">IN</span> <span class="number">100</span> <span class="keyword">and</span> manager_id <span class="keyword">IN</span>ï¼›</span><br></pre></td></tr></table></figure><h3 id="é"><a href="#é" class="headerlink" title="é"></a>é</h3><p>NOTæˆ–!</p><p>è¡¨ç¤ºå½“ç»™å®šçš„å€¼ä¸º 0 æ—¶è¿”å› 1 ï¼›å½“ç»™å®šçš„å€¼ä¸ºé 0 å€¼æ—¶è¿”å› 0 ï¼›å½“ç»™å®šçš„å€¼ä¸ºNULLæ—¶ï¼Œè¿”å›NULL</p><p>å¦‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> xxx <span class="keyword">from</span> yyy</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> ï¼ˆA <span class="operator">&lt;=&gt;</span><span class="keyword">null</span>ï¼‰ï¼›</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, job_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> job_id <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="string">&#x27;IT_PROG&#x27;</span>, <span class="string">&#x27;ST_CLERK&#x27;</span>, <span class="string">&#x27;SA_REP&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="ä¸"><a href="#ä¸" class="headerlink" title="ä¸"></a>ä¸</h3><p>ANDæˆ–&amp;&amp;</p><p>å½“ç»™å®šçš„æ‰€æœ‰å€¼å‡ä¸ºé 0 å€¼ï¼Œå¹¶ä¸”éƒ½ä¸ä¸ºNULLæ—¶ï¼Œè¿”å›1 ï¼›å½“ç»™å®šçš„ä¸€ä¸ªå€¼æˆ–è€…å¤šä¸ªå€¼ä¸º 0 æ—¶åˆ™è¿”å› 0 ï¼›å¦åˆ™è¿”å›NULL</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, last_name, job_id, salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">&gt;=</span> <span class="number">10000</span></span><br><span class="line"><span class="keyword">AND</span> job_id <span class="keyword">LIKE</span> <span class="string">&#x27;%MAN%&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="æˆ–"><a href="#æˆ–" class="headerlink" title="æˆ–"></a>æˆ–</h3><p>ORæˆ–||</p><p>å½“ç»™å®šçš„å€¼éƒ½ä¸ä¸ºNULLï¼Œå¹¶ä¸”ä»»ä½•ä¸€ä¸ªå€¼ä¸ºé 0 å€¼æ—¶ï¼Œåˆ™è¿”å› 1 ï¼Œå¦åˆ™è¿”å› 0 ï¼›å½“ä¸€ä¸ªå€¼ä¸ºNULLï¼Œå¹¶ä¸”å¦ä¸€ä¸ªå€¼ä¸ºé 0 å€¼æ—¶ï¼Œè¿”å› 1 ï¼Œå¦åˆ™è¿”å›NULLï¼›å½“ä¸¤ä¸ªå€¼éƒ½ä¸ºNULLæ—¶ï¼Œè¿”å›NULL</p><h3 id="å¼‚æˆ–"><a href="#å¼‚æˆ–" class="headerlink" title="å¼‚æˆ–"></a>å¼‚æˆ–</h3><p>XOR</p><p>å½“ç»™å®šçš„å€¼ä¸­ä»»æ„ä¸€ä¸ªå€¼ä¸ºNULLæ—¶ï¼Œåˆ™è¿”å›NULLï¼›å¦‚æœä¸¤ä¸ªéNULLçš„å€¼éƒ½æ˜¯ 0 æˆ–è€…éƒ½ä¸ç­‰äº 0 æ—¶ï¼Œåˆ™è¿”å› 0 ï¼›å¦‚æœä¸€ä¸ªå€¼ä¸º 0 ï¼Œå¦ä¸€ä¸ªå€¼ä¸ä¸º 0 æ—¶ï¼Œåˆ™è¿”å› 1</p><h2 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h2><h3 id="ç®€è¿°-3"><a href="#ç®€è¿°-3" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h3><p><img src="/assets/image-20221023183247-z9gpyki.png" alt="image">â€‹</p><p>è¿™é‡Œå¯ä»¥å‚è§C</p><p><img src="/assets/image-20221023183439-byban0v.png" alt="image">â€‹</p><h3 id="æŒ‰ä½ä¸"><a href="#æŒ‰ä½ä¸" class="headerlink" title="æŒ‰ä½ä¸"></a>æŒ‰ä½ä¸</h3><p>æŒ‰ä½ä¸ï¼ˆ&amp;ï¼‰è¿ç®—ç¬¦å°†ç»™å®šå€¼å¯¹åº”çš„äºŒè¿›åˆ¶æ•°é€ä½è¿›è¡Œé€»è¾‘ä¸è¿ç®—ã€‚å½“ç»™å®šå€¼å¯¹åº”çš„äºŒè¿›åˆ¶ä½çš„æ•°å€¼éƒ½ä¸º 1 æ—¶ï¼Œåˆ™è¯¥ä½è¿”å› 1 ï¼Œå¦åˆ™è¿”å› 0ã€‚</p><h3 id="æŒ‰ä½æˆ–"><a href="#æŒ‰ä½æˆ–" class="headerlink" title="æŒ‰ä½æˆ–"></a>æŒ‰ä½æˆ–</h3><p>æŒ‰ä½æˆ–ï¼ˆ|ï¼‰è¿ç®—ç¬¦å°†ç»™å®šçš„å€¼å¯¹åº”çš„äºŒè¿›åˆ¶æ•°é€ä½è¿›è¡Œé€»è¾‘æˆ–è¿ç®—ã€‚å½“ç»™å®šå€¼å¯¹åº”çš„äºŒè¿›åˆ¶ä½çš„æ•°å€¼æœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªä¸º 1 æ—¶ï¼Œåˆ™è¯¥ä½è¿”å› 1 ï¼Œå¦åˆ™è¿”å› 0 ã€‚</p><h3 id="æŒ‰ä½å¼‚æˆ–"><a href="#æŒ‰ä½å¼‚æˆ–" class="headerlink" title="æŒ‰ä½å¼‚æˆ–"></a>æŒ‰ä½å¼‚æˆ–</h3><p>æŒ‰ä½å¼‚æˆ–ï¼ˆ^ï¼‰è¿ç®—ç¬¦å°†ç»™å®šçš„å€¼å¯¹åº”çš„äºŒè¿›åˆ¶æ•°é€ä½è¿›è¡Œé€»è¾‘å¼‚æˆ–è¿ç®—ã€‚å½“ç»™å®šå€¼å¯¹åº”çš„äºŒè¿›åˆ¶ä½çš„æ•°å€¼ä¸åŒæ—¶ï¼Œåˆ™è¯¥ä½è¿”å› 1 ï¼Œå¦åˆ™è¿”å› 0 ã€‚</p><h3 id="æŒ‰ä½å–å"><a href="#æŒ‰ä½å–å" class="headerlink" title="æŒ‰ä½å–å"></a>æŒ‰ä½å–å</h3><p>æŒ‰ä½å–åï¼ˆ~ï¼‰è¿ç®—ç¬¦å°†ç»™å®šçš„å€¼çš„äºŒè¿›åˆ¶æ•°é€ä½è¿›è¡Œå–åæ“ä½œï¼Œå³å°† 1 å˜ä¸º 0 ï¼Œå°† 0 å˜ä¸º 1 ã€‚</p><h3 id="æŒ‰ä½ç§»åŠ¨"><a href="#æŒ‰ä½ç§»åŠ¨" class="headerlink" title="æŒ‰ä½ç§»åŠ¨"></a>æŒ‰ä½ç§»åŠ¨</h3><p>æŒ‰ä½å³ç§»ï¼ˆ&gt;&gt;ï¼‰è¿ç®—ç¬¦å°†ç»™å®šçš„å€¼çš„äºŒè¿›åˆ¶æ•°çš„æ‰€æœ‰ä½å³ç§»æŒ‡å®šçš„ä½æ•°ã€‚å³ç§»æŒ‡å®šçš„ä½æ•°åï¼Œå³è¾¹ä½ä½çš„æ•°å€¼è¢«ç§»å‡ºå¹¶ä¸¢å¼ƒï¼Œå·¦è¾¹é«˜ä½ç©ºå‡ºçš„ä½ç½®ç”¨ 0 è¡¥é½ã€‚</p><p>æŒ‰ä½å·¦ç§»ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘æ”¹å˜</p><h3 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><p>è¯­å¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">10</span> <span class="operator">&amp;</span> <span class="operator">~</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>ç”±äºæŒ‰ä½å–åï¼ˆ~ï¼‰è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äºæŒ‰ä½ä¸ï¼ˆ&amp;ï¼‰è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥ 10 &amp; ~ 1 ï¼Œé¦–å…ˆï¼Œå¯¹æ•°å­— 1 è¿›è¡ŒæŒ‰ä½å–åæ“ä½œï¼Œç»“æœé™¤äº†æœ€ä½ä½ä¸º 0 ï¼Œå…¶ä»–ä½éƒ½ä¸º 1 ï¼Œç„¶åä¸ 10 è¿›è¡ŒæŒ‰ä½ä¸æ“ä½œï¼Œç»“æœä¸º 10ã€‚</p><h2 id="è¿ç®—ä¼˜å…ˆçº§"><a href="#è¿ç®—ä¼˜å…ˆçº§" class="headerlink" title="è¿ç®—ä¼˜å…ˆçº§"></a>è¿ç®—ä¼˜å…ˆçº§</h2><p><img src="/assets/image-20221023183649-l47r3od.png" alt="image">â€‹</p><p>æ•°å­—ç¼–å·è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜</p><h2 id="REGEXP"><a href="#REGEXP" class="headerlink" title="REGEXP"></a>REGEXP</h2><p>MySQLä¸­ä½¿ç”¨REGEXPå…³é”®å­—æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦åŒ¹é…æ¨¡å¼ï¼ŒREGEXPè¿ç®—ç¬¦ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²ï¼Œè¯­æ³•æ ¼å¼ä¸ºï¼šexpr REGEXP åŒ¹é…æ¡ä»¶ã€‚å¦‚æœexpræ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œè¿”å›1 ï¼›å¦‚æœä¸æ»¡è¶³ï¼Œåˆ™è¿”å› 0 ã€‚è‹¥expræˆ–åŒ¹é…æ¡ä»¶ä»»æ„ä¸€ä¸ªä¸ºNULLï¼Œåˆ™ç»“æœä¸ºNULLã€‚</p><p>æ³¨æ„ï¼åŒ¹é…æ¡ä»¶è¦ç”¨â€˜xxxxâ€™å•å¼•å·æ‹¬èµ·</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT <span class="string">&#x27;xxguigu&#x27;</span> REGEXP <span class="string">&#x27;gu.gu&#x27;</span>, <span class="string">&#x27;atguigu&#x27;</span> REGEXP <span class="string">&#x27;[ab]â€˜</span></span><br></pre></td></tr></table></figure><h1 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h1><h2 id="æ’åºè§„åˆ™"><a href="#æ’åºè§„åˆ™" class="headerlink" title="æ’åºè§„åˆ™"></a>æ’åºè§„åˆ™</h2><ul><li><p>ä½¿ç”¨ ORDER BY å­å¥æ’åº</p><ul><li><strong>ASCï¼ˆascendï¼‰: å‡åº</strong></li><li><strong>DESCï¼ˆdescendï¼‰:é™åº</strong></li></ul></li><li><p>ORDER BY å­å¥åœ¨SELECTè¯­å¥çš„ç»“å°¾</p></li><li><p>è¯­æ³•é¡ºåºåº”è¯¥æ˜¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> xxxx</span><br><span class="line"><span class="keyword">from</span> xxxx</span><br><span class="line"><span class="keyword">where</span> xxx <span class="keyword">in</span> xxx</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> xxxx</span><br></pre></td></tr></table></figure></li></ul><p>æ‰§è¡Œä¸Šï¼Œé¡ºåºæ˜¯</p><ol><li>from xxx where xxxx</li><li>selectï¼ˆæ­¤æ—¶æ‰å¯ä»¥æŒ‡å®šåˆ«å</li><li>order by</li></ol><h2 id="å•åˆ—æ’åº"><a href="#å•åˆ—æ’åº" class="headerlink" title="å•åˆ—æ’åº"></a>å•åˆ—æ’åº</h2><p>åœ¨æ²¡æœ‰ä½¿ç”¨æ’åºæ—¶ï¼Œæ˜¯æŒ‰ç…§ä¸»é”®çš„å‡åºæ¥æ’åºçš„</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> employee_id,last_name,</span><br><span class="line">salary <span class="keyword">from</span> employees;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ä¸€ä¸ªæ™®é€šçš„æŸ¥è¯¢è¯­å¥ï¼Œä¸‹é¢ä½¿ç”¨order byæ’åº</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, job_id, department_id, hire_date</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> hire_date ;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„æ˜¯å‡åºï¼ˆçœç•¥AESï¼‰ï¼Œå¯ä»¥åœ¨è¡¨åååŠ ä¸ŠDESCè¿›è¡Œé™åºæ’åˆ—</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, last_name, salary<span class="operator">*</span> <span class="number">12</span> annsal</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> annsal;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼å¯¹äºåˆ—çš„åˆ«å</p><p>åªèƒ½åœ¨Order byè¯­å¥ä¸­ä½¿ç”¨ï¼Œåœ¨å…¶ä»–è¯­å¥ä¸­å¦‚Whereä¸­éƒ½æ˜¯æ— æ•ˆçš„</p><h2 id="å¤šåˆ—æ’åº"><a href="#å¤šåˆ—æ’åº" class="headerlink" title="å¤šåˆ—æ’åº"></a>å¤šåˆ—æ’åº</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, department_id, salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> department_id, salary <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><p>åœ¨å¯¹å¤šåˆ—è¿›è¡Œæ’åºçš„æ—¶å€™ï¼Œé¦–å…ˆæ’åºçš„ç¬¬ä¸€åˆ—å¿…é¡»æœ‰ç›¸åŒçš„åˆ—å€¼ï¼Œæ‰ä¼šå¯¹ç¬¬äºŒåˆ—è¿›è¡Œæ’åºã€‚å¦‚æœç¬¬ä¸€åˆ—æ•°æ®ä¸­æ‰€æœ‰å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå°†ä¸å†å¯¹ç¬¬äºŒåˆ—è¿›è¡Œæ’åºã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, department_id, salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> department_id <span class="keyword">DESC</span>, salary <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œåˆ™æ˜¯å…ˆæŒ‰ç…§department_idé™åºæ’åº,å½“å…¶ç›¸åŒå†æŒ‰ç…§salaryå‡åºæ’åº</p><h1 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h1><h2 id="ç®€è¿°-4"><a href="#ç®€è¿°-4" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h2><p>æ‰€è°“åˆ†é¡µæ˜¾ç¤ºï¼Œå°±æ˜¯å°†æ•°æ®åº“ä¸­çš„ç»“æœé›†ï¼Œä¸€æ®µä¸€æ®µæ˜¾ç¤ºå‡ºæ¥éœ€è¦çš„æ¡ä»¶</p><p>MySQLä¸­ä½¿ç”¨ LIMIT å®ç°åˆ†é¡µ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LIMIT [ä½ç½®åç§»é‡,] è¡Œæ•°</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªâ€œä½ç½®åç§»é‡â€å‚æ•°æŒ‡ç¤ºMySQLä»å“ªä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œæ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œå¦‚æœä¸æŒ‡å®šâ€œä½ç½®åç§»é‡â€ï¼Œå°†ä¼šä»è¡¨ä¸­çš„ç¬¬ä¸€æ¡è®°å½•å¼€å§‹ï¼ˆç¬¬ä¸€æ¡è®°å½•çš„ä½ç½®åç§»é‡æ˜¯ 0 ï¼Œç¬¬äºŒæ¡è®°å½•çš„ä½ç½®åç§»é‡æ˜¯1 ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ï¼›ç¬¬äºŒä¸ªå‚æ•°â€œè¡Œæ•°â€æŒ‡ç¤ºè¿”å›çš„è®°å½•æ¡æ•°</p><p><strong>æ³¨æ„ï¼šLIMIT å­å¥å¿…é¡»æ”¾åœ¨æ•´ä¸ªSELECTè¯­å¥çš„æœ€åï¼</strong></p><h2 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--å‰ 10 æ¡è®°å½•ï¼š</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> è¡¨å LIMIT <span class="number">0</span> , <span class="number">10</span> ;</span><br><span class="line">æˆ–è€…</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> è¡¨å LIMIT <span class="number">10</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">--ç¬¬ 11 è‡³ 20 æ¡è®°å½•ï¼š</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> è¡¨å LIMIT <span class="number">10</span> , <span class="number">10</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment">--ç¬¬ 21 è‡³ 30 æ¡è®°å½•ï¼š</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> è¡¨å LIMIT <span class="number">20</span> , <span class="number">10</span> ;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MySQL <span class="number">8.0</span>ä¸­å¯ä»¥ä½¿ç”¨â€œLIMIT <span class="number">3</span> <span class="keyword">OFFSET</span> <span class="number">4</span>â€ï¼Œ</span><br><span class="line">æ„æ€æ˜¯è·å–ä»ç¬¬ <span class="number">5</span> æ¡è®°å½•å¼€å§‹åé¢çš„ <span class="number">3</span> æ¡è®°å½•ï¼Œ</span><br><span class="line">å’Œâ€œLIMIT <span class="number">4</span>,<span class="number">3</span>;â€è¿”å›çš„ç»“æœç›¸åŒ</span><br></pre></td></tr></table></figure><h2 id="åˆ†é¡µæ˜¾ç¤º"><a href="#åˆ†é¡µæ˜¾ç¤º" class="headerlink" title="åˆ†é¡µæ˜¾ç¤º"></a>åˆ†é¡µæ˜¾ç¤º</h2><p>åˆ†é¡µæ˜¾å¼å…¬å¼ ï¼šï¼ˆ<strong>å½“å‰é¡µæ•°- 1 ï¼‰*æ¯é¡µæ¡æ•°ï¼Œæ¯é¡µæ¡æ•°</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">table</span></span><br><span class="line">LIMIT(PageNo <span class="operator">-</span> <span class="number">1</span> )<span class="operator">*</span>PageSize,PageSize;</span><br></pre></td></tr></table></figure><h1 id="å¤šè¡¨æŸ¥è¯¢"><a href="#å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢"></a>å¤šè¡¨æŸ¥è¯¢</h1><h2 id="ä¸€å¯¹å¤šè¡¨"><a href="#ä¸€å¯¹å¤šè¡¨" class="headerlink" title="ä¸€å¯¹å¤šè¡¨"></a>ä¸€å¯¹å¤šè¡¨</h2><p>ä¸€ä¸ªè¡¨ä¸­çš„å­—æ®µï¼Œå’Œå…¶ä»–è¡¨çš„å­—æ®µå»ºç«‹äº†è”ç³»ï¼Œè¡¨å’Œè¡¨ä¹‹é—´å…·æœ‰äº†ä¸€å¯¹å¤šçš„å…³ç³»</p><p>åˆ†è¡¨ï¼Œç›®çš„æ˜¯å‡å°‘å†…å­˜æ¶ˆè€—ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼ˆå‚è§ä¼˜åŒ–ï¼‰</p><p><img src="/assets/1649562093193-20221025222331-cqfu8t0.png" alt="1649562093193">â€‹</p><p><img src="/assets/image-20221025222420-oszhmi9.png" alt="image">â€‹</p><h2 id="ç¬›å¡å°”ç§¯"><a href="#ç¬›å¡å°”ç§¯" class="headerlink" title="ç¬›å¡å°”ç§¯"></a>ç¬›å¡å°”ç§¯</h2><h3 id="ç®€è¿°-5"><a href="#ç®€è¿°-5" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h3><p>å‡è®¾ä¸¤ä¸ªé›†åˆ X å’Œ Yï¼Œé‚£ä¹ˆ X å’Œ Y çš„ç¬›å¡å°”ç§¯å°±æ˜¯ X å’Œ Y çš„æ‰€æœ‰å¯èƒ½ç»„åˆï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå¯¹è±¡æ¥è‡ªäº Xï¼Œç¬¬äºŒä¸ªå¯¹è±¡æ¥è‡ªäº Y çš„æ‰€æœ‰å¯èƒ½ã€‚ç»„åˆçš„ä¸ªæ•°å³ä¸ºä¸¤ä¸ªé›†åˆä¸­å…ƒç´ ä¸ªæ•°çš„ä¹˜ç§¯æ•°</p><p><img src="/assets/image-20221025223812-7txl18a.png" alt="image">â€‹</p><p>ä¹Ÿç§°ä½œäº¤å‰è¿æ¥ï¼ˆCROSS JOINï¼‰,å…¶ä½œç”¨å°±æ˜¯å¯ä»¥æŠŠä»»æ„è¡¨è¿›è¡Œè¿æ¥ï¼Œå³ä½¿è¿™ä¸¤å¼ è¡¨ä¸ç›¸å…³</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#æ¡ˆä¾‹ï¼šæŸ¥è¯¢å‘˜å·¥çš„å§“ååŠå…¶éƒ¨é—¨åç§°</span><br><span class="line"><span class="keyword">SELECT</span> last_name, department_name</span><br><span class="line"><span class="keyword">FROM</span> employees, departments;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå°±æ¶‰åŠäº†ç¬›å¡å°”ç§¯é—®é¢˜</p><p><img src="/assets/image-20221025223436-1i3xskv.png" alt="image">â€‹</p><p>å¯ä»¥çœ‹åˆ°æ¯ä¸€ä¸ªlast_nameéƒ½å¯¹åº”äº†å¤šä¸ªdepartment_nameï¼Œè¿™æ˜¯å› ä¸ºlastå’Œæ¯ä¸€ä¸ªdepartmentéƒ½åŒ¹é…äº†ä¸€æ¬¡ï¼Œè¿™å°±æ˜¯ç¬›å¡å°”ç§¯é”™è¯¯</p><p><img src="/assets/image-20221025222428-t4k833q.png" alt="image">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥è¯¢å‘˜å·¥å§“åå’Œæ‰€åœ¨éƒ¨é—¨åç§°</span><br><span class="line"><span class="keyword">SELECT</span> last_name,department_name <span class="keyword">FROM</span> </span><br><span class="line">employees,departments;</span><br><span class="line"><span class="keyword">SELECT</span> last_name,department_name <span class="keyword">FROM</span> </span><br><span class="line">employees <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> departments;</span><br><span class="line"><span class="keyword">SELECT</span> last_name,department_name <span class="keyword">FROM</span> </span><br><span class="line">employees <span class="keyword">INNER</span> <span class="keyword">JOIN</span> departments;</span><br><span class="line"><span class="keyword">SELECT</span> last_name,department_name <span class="keyword">FROM</span> </span><br><span class="line">employees <span class="keyword">JOIN</span> departments;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šéƒ½æ˜¯ä¼šå‡ºç°ç¬›å¡å°”ç§¯é”™è¯¯çš„æƒ…å†µ</p><h3 id="ä¸¤è¡¨çš„è¿æ¥æ¡ä»¶"><a href="#ä¸¤è¡¨çš„è¿æ¥æ¡ä»¶" class="headerlink" title="ä¸¤è¡¨çš„è¿æ¥æ¡ä»¶"></a>ä¸¤è¡¨çš„è¿æ¥æ¡ä»¶</h3><p>æŸ¥è¯¢employes_id,department_name</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, department_name</span><br><span class="line"><span class="keyword">FROM</span> employees, departments;</span><br></pre></td></tr></table></figure><p>å·²çŸ¥è¿™æ ·ä¼šäº§ç”Ÿç¬›å¡å°”ç§¯é—®é¢˜ï¼Œåˆ™éœ€è¦ä½¿ç”¨è¿æ¥æ¡ä»¶ï¼ˆç­›é€‰ï¼‰ï¼Œå¾—åˆ°æƒ³è¦çš„ç»“æœ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, department_name</span><br><span class="line"><span class="keyword">FROM</span> employees, departments</span><br><span class="line"><span class="keyword">where</span> employees.departments_name<span class="operator">=</span>departments.departments_name</span><br></pre></td></tr></table></figure><p><img src="/assets/1649562093193-20221025225640-7ds6czi.png" alt="1649562093193">â€‹</p><p>å¦‚å›¾ï¼Œå»ºç«‹ç›¸ç­‰æ—¶çš„è¿æ¥</p><h3 id="æŒ‡å®š"><a href="#æŒ‡å®š" class="headerlink" title="æŒ‡å®š"></a>æŒ‡å®š</h3><p>æŸ¥è¯¢employes_id,department_name,dapartment_idï¼›</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, department_name,dapartment_id</span><br><span class="line"><span class="keyword">FROM</span> employees, departments;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶åˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸ºdepartment_idåœ¨employeeså’Œdepartmentä¸¤è¡¨ä¸­å‡å­˜åœ¨ï¼Œå¯¹äºè¿™æ¬¡æŸ¥è¯¢æ¥è¯´department_idæ˜¯æ¨¡ç³Šçš„ï¼Œä¸çŸ¥é“è¯¥ä»é‚£ä¸€å¼ è¡¨æŸ¥è¯¢  </p><p><img src="/assets/1649562093193-20221025225640-7ds6czi.png" alt="1649562093193">â€‹</p><p>å¦‚å›¾ï¼ŒåŒæ—¶å­˜åœ¨ï¼Œåˆ™éœ€è¦æŒ‡å®šæŸ¥è¯¢è¡¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">employees.departments_id</span><br></pre></td></tr></table></figure><p>æŒ‡å®šåœ¨employeesè¡¨ä¸­æŸ¥è¯¢departments_id</p><p>ä¸ºä»€ä¹ˆlast_name, department_nameå¯ä»¥ä¸æŒ‡å®šï¼Ÿå› ä¸ºä»–ä»¬åœ¨è¿™æ¬¡æŸ¥è¯¢ä¸­æ˜¯å”¯ä¸€å­˜åœ¨åœ¨ä¸€å¼ è¡¨ä¸­çš„ä¸ä¼šæ¨¡ç³Šï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯å¦ä¼šæ¨¡ç³Šéƒ½å»ºè®®åŠ ä¸Šè¡¨åï¼ˆä»sqlä¼˜åŒ–çš„è§’åº¦ï¼‰</p><h2 id="è¡¨çš„åˆ«å"><a href="#è¡¨çš„åˆ«å" class="headerlink" title="è¡¨çš„åˆ«å"></a>è¡¨çš„åˆ«å</h2><p>è¡¨çš„åˆ«åå¯ä»¥åœ¨selectå’Œwhereé‡Œä½¿ç”¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> e.employee_id, e.last_name, e.department_id,</span><br><span class="line">d.department_id, d.location_id</span><br><span class="line"><span class="keyword">FROM</span> employees e , departments d</span><br><span class="line"><span class="keyword">WHERE</span> e.department_id <span class="operator">=</span> d.department_id;</span><br></pre></td></tr></table></figure><p>ç”±æ‰§è¡Œé¡ºåº</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> xxx <span class="keyword">where</span> xxxx</span><br><span class="line"><span class="keyword">select</span>ï¼ˆæ­¤æ—¶æ‰å¯ä»¥æŒ‡å®šåˆ«å</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br></pre></td></tr></table></figure><p>å¯çŸ¥åœ¨fromä¸­å®šä¹‰äº†è¡¨çš„åˆ«ååï¼Œåœ¨selectå’Œwhereç­‰ä¸­éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ³¨æ„ï¼å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†è¡¨çš„åˆ«åï¼Œåœ¨æŸ¥è¯¢å­—æ®µä¸­ã€è¿‡æ»¤æ¡ä»¶ä¸­å°±åªèƒ½ä½¿ç”¨åˆ«åè¿›è¡Œä»£æ›¿ï¼Œä¸èƒ½ä½¿ç”¨åŸæœ‰çš„è¡¨åï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™</p><h2 id="å¤šè¡¨è¿æ¥"><a href="#å¤šè¡¨è¿æ¥" class="headerlink" title="å¤šè¡¨è¿æ¥"></a>å¤šè¡¨è¿æ¥</h2><p>ä¾‹é¢˜</p><p>æŸ¥è¯¢å‡ºå…¬å¸å‘˜å·¥çš„ last_name,department_name, city</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employees.`department_id`,</span><br><span class="line">employees.`last_name`,</span><br><span class="line">departments.`department_name`,</span><br><span class="line">locations.`city` </span><br><span class="line"><span class="keyword">FROM</span> employees,</span><br><span class="line">departments,locations</span><br><span class="line"><span class="keyword">WHERE</span> employees.`department_id`</span><br><span class="line"><span class="operator">=</span> departments.`department_id`<span class="keyword">AND</span></span><br><span class="line">departments.`location_id` <span class="operator">=</span> </span><br><span class="line">locations.`location_id`;</span><br></pre></td></tr></table></figure><p><img src="/assets/1649562093193-20221025233544-o1jtbxw.png" alt="1649562093193">â€‹</p><p>å¤šï¼ˆnï¼‰è¡¨è¿æ¥éœ€è¦è‡³å°‘n-1ä¸ªè¿æ¥æ¡ä»¶ï¼Œæ³¨æ„ï¼è¿æ¥æ¡ä»¶éœ€è¦é€»è¾‘è¿ç®—ç¬¦è¿æ¥</p><h2 id="éç­‰å€¼è¿æ¥"><a href="#éç­‰å€¼è¿æ¥" class="headerlink" title="éç­‰å€¼è¿æ¥"></a>éç­‰å€¼è¿æ¥</h2><p>åœ¨ä¸Šé¢çš„è¿æ¥è¯­å¥ä¸­ï¼Œä½¿ç”¨çš„éƒ½æ˜¯ç­‰äºæ¡ä»¶è¿æ¥ï¼Œè¿™æ ·çš„è¿æ¥å³ç­‰å€¼è¿æ¥ï¼Œä½¿ç”¨å…¶ä»–æ¯”è¾ƒè¿ç®—ç¬¦å³ç§°ä¸ºéç­‰å€¼è¿æ¥</p><p>ä¾‹</p><p><img src="/assets/image-20221026081308-8chlt9p.png" alt="image">â€‹</p><p>æŸ¥è¯¢æ¯ä½å‘˜å·¥åœ¨Job_Gradesä¸­çš„ç­‰çº§</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> e.last_name, e.salary, j.grade_level</span><br><span class="line"><span class="keyword">FROM</span> employees e, job_grades j</span><br><span class="line"><span class="keyword">WHERE</span> e.salary <span class="keyword">BETWEEN</span> j.lowest_sal <span class="keyword">AND</span> j.highest_sal;</span><br></pre></td></tr></table></figure><p>è¿”å›æ‰€æœ‰e.salaryä½äºj.lowest_sal AND j.highest_salä¹‹é—´çš„ç»“æœï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ”¹å†™æˆå¤§äºç­‰äºå°äºç­‰äºç¬¦å·ï¼›</p><p>æœ€åè¿˜å¯ä»¥ä½¿ç”¨Order byæ’åº</p><p><img src="/assets/image-20221026081514-rsemshz.png" alt="image">â€‹</p><h2 id="è‡ªè¿æ¥"><a href="#è‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥"></a>è‡ªè¿æ¥</h2><h3 id="è‡ªæˆ‘å¼•ç”¨"><a href="#è‡ªæˆ‘å¼•ç”¨" class="headerlink" title="è‡ªæˆ‘å¼•ç”¨"></a>è‡ªæˆ‘å¼•ç”¨</h3><p>ä¸Šé¢çš„æ‰€æœ‰è¿æ¥éƒ½æ˜¯éè‡ªè¿æ¥ï¼Œæ˜¯ä¸åŒçš„è¡¨è¿›è¡Œè¿æ¥ã€‚åŒæ—¶ï¼Œè¡¨ä¸­çš„æ•°æ®æ˜¯å¯ä»¥è‡ªæˆ‘å¼•ç”¨çš„ï¼Œå¦‚</p><p><img src="/assets/image-20221026082353-xlr08zx.png" alt="image">â€‹</p><p>è¿™å¼ è¡¨é‡Œï¼Œæ¯ä¸€ä¸ªå‘˜å·¥æœ‰ä¸€ä¸ªidï¼Œå‘˜å·¥ä¹Ÿæœ‰ä¸€ä¸ªä¸»ç®¡ï¼Œä¸»ç®¡æœ¬èº«å°±æ˜¯å‘˜å·¥ä¹Ÿæœ‰å‘˜å·¥idï¼Œä¸»ç®¡ç¼–å·å’Œå‘˜å·¥ç¼–å·æ„æˆäº†è‡ªæˆ‘å¼•ç”¨ã€‚</p><h3 id="è¿›è¡Œè‡ªè¿æ¥"><a href="#è¿›è¡Œè‡ªè¿æ¥" class="headerlink" title="è¿›è¡Œè‡ªè¿æ¥"></a>è¿›è¡Œè‡ªè¿æ¥</h3><p>ex.  </p><p>æŸ¥è¯¢å‘˜å·¥idï¼Œå§“åå’Œç®¡ç†è€…çš„idï¼Œå§“åã€‚</p><p>è¿™ä¸ªæ“ä½œå¯ä»¥è¯•çœ‹æˆåœ¨ä¸¤å¼ employeesè¡¨ï¼ˆç‰©ç†ä¸Šæœ¬è´¨è¿˜æ˜¯ä¸€å¼ è¡¨ï¼‰é—´è¿è¿æ¥ï¼Œå·¦è¡¨çš„manager_idå’Œå³è¡¨çš„employee_idè¿æ¥ï¼Œ</p><p><img src="/assets/image-20221026083033-xwpzxbh.png" alt="image"><img src="/assets/image-20221026083125-95p46ct.png" alt="image"></p><p>åœ¨æ“ä½œä¸­ï¼Œä¸ºäº†åŒºåˆ«å·¦å³è¡¨ï¼Œéœ€è¦ç»™ä»–ä»¬èµ·åˆ«å</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> employees worker,employees manager;</span><br></pre></td></tr></table></figure><p><img src="/assets/image-20221026082907-3746kfd.png" alt="image">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> worker.employee_id,worker.last_name,</span><br><span class="line">manager.employee_id,manager.last_name</span><br><span class="line"><span class="keyword">FROM</span> employees worker,employees manager</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>å»ºç«‹è¿æ¥</span><br><span class="line"><span class="keyword">WHERE</span> worker.`manager_id` <span class="operator">=</span> manager.`employee_id`;</span><br></pre></td></tr></table></figure><p>ç»“æœ</p><p><img src="/assets/image-20221026084256-zrlsk41.png" alt="image">â€‹</p><h2 id="å†…è¿æ¥å’Œå¤–è¿æ¥"><a href="#å†…è¿æ¥å’Œå¤–è¿æ¥" class="headerlink" title="å†…è¿æ¥å’Œå¤–è¿æ¥"></a>å†…è¿æ¥å’Œå¤–è¿æ¥</h2><h3 id="å†…è¿æ¥"><a href="#å†…è¿æ¥" class="headerlink" title="å†…è¿æ¥"></a>å†…è¿æ¥</h3><p>åˆå¹¶å…·æœ‰åŒä¸€åˆ—çš„ä¸¤ä¸ªä»¥ä¸Šçš„è¡¨çš„è¡Œ, ç»“æœé›†ä¸­ä¸åŒ…å«ä¸€ä¸ªè¡¨ä¸å¦ä¸€ä¸ªè¡¨ä¸åŒ¹é…çš„è¡Œã€‚</p><p>ç®€å•æ¥è¯´å°±æ˜¯ç»“æœé›†åªè¿”å›æ»¡è¶³æŸ¥è¯¢æ¡ä»¶çš„è¡Œã€‚</p><p>å¯¹äºä¸Šé¢éç­‰å€¼è¿æ¥ä¸­çš„ä¾‹å­å¯çŸ¥ï¼Œå­˜åœ¨æ²¡æœ‰managerçš„å‘˜å·¥ï¼Œä¹Ÿå°±æ˜¯managerä¸ºnullï¼Œè¿™æ ·çš„è¡Œï¼Œå› ä¸ºmanagerè¡¨ä¸­æ²¡æœ‰nullè¡Œï¼Œæ‰€ä»¥å…¶ä¸ä¼šé€šè¿‡ç»“æœé›†è¿”å›ã€‚</p><h3 id="å¤–è¿æ¥"><a href="#å¤–è¿æ¥" class="headerlink" title="å¤–è¿æ¥"></a>å¤–è¿æ¥</h3><h4 id="ç®€è¿°-6"><a href="#ç®€è¿°-6" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h4><p>ä¸€èˆ¬æƒ…å†µï¼ŒæŸ¥è¯¢æ‰€æœ‰ï¼ˆå‘˜å·¥ï¼‰çš„xxxåˆ™éœ€è¦å¤–è¿æ¥ </p><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯SQL99çš„è¯­æ³•</p><p><img src="/assets/image-20221026091605-qqdz24e.png" alt="image">â€‹</p><p>å¦‚å·¦è¿æ¥ï¼Œå¤šæ˜¾ç¤ºå·¦è¡¨æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™å³è¡¨ä¸­æå–çš„æ•°æ®æ•°é‡å°±å°‘äº†ï¼Œå³è¡¨ä¸è¶³çš„éƒ¨åˆ†åˆ™è¿”å›ç©º</p><p>ä½¿ç”¨çš„æ˜¯join xxxx onè¯­å¥è¿›è¡Œå¤–è¿æ¥</p><h4 id="å·¦è¿æ¥"><a href="#å·¦è¿æ¥" class="headerlink" title="å·¦è¿æ¥"></a><strong>å·¦è¿æ¥</strong></h4><p>å·¦è¿æ¥å°±æ˜¯å°†JOINå‰é¢çš„è¡¨ä¸­æ‰€æœ‰è®°å½•éƒ½å±•ç¤ºå‡ºæ¥ã€‚</p><p>Teachersæ•™å¸ˆè¡¨é“¾æ¥Studentså­¦ç”Ÿè¡¨ï¼Œé€šè¿‡æ•™å¸ˆå­—æ®µTidè¿æ¥ã€‚</p><p><img src="/assets/image-20221026104729-a869niw.png" alt="image">â€‹</p><p><img src="/assets/image-20221026104736-mxpx5w2.png" alt="image">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Teachers <span class="keyword">AS</span> tï¼ŒStudents <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">where</span> t.Tid <span class="operator">=</span> s.Tidï¼›</span><br></pre></td></tr></table></figure><p>ç»“æœä¸­åªæ˜¾ç¤ºäº†å¼ ä¸‰å’Œæå››ä¸¤ä¸ªè€å¸ˆã€‚</p><p>å®é™…ä¸Šï¼Œwhereå°±æ˜¯â€joinâ€ï¼Œä¹Ÿå°±æ˜¯å†…è¿æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨whereè¯­å¥ä¹Ÿèƒ½æ”¹å†™æˆ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Teachers <span class="keyword">AS</span> t</span><br><span class="line"><span class="keyword">JOIN</span> Students <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">ON</span> t.Tid <span class="operator">=</span> s.Tid</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„Joinå°±æ˜¯å°†ä¸¤è¡¨è¿æ¥ï¼ŒOnï¼Œé€šè¿‡æŸæŸæ¡ä»¶ã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦æ˜¾ç¤ºæ‰€æœ‰è€å¸ˆï¼Œä¸ç®¡è¿™ä¸ªè€å¸ˆæœ‰æ²¡æœ‰å¯¹åº”çš„å­¦ç”Ÿã€‚è¿™ä¸ªæ—¶å€™å°±åº”è¯¥ç”¨åˆ°LEFT JOIN å·¦è¿æ¥äº†ã€‚å°†å‰é¢çš„Teachersè¡¨ä¸­æ‰€æœ‰è®°å½•éƒ½å±•ç¤ºå‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯Joinå·¦ä¾§çš„è¡¨å…¨æ˜¾ç¤ºã€‚</p><p>ex.</p><p>Teachersæ•™å¸ˆè¡¨è¿æ¥Studentså­¦ç”Ÿè¡¨ï¼Œé€šè¿‡æ•™å¸ˆå­—æ®µTidè¿æ¥ï¼Œè€å¸ˆè¦å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Teachers <span class="keyword">AS</span> t</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> Students <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">ON</span> t.Tid <span class="operator">=</span> s.Tid</span><br></pre></td></tr></table></figure><p><img src="/assets/image-20221026111852-4m2k4at.png" alt="image">â€‹</p><p>è¿™æ ·å°±å»ºç«‹äº†å·¦è¿æ¥ï¼Œæ‰€æœ‰è€å¸ˆéƒ½æ˜¾ç¤ºå‡ºæ¥äº†</p><h4 id="å³è¿æ¥"><a href="#å³è¿æ¥" class="headerlink" title="å³è¿æ¥"></a>å³è¿æ¥</h4><p>å³è¿æ¥å°±æ˜¯å°†JOINåé¢çš„è¡¨ä¸­æ‰€æœ‰è®°å½•éƒ½å±•ç¤ºå‡ºæ¥ã€‚è·Ÿå·¦è¿æ¥æ˜¯å¯¹åº”äº’é€šçš„ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢Teachersè¡¨å’ŒStudentsè¡¨äº’æ¢ï¼Œå†å°†LEFT JOINæ”¹æˆRIGHT JOINï¼Œè¾“å‡ºç»“æœåŸºæœ¬æ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Students <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> Teachers <span class="keyword">AS</span> t</span><br><span class="line"><span class="keyword">ON</span> t.Tid <span class="operator">=</span> s.Tid</span><br></pre></td></tr></table></figure><p><img src="/assets/image-20221026112214-526dxwe.png" alt="image">â€‹</p><p>ä¸LEFT JOINè¾“å‡ºçš„è®°å½•æ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼š</p><p>Studentsè¡¨ä¸­çš„åˆ—ï¼ˆSidã€Snameç­‰ï¼‰åœ¨å‰é¢ï¼ŒTeachersè¡¨ä¸­çš„åˆ—ï¼ˆTidã€Tnameï¼‰åœ¨åé¢ï¼Œå› ä¸ºTeacheråœ¨è¿æ¥çš„å³ä¾§ã€‚</p><h4 id="å…¨è¿æ¥"><a href="#å…¨è¿æ¥" class="headerlink" title="å…¨è¿æ¥"></a>å…¨è¿æ¥</h4><p>FYLL JOIN</p><p>MySQLä¸­ä¸æ”¯æŒ FULL JOINï¼Œå®é™…ä¸šåŠ¡ä¸­ï¼ŒåŸºæœ¬ä¸ç”¨å…¨è¿æ¥ã€‚å…¨è¿æ¥çš„ç»“æœé›†ç»“åˆäº† LEFT JOIN å’Œ RIGHT JOIN çš„ç»“æœé›†ã€‚ç®€å•æ¥è¯´å°±æ˜¯ä¸é‡è¦ã€‚</p><p>MySQLä¸æ”¯æŒFULL JOINï¼Œä½†æ˜¯å¯ä»¥ç”¨ LEFT JOIN UNION RIGHT joinä»£æ›¿ã€‚</p><h2 id="Union"><a href="#Union" class="headerlink" title="Union"></a>Union</h2><p><strong>åˆå¹¶æŸ¥è¯¢ç»“æœ</strong>åˆ©ç”¨UNIONå…³é”®å­—ï¼Œå¯ä»¥ç»™å‡ºå¤šæ¡SELECTè¯­å¥ï¼Œå¹¶å°†å®ƒä»¬çš„ç»“æœç»„åˆæˆå•ä¸ªç»“æœé›†ã€‚åˆå¹¶æ—¶ï¼Œä¸¤ä¸ªè¡¨å¯¹åº”çš„åˆ—æ•°å’Œæ•°æ®ç±»å‹å¿…é¡»ç›¸åŒï¼Œå¹¶ä¸”ç›¸äº’å¯¹åº”ã€‚å„ä¸ªSELECTè¯­å¥ä¹‹é—´ä½¿ç”¨UNIONæˆ–UNION ALLå…³é”®å­—åˆ†éš”ã€‚ </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span>,... <span class="keyword">FROM</span> <span class="keyword">table</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span>,... <span class="keyword">FROM</span> <span class="keyword">table</span></span><br></pre></td></tr></table></figure><p><img src="/assets/image-20221026122304-ba487b4.png" alt="image">â€‹</p><p>UNION æ“ä½œç¬¦è¿”å›ä¸¤ä¸ªæŸ¥è¯¢çš„ç»“æœé›†çš„å¹¶é›†ï¼Œå»é™¤é‡å¤è®°å½•ã€‚é‡å¤è®°å½•åªä¿ç•™ä¸€ä»½ã€‚</p><p><img src="/assets/image-20221026122335-9zxoj5l.png" alt="image">â€‹</p><p>UNION ALLæ“ä½œç¬¦è¿”å›ä¸¤ä¸ªæŸ¥è¯¢çš„ç»“æœé›†çš„å¹¶é›†ã€‚å¯¹äºä¸¤ä¸ªç»“æœé›†çš„é‡å¤éƒ¨åˆ†ï¼Œä¸å»é‡ï¼Œä¹Ÿå°±æ˜¯äº¤é›†éƒ¨åˆ†å‡ºç°ä¸¤æ¬¡ã€‚</p><p>æ³¨æ„ï¼šæ‰§è¡ŒUNION ALLè¯­å¥æ—¶æ‰€éœ€è¦çš„èµ„æºæ¯”UNIONè¯­å¥å°‘ã€‚å¦‚æœæ˜ç¡®çŸ¥é“åˆå¹¶æ•°æ®åçš„ç»“æœæ•°æ®ä¸å­˜åœ¨é‡å¤æ•°æ®ï¼Œæˆ–è€…ä¸éœ€è¦å»é™¤é‡å¤çš„æ•°æ®ï¼Œåˆ™å°½é‡ä½¿ç”¨UNION ALLè¯­å¥ï¼Œä»¥æé«˜æ•°æ®æŸ¥è¯¢çš„æ•ˆç‡ã€‚ä¹Ÿå°±æ˜¯è¯´å°½é‡ä½¿ç”¨union onï¼›</p><h2 id="joins"><a href="#joins" class="headerlink" title="joins"></a>joins</h2><p>joinå¯ä»¥è¿æ¥å¤šè¡¨ï¼Œä½†è¶…è¿‡ä¸‰ä¸ªè¡¨ç¦æ­¢ä½¿ç”¨join</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line"><span class="keyword">from</span> xxxx <span class="keyword">join</span> xxxx <span class="keyword">on</span> xxxx</span><br><span class="line"><span class="keyword">join</span> xxxx <span class="keyword">on</span> xxxxï¼›</span><br></pre></td></tr></table></figure><p><img src="/assets/image-20221026122721-il44jrb.png" alt="image">â€‹</p><p>ç”±äºmysqlä¸æ”¯æŒfull joinï¼Œç›´æ¥å®ç°å·¦ä¸‹å›¾å’Œå³ä¸‹å›¾æ˜¯ä¸è¡Œçš„ã€‚</p><p>ä½†æ˜¯ä½¿ç”¨unionå¯ä»¥å®ç°ã€‚</p><p>ä¸­å›¾ï¼šå†…è¿æ¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#ä¸­å›¾ï¼šå†…è¿æ¥ Aâˆ©B</span><br><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å·¦ä¸Šå›¾ï¼šå·¦å¤–è¿æ¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#å·¦ä¸Šå›¾ï¼šå·¦å¤–è¿æ¥</span><br><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`;</span><br></pre></td></tr></table></figure><p>å³ä¸Šå›¾ï¼šå³å¤–è¿æ¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#å³ä¸Šå›¾ï¼šå³å¤–è¿æ¥</span><br><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`;</span><br></pre></td></tr></table></figure><p>å·¦å›¾ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`</span><br><span class="line"><span class="keyword">WHERE</span> d.`department_id` <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure><p><img src="/assets/image-20221026124737-movs1kg.png" alt="image"></p><p>å¯¹äºè¿™å¼ å›¾ï¼Œå‡è®¾Aè¡¨æŸ¥è¯¢å…¶ä¸­çš„nameï¼Œidä¸¤ä¸ªå­—æ®µï¼ŒBè¡¨æŸ¥è¯¢idï¼Œdepartmentä¸¤å­—æ®µï¼Œé€šè¿‡idï¼ŒABè¡¨å»ºç«‹äº†è¿æ¥ã€‚æ­¤æ—¶ï¼Œåšå·¦è¿æ¥ï¼Œä¹Ÿå°±æ˜¯Aè„šé•¿ï¼Œåˆ™idå’Œdepartmentä¼šä½¿ç”¨nullè¡¥å¿ï¼ŒABçš„äº¤é›†å¿…ç„¶æ˜¯énull</p><p>å¯¹äºä¸Šè¿°ä»£ç ï¼Œwhereç­›é€‰ä¿ç•™äº†department_idä¸ºnullä¹Ÿå°±æ˜¯è¡¥å¿çš„è¡Œï¼Œè€Œénullä¹Ÿå°±æ˜¯ABå…±æœ‰çš„è¢«ç­›å»ï¼Œç•™ä¸‹Aä¸­çš„nullï¼›</p><p>ç®€å•æ¥è¯´ï¼Œå»æ‰å…¬å…±éƒ¨åˆ†ï¼Œå¯¹äºå…¬å…±éƒ¨åˆ†ï¼Œdepartment_idä¸å¯èƒ½ä¸ºç©ºã€‚</p><p>å³å›¾ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`</span><br><span class="line"><span class="keyword">WHERE</span> e.`department_id` <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure><p>å·¦ä¸‹ï¼šæ»¡å¤–è¿æ¥</p><p>å·¦å›¾ä¸å³ä¸Šå›¾çš„union</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`</span><br><span class="line"><span class="keyword">WHERE</span> d.`department_id` <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span> #æ²¡æœ‰å»é‡æ“ä½œï¼Œæ•ˆç‡é«˜</span><br><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`;</span><br></pre></td></tr></table></figure><p>å³ä¸‹ï¼š</p><p>å·¦å›¾ä¸å³ä¸­çš„union</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`</span><br><span class="line"><span class="keyword">WHERE</span> d.`department_id` <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`</span><br><span class="line"><span class="keyword">WHERE</span> e.`department_id` <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure><h2 id="è‡ªç„¶è¿æ¥"><a href="#è‡ªç„¶è¿æ¥" class="headerlink" title="è‡ªç„¶è¿æ¥"></a>è‡ªç„¶è¿æ¥</h2><p>SQL 99 åœ¨ SQL 92 çš„åŸºç¡€ä¸Šæä¾›äº†ä¸€äº›ç‰¹æ®Šè¯­æ³•ï¼Œæ¯”å¦‚ â€‹NATURAL JOINâ€‹ ç”¨æ¥è¡¨ç¤ºè‡ªç„¶è¿æ¥ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè‡ªç„¶è¿æ¥ç†è§£ä¸º SQL 92 ä¸­çš„ç­‰å€¼è¿æ¥ã€‚å®ƒä¼šå¸®ä½ è‡ªåŠ¨æŸ¥è¯¢ä¸¤å¼ è¿æ¥è¡¨ä¸­â€‹æ‰€æœ‰ç›¸åŒçš„å­—æ®µâ€‹ï¼Œç„¶åè¿›è¡Œâ€‹ç­‰å€¼è¿æ¥â€‹ã€‚</p><p>åœ¨SQL 92 æ ‡å‡†ä¸­ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">ON</span> e.`department_id` <span class="operator">=</span> d.`department_id`</span><br><span class="line"><span class="keyword">AND</span> e.`manager_id` <span class="operator">=</span> d.`manager_id`;</span><br></pre></td></tr></table></figure><p>åœ¨ SQL 99 ä¸­å¯ä»¥å†™æˆï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> departments d;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±è‡ªåŠ¨å®ç°äº†å¤šè¡¨çš„ç­‰å€¼è¿æ¥</p><h2 id="USING"><a href="#USING" class="headerlink" title="USING"></a>USING</h2><p>å½“æˆ‘ä»¬è¿›è¡Œè¿æ¥çš„æ—¶å€™ï¼ŒSQL 99 è¿˜æ”¯æŒä½¿ç”¨ USING æŒ‡å®šæ•°æ®è¡¨é‡Œçš„åŒåå­—æ®µè¿›è¡Œç­‰å€¼è¿æ¥ã€‚ä½†æ˜¯åªèƒ½é…åˆJOINä¸€èµ·ä½¿ç”¨ã€‚æ¯”å¦‚ï¼šq</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e <span class="keyword">JOIN</span> departments d</span><br><span class="line"><span class="keyword">USING</span> (department_id);</span><br></pre></td></tr></table></figure><p>ä½ èƒ½çœ‹å‡ºä¸è‡ªç„¶è¿æ¥ NATURAL JOIN ä¸åŒçš„æ˜¯ï¼ŒUSING æŒ‡å®šäº†å…·ä½“çš„ç›¸åŒçš„å­—æ®µåç§°ï¼Œä½ éœ€è¦åœ¨ USINGçš„æ‹¬å· () ä¸­å¡«å…¥è¦æŒ‡å®šçš„åŒåå­—æ®µã€‚åŒæ—¶ä½¿ç”¨ JOINâ€¦USING å¯ä»¥ç®€åŒ– JOIN ON çš„ç­‰å€¼è¿æ¥ã€‚å®ƒä¸ä¸‹é¢çš„ SQL æŸ¥è¯¢ç»“æœæ˜¯ç›¸åŒçš„</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,department_name</span><br><span class="line"><span class="keyword">FROM</span> employees e ,departments d</span><br><span class="line"><span class="keyword">WHERE</span> e.department_id <span class="operator">=</span> d.department_id; </span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒUsingä¹Ÿæ˜¯ä¸€ç§è‡ªåŠ¨è¿æ¥ï¼Œè¾“å…¥å­—æ®µåå³å¯è‡ªåŠ¨åŒ¹é…ï¼ˆä¸èƒ½äºè‡ªè¿æ¥ä¸­ä½¿ç”¨ï¼‰ï¼Œä½¿ç”¨è¾ƒå°‘</p><h4 id="æˆå¯¹æ¯”è¾ƒ"><a href="#æˆå¯¹æ¯”è¾ƒ" class="headerlink" title="æˆå¯¹æ¯”è¾ƒ"></a>æˆå¯¹æ¯”è¾ƒ</h4><p>æŸ¥è¯¢ä¸ 141 å·å‘˜å·¥çš„ manager_id,department_id<br>ç›¸åŒçš„å…¶ä»–å‘˜å·¥çš„ä¿¡æ¯ï¼ˆåŒä¸Šï¼‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, manager_id, department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> (manager_id, department_id) <span class="keyword">IN</span></span><br><span class="line">(<span class="keyword">SELECT</span> manager_id, department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> employee_id <span class="keyword">IN</span> (<span class="number">141</span>,<span class="number">174</span>))</span><br><span class="line"><span class="keyword">AND</span> employee_id <span class="operator">&lt;&gt;</span> <span class="number">141</span>;</span><br></pre></td></tr></table></figure><p>æœ¬è´¨åŒºåˆ«ä¸å¤§ï¼Œå‰ææ˜¯ä¸¤ä¸ª where çš„æ¡ä»¶ç›¸åŒï¼Œåˆ™å¤–æŸ¥è¯¢ where åæ‹¬å·å†…å†…åˆ—åå¯ä»¥å’Œå†…æŸ¥è¯¢ select åçš„åˆ—ååŒ¹é…ï¼Œå…±æœ‰ where çš„æ¡ä»¶</p><h4 id="having-å­æŸ¥è¯¢"><a href="#having-å­æŸ¥è¯¢" class="headerlink" title="having å­æŸ¥è¯¢"></a>having å­æŸ¥è¯¢</h4><p>åªæ˜¯å°† where æŸ¥è¯¢æ”¹ä¸ºäº† havingï¼Œæœ¬è´¨åŒºåˆ«ä¸å¤§</p><p>æŸ¥è¯¢æœ€ä½å·¥èµ„å¤§äº 50 å·éƒ¨é—¨æœ€ä½å·¥èµ„çš„éƒ¨é—¨çš„éƒ¨é—¨ id å’Œå…¶æœ€ä½å·¥èµ„</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id,<span class="built_in">MIN</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> department_id <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">MIN</span>(salary) <span class="operator">&gt;</span> (<span class="keyword">SELECT</span> <span class="built_in">MIN</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> department_id <span class="operator">=</span> <span class="number">50</span>);</span><br></pre></td></tr></table></figure><h4 id="case-å­æŸ¥è¯¢"><a href="#case-å­æŸ¥è¯¢" class="headerlink" title="case å­æŸ¥è¯¢"></a>case å­æŸ¥è¯¢</h4><p>æ˜¾å¼å‘˜å·¥çš„ employee_id,last_name å’Œ locationã€‚å…¶ä¸­ï¼Œè‹¥å‘˜å·¥ department_id ä¸ location_id ä¸º 1800 çš„ department_id ç›¸åŒï¼Œåˆ™ location ä¸ºâ€™Canadaâ€™ï¼Œå…¶ä½™åˆ™ä¸ºâ€™USAâ€™</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, last_name,</span><br><span class="line">(<span class="keyword">CASE</span> department_id</span><br><span class="line"><span class="keyword">WHEN</span></span><br><span class="line">(<span class="keyword">SELECT</span> department_id <span class="keyword">FROM</span> departments </span><br><span class="line"><span class="keyword">WHERE</span> location_id <span class="operator">=</span> <span class="number">1800</span>)</span><br><span class="line"><span class="keyword">THEN</span> <span class="string">&#x27;Canada&#x27;</span> <span class="keyword">ELSE</span> <span class="string">&#x27;USA&#x27;</span> <span class="keyword">END</span>) location</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br></pre></td></tr></table></figure><h2 id="å¤šè¡Œå­æŸ¥è¯¢"><a href="#å¤šè¡Œå­æŸ¥è¯¢" class="headerlink" title="å¤šè¡Œå­æŸ¥è¯¢"></a>å¤šè¡Œå­æŸ¥è¯¢</h2><h3 id="ç®€è¿°-7"><a href="#ç®€è¿°-7" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h3><ul><li>ä¹Ÿç§°ä¸ºé›†åˆæ¯”è¾ƒå­æŸ¥è¯¢</li><li>å†…æŸ¥è¯¢è¿”å›å¤šè¡Œ</li><li>ä½¿ç”¨å¤šè¡Œæ¯”è¾ƒæ“ä½œç¬¦</li></ul><table><thead><tr><th>æ“ä½œç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>IN</td><td>ç­‰äºåˆ—è¡¨ä¸­çš„<strong>ä»»æ„ä¸€ä¸ª</strong></td></tr><tr><td>ANY</td><td>éœ€è¦å’Œå•è¡Œæ¯”è¾ƒæ“ä½œç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œå’Œå­æŸ¥è¯¢è¿”å›çš„ <strong>æŸä¸€ä¸ª</strong> å€¼æ¯”è¾ƒ</td></tr><tr><td>ALL</td><td>éœ€è¦å’Œå•è¡Œæ¯”è¾ƒæ“ä½œç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œå’Œå­æŸ¥è¯¢è¿”å›çš„ <strong>æ‰€æœ‰</strong> å€¼æ¯”è¾ƒ</td></tr><tr><td>SOME</td><td>å®é™…ä¸Šæ˜¯ ANY çš„åˆ«åï¼Œä½œç”¨ç›¸åŒï¼Œä¸€èˆ¬å¸¸ä½¿ç”¨ ANY</td></tr></tbody></table><p>è¿™é‡Œè¦æ³¨æ„ any å’Œ all çš„åŒºåˆ«</p><p>è¿™äº›è¿ç®—ç¬¦éƒ½æ­é…å•è¡Œè¿ç®—ç¬¦ä½¿ç”¨</p><h3 id="ä½¿ç”¨ä¾‹"><a href="#ä½¿ç”¨ä¾‹" class="headerlink" title="ä½¿ç”¨ä¾‹"></a>ä½¿ç”¨ä¾‹</h3><h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>è¿”å›å…¶å®ƒ job_id ä¸­æ¯” job_id ä¸ºâ€˜IT_PROGâ€™éƒ¨é—¨ä»»ä¸€å·¥èµ„ä½çš„å‘˜å·¥çš„å‘˜å·¥å·ã€å§“åã€job_id ä»¥åŠ salary</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> job_id,employee_id,last_name,salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">&lt;</span> <span class="keyword">ANY</span> (</span><br><span class="line"><span class="keyword">SELECT</span> salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> job_id <span class="operator">=</span> <span class="string">&#x27;IT_PROG&#x27;</span>)</span><br><span class="line"><span class="keyword">AND</span> job_id <span class="operator">&lt;&gt;</span> <span class="string">&#x27;IT_PROG&#x27;</span></span><br></pre></td></tr></table></figure><p>è¿”å›å…¶å®ƒ job_id ä¸­æ¯” job_id ä¸ºâ€˜IT_PROGâ€™éƒ¨é—¨æ‰€æœ‰å·¥èµ„ä½çš„å‘˜å·¥çš„å‘˜å·¥å·ã€å§“åã€job_id ä»¥åŠ salary</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> job_id,employee_id,last_name,salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">&lt;</span> <span class="keyword">ALL</span> (</span><br><span class="line"><span class="keyword">SELECT</span> salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> job_id <span class="operator">=</span> <span class="string">&#x27;IT_PROG&#x27;</span>)</span><br><span class="line"><span class="keyword">AND</span> job_id <span class="operator">&lt;&gt;</span> <span class="string">&#x27;IT_PROG&#x27;</span></span><br></pre></td></tr></table></figure><p>å½“ç„¶ä¹Ÿå¯ä½¿ç”¨å•è¡Œå‡½æ•°</p><h4 id="FROM-å’Œå­æŸ¥è¯¢"><a href="#FROM-å’Œå­æŸ¥è¯¢" class="headerlink" title="FROM å’Œå­æŸ¥è¯¢"></a>FROM å’Œå­æŸ¥è¯¢</h4><p>æ³¨æ„ï¼å­æŸ¥è¯¢ç»“æœå¯åš from çš„è¡¨ï¼Œæˆ–è€…è¯´ï¼ŒæŸ¥è¯¢ç»“æœå°±æ˜¯ä¸€å¼ è¡¨ã€‚</p><p>æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨ id</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">AVG</span>(salary) <span class="operator">=</span> (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(avg_sal)</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(salary) avg_sal</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line">) dept_avg_sal</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯æŠŠå­æŸ¥è¯¢çš„ç»“æœä½œä¸ºæ–°è¡¨æ”¾åˆ° from åï¼Œåœ¨å­æŸ¥è¯¢ç»“æœé›†é‡ŒæŸ¥è¯¢</p><p>æœ€å†…å±‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(salary) avg_sal</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line">) dept_avg_sal</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢å¹³å‡å·¥èµ„ï¼Œèµ·åˆ«åä¸º avg_salï¼ˆè¿™é‡Œæ˜¯ä¸ºäº†å¤–å±‚çš„ MIN èƒ½å¤Ÿé€šè¿‡åˆ«åè°ƒç”¨å¹³å‡å·¥èµ„åˆ—ï¼‰ï¼Œåä»¥ department_id åˆ†ç»„ï¼Œç»™ç»“æœé›†(è¡¨ï¼‰èµ·åˆ«åä¸º dept_avg_salï¼ˆå¿…é¡»ç»™ç»“æœé›†èµ·åˆ«åæ‰èƒ½åœ¨ from é‡Œä½¿ç”¨ï¼‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">AVG</span>(salary) <span class="operator">=</span> (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(avg_sal)</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(salary) avg_sal</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line">) dept_avg_sal</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>åœ¨è¯¥ç»“æœé›†é‡Œæ‰¾åˆ°æœ€ä½å·¥èµ„ï¼ˆä¹Ÿå°±æ˜¯æœ€ä½å¹³å‡å·¥èµ„ï¼‰ï¼Œå¤–å±‚æœ‰å¹³å‡å·¥èµ„ç­‰äºè¯¥æœ€ä½å·¥èµ„ï¼Œæ‰¾åˆ°æœ€ä½å¹³å‡å·¥èµ„çš„éƒ¨é—¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#æ–¹å¼ <span class="number">2</span> ï¼š</span><br><span class="line"><span class="keyword">SELECT</span> department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">AVG</span>(salary) <span class="operator">&lt;=</span> <span class="keyword">ALL</span> (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(salary) avg_sal</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼Œä¹Ÿå°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªéƒ¨é—¨ï¼Œä»–çš„å¹³å‡å·¥èµ„å°äºç­‰äºæ‰€æœ‰ï¼ˆä»»æ„ï¼‰éƒ¨é—¨çš„å¹³å‡å·¥èµ„</p><h2 id="ç›¸å…³å­æŸ¥è¯¢"><a href="#ç›¸å…³å­æŸ¥è¯¢" class="headerlink" title="ç›¸å…³å­æŸ¥è¯¢"></a>ç›¸å…³å­æŸ¥è¯¢</h2><h3 id="ç®€è¿°-8"><a href="#ç®€è¿°-8" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h3><p>ä¸Šé¢çš„æ¡ˆä¾‹æŸ¥è¯¢éƒ½æ˜¯ä¸ç›¸å…³å­æŸ¥è¯¢ï¼Œæ²¡æœ‰æ¶‰åŠåˆ°ä¸ç›¸å…³å­æŸ¥è¯¢ã€‚</p><p>å¦‚æœå­æŸ¥è¯¢çš„æ‰§è¡Œä¾èµ–äºå¤–éƒ¨æŸ¥è¯¢ï¼Œé€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯å› ä¸ºå­æŸ¥è¯¢ä¸­çš„è¡¨ç”¨åˆ°äº†å¤–éƒ¨çš„è¡¨ï¼Œå¹¶è¿›è¡Œäº†æ¡ä»¶å…³è”ï¼Œå› æ­¤æ¯æ‰§è¡Œä¸€æ¬¡å¤–éƒ¨æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢éƒ½è¦é‡æ–°è®¡ç®—ä¸€æ¬¡ï¼Œè¿™æ ·çš„å­æŸ¥è¯¢å°±ç§°ä¹‹ä¸ºâ€‹å…³è”å­æŸ¥è¯¢â€‹ã€‚</p><p>åœ¨ä¸Šé¢çš„éç›¸å…³å­æŸ¥è¯¢ä¸­ï¼Œæ‰§è¡Œé¡ºåºæ˜¯ï¼š</p><ol><li>å†…æŸ¥è¯¢æ‰§è¡Œï¼Œè¿”å›ç»“æœé›†</li><li>å¤–æŸ¥è¯¢æ‰§è¡Œï¼Œå¤–æŸ¥è¯¢çš„æ¯ä¸€è¡Œéƒ½å’Œå†…æŸ¥è¯¢çš„ç»“æœæ¯”è¾ƒ</li></ol><p>åœ¨ç›¸å…³å­æŸ¥è¯¢ä¸­ï¼Œç›¸å…³å­æŸ¥è¯¢æŒ‰ç…§ä¸€è¡Œæ¥ä¸€è¡Œçš„é¡ºåºæ‰§è¡Œï¼Œä¸»æŸ¥è¯¢çš„æ¯ä¸€è¡Œéƒ½æ‰§è¡Œä¸€æ¬¡å­æŸ¥è¯¢</p><p><img src="/assets/image-20221027193116-yangl45.png" alt="image">â€‹</p><ol><li>å–å¤–è¡¨ä¸­çš„ä¸€æ¡è®°å½•ï¼ˆè·å–å€™é€‰åˆ—ï¼‰</li><li>é€å…¥å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢è¿è¡Œ</li><li>è¿”å›å­æŸ¥è¯¢ç»“æœå’Œé€å…¥çš„ç»“æœï¼Œå¯¹ where æ¡ä»¶åˆ¤æ–­æ˜¯å¦ç¬¦åˆï¼Œä¸ç¬¦åˆåˆ™ç­›é€‰æ­¤è®°å½•</li></ol><h3 id="ä½¿ç”¨ä¾‹-1"><a href="#ä½¿ç”¨ä¾‹-1" class="headerlink" title="ä½¿ç”¨ä¾‹"></a>ä½¿ç”¨ä¾‹</h3><p>æŸ¥è¯¢å‘˜å·¥ä¸­å·¥èµ„å¤§äºæœ¬éƒ¨é—¨å¹³å‡å·¥èµ„çš„å‘˜å·¥çš„ last_name,salary å’Œå…¶ department_id</p><p><img src="/assets/image-20221027193614-falsjgh.png" alt="image">â€‹</p><p>åœ¨fromè¯­å¥ï¼ŒæŒ‡å®šäº†employeesä½œä¸ºouterï¼ˆè¿™æ˜¯ä¸ªåˆ«åï¼Œå¯ä»¥æ˜¯ä»»å–ï¼‰ï¼Œé¦–å…ˆï¼Œemployeesé‡Œçš„ç¬¬ä¸€æ¡æ•°æ®è¢«å–å…¥åˆ°å†…å¾ªç¯ä¸­ï¼Œæ‰§è¡ŒæŸ¥æ‰¾è¯­å¥æ ¹æ®department_idæŸ¥æ‰¾å¹³å‡å·¥èµ„ï¼Œæ­¤æ—¶ä¾‹å¦‚ä¼ å…¥idä¸º90ï¼Œå¯¹äºå†…æŸ¥è¯¢çš„whereè¯­å¥ï¼Œåˆ™ä¼šåœ¨å†…æŸ¥è¯¢ä¸­ç­›é€‰å‡ºidä¸º90çš„ç»“æœï¼Œå†è¿›å…¥å¤–æŸ¥è¯¢ï¼Œç­›é€‰ç¬¦åˆæ¡ä»¶çš„è®°å½•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name,salary,department_id</span><br><span class="line"><span class="keyword">FROM</span> employees e1</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span> employees e2</span><br><span class="line"><span class="keyword">WHERE</span> department_id <span class="operator">=</span> e1.department_id</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>æ€»ä¹‹ï¼Œå¯ä»¥è§†ä½œåŒå±‚forå¾ªç¯</p><p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨fromå­æŸ¥è¯¢</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name,salary,e1.department_id</span><br><span class="line"><span class="keyword">FROM</span> employees e1,(<span class="keyword">SELECT</span> department_id,<span class="built_in">AVG</span>(salary) dept_avg_sal <span class="keyword">FROM</span> employees </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id) e2</span><br><span class="line"><span class="keyword">WHERE</span> e1.`department_id` <span class="operator">=</span> e2.department_id</span><br><span class="line"><span class="keyword">AND</span> e2.dept_avg_sal <span class="operator">&lt;</span> e1.`salary`;</span><br></pre></td></tr></table></figure><p>fromå‹çš„å­æŸ¥è¯¢ï¼šå­æŸ¥è¯¢æ˜¯ä½œä¸ºfromçš„ä¸€éƒ¨åˆ†ï¼Œå­æŸ¥è¯¢è¦ç”¨()å¼•èµ·æ¥ï¼Œå¹¶ä¸”è¦ç»™è¿™ä¸ªå­æŸ¥è¯¢å–åˆ«åï¼Œ æŠŠå®ƒå½“æˆä¸€å¼ â€œä¸´æ—¶çš„è™šæ‹Ÿçš„è¡¨â€æ¥ä½¿ç”¨ã€‚</p><p>å†…å±‚select</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name,salary,department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br></pre></td></tr></table></figure><p>è¿”å›å„ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„ï¼Œåœ¨å¤–å±‚fromé‡Œï¼ŒåŸºäºè¿™ä¸ªç»“æœé›†ï¼Œç­›é€‰e1ä¹Ÿå°±æ˜¯å®Œæ•´çš„employeesè¡¨ä¸­salaryä½äºå‡å€¼çš„è®°å½•ï¼Œè¿”å›ã€‚</p><p>fromå¼ä½¿ç”¨å¾—ä¼šæ›´å¤š</p><h4 id="Order-byå­æŸ¥è¯¢"><a href="#Order-byå­æŸ¥è¯¢" class="headerlink" title="Order byå­æŸ¥è¯¢"></a>Order byå­æŸ¥è¯¢</h4><p>æŸ¥è¯¢å‘˜å·¥çš„id,salary,æŒ‰ç…§department_name æ’åº</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,salary</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> (</span><br><span class="line"><span class="keyword">SELECT</span> department_name</span><br><span class="line"><span class="keyword">FROM</span> departments d</span><br><span class="line"><span class="keyword">WHERE</span> e.`department_id` <span class="operator">=</span> d.`department_id`</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼é™¤group upå’Œlimitå¤–ï¼Œå…¶ä»–åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨å­æŸ¥è¯¢</p><h4 id="ç»¼åˆ"><a href="#ç»¼åˆ" class="headerlink" title="ç»¼åˆ"></a>ç»¼åˆ</h4><p>è‹¥employeesè¡¨ä¸­employee_idä¸job_historyè¡¨ä¸­employee_idç›¸åŒçš„æ•°ç›®ä¸å°äº 2 ï¼Œè¾“å‡ºè¿™äº›ç›¸åŒidçš„å‘˜å·¥çš„employee_id,last_nameå’Œå…¶job_id</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> e.employee_id, last_name,e.job_id</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">WHERE</span> <span class="number">2</span> <span class="operator">&lt;=</span> (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">FROM</span> job_history</span><br><span class="line"><span class="keyword">WHERE</span> employee_id <span class="operator">=</span> e.employee_id);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="EXISTS-ä¸-NOT-EXISTS"><a href="#EXISTS-ä¸-NOT-EXISTS" class="headerlink" title="EXISTS ä¸ NOT EXISTS"></a>EXISTS ä¸ NOT EXISTS</h3><p>å…³è”å­æŸ¥è¯¢é€šå¸¸ä¹Ÿä¼šå’Œ EXISTSæ“ä½œç¬¦ä¸€èµ·æ¥ä½¿ç”¨ï¼Œç”¨æ¥æ£€æŸ¥åœ¨å­æŸ¥è¯¢ä¸­æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è¡Œã€‚</p><ul><li><p><strong>å¦‚æœåœ¨å­æŸ¥è¯¢ä¸­ä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è¡Œï¼š</strong></p><ul><li>æ¡ä»¶è¿”å› FALSE</li><li>ç»§ç»­åœ¨å­æŸ¥è¯¢ä¸­æŸ¥æ‰¾</li></ul></li><li><p><strong>å¦‚æœåœ¨å­æŸ¥è¯¢ä¸­å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è¡Œï¼š</strong></p><ul><li>ä¸åœ¨å­æŸ¥è¯¢ä¸­ç»§ç»­æŸ¥æ‰¾</li><li>æ¡ä»¶è¿”å› TRUE</li></ul></li><li><p>NOT EXISTSå…³é”®å­—è¡¨ç¤ºå¦‚æœä¸å­˜åœ¨æŸç§æ¡ä»¶ï¼Œåˆ™è¿”å›TRUEï¼Œå¦åˆ™è¿”å›FALSEã€‚</p></li></ul><p><strong>æŸ¥è¯¢å…¬å¸ç®¡ç†è€…çš„employee_idï¼Œlast_nameï¼Œjob_idï¼Œdepartment_idä¿¡æ¯</strong></p><ol><li><p>ä½¿ç”¨è‡ªè¿æ¥</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> e1.employee_id, e1.last_name, e1.job_id, e1.department_id</span><br><span class="line"><span class="keyword">FROM</span> employees e1 <span class="keyword">JOIN</span> employees e</span><br><span class="line"><span class="keyword">WHERE</span> e1.employee_id <span class="operator">=</span> e2.manager_id;</span><br></pre></td></tr></table></figure></li><li><p>å­æŸ¥è¯¢ï¼ˆæ— existï¼‰</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,last_name,job_id,department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> employee_id <span class="keyword">IN</span> (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> manager_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>exist</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, last_name, job_id, department_id</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">EXISTS</span> ( <span class="keyword">SELECT</span> <span class="number">1</span><span class="operator">/</span><span class="operator">/</span>è¿™é‡Œä¸é‡è¦<span class="keyword">select</span>éƒ½è¡Œ</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">WHERE</span> e2.manager_id <span class="operator">=</span></span><br><span class="line">e1.employee_id);</span><br></pre></td></tr></table></figure></li></ol><p>æ–¹å¼ä¸‰æ˜¯å…³è”å­æŸ¥è¯¢å’Œexistçš„ç»“åˆï¼Œç›¸è¾ƒäºæ— existçš„å…³è”å­æŸ¥è¯¢ï¼Œè¿™ç§æ–¹å¼åœ¨å†…æŸ¥è¯¢ç»“æœä¸åŒ¹é…æ—¶è¿”å›falseï¼Œç»§ç»­æ‰§è¡Œï¼Œä¸€æ—¦ç¬¦åˆï¼Œè¿”å›tureï¼Œåœæ­¢ä¸åœ¨å‘åæ‰§è¡Œã€‚</p><p><strong>æŸ¥è¯¢departmentsè¡¨ä¸­ï¼Œä¸å­˜åœ¨äºemployeesè¡¨ä¸­çš„éƒ¨é—¨çš„department_idå’Œdepartment_name</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id, department_name</span><br><span class="line"><span class="keyword">FROM</span> departments d</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span> <span class="string">&#x27;X&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> department_id <span class="operator">=</span> d.department_id);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>NOT EXISTSå…³é”®å­—è¡¨ç¤ºå¦‚æœä¸å­˜åœ¨æŸç§æ¡ä»¶ï¼Œåˆ™è¿”å›TRUEï¼Œå¦åˆ™è¿”å›FALSEï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œnot existåªæ¥æ”¶ä¸æ»¡è¶³æŸæ¡ä»¶çš„è®°å½•</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis</title>
      <link href="/2023/01/21/MyBatis/"/>
      <url>/2023/01/21/MyBatis/</url>
      
        <content type="html"><![CDATA[<h1 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h1><h1 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h1><ul><li>MyBatis æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„(å­—æ®µå’Œå±æ€§ä¸ä¸€è‡´ï¼Œä¸€å¯¹å¤šæˆ–å¤šå¯¹ä¸€æ˜ å°„)</li><li>MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠç»“æœé›†è§£ææ“ä½œ</li><li>MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£å®ç°é…ç½®å’ŒåŸå§‹æ˜ å°„ï¼›å°†æ¥å£å’Œ Java çš„ POJOï¼ˆPlain Ordinary Java Objectï¼Œæ™®é€šçš„ Java å¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•</li><li>Mybatis æ˜¯ä¸€ä¸ªåŠè‡ªåŠ¨çš„ ORMï¼ˆObject Relation Mappingï¼‰æ¡†æ¶(å¯¹è±¡-å…³ç³»æ˜ å°„)</li></ul><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h2 id="Maven-å¯¼å…¥ä¾èµ–"><a href="#Maven-å¯¼å…¥ä¾èµ–" class="headerlink" title="Maven å¯¼å…¥ä¾èµ–"></a>Maven å¯¼å…¥ä¾èµ–</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Mybatisæ ¸å¿ƒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- junitæµ‹è¯• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- MySQLé©±åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å‡†å¤‡é…ç½®æ–‡ä»¶"><a href="#å‡†å¤‡é…ç½®æ–‡ä»¶" class="headerlink" title="å‡†å¤‡é…ç½®æ–‡ä»¶"></a>å‡†å¤‡é…ç½®æ–‡ä»¶</h2><p>Mybatis å…¨å±€é…ç½®æ–‡ä»¶</p><p>ä¹ æƒ¯ä¸Šå‘½åä¸º mybatis-config.xmlï¼Œè¿™ä¸ªæ–‡ä»¶åä»…ä»…åªæ˜¯å»ºè®®ï¼Œå¹¶éå¼ºåˆ¶è¦æ±‚ã€‚å°†æ¥æ•´åˆ Spring ä¹‹åï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥çœç•¥ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!-- environmentsè¡¨ç¤ºé…ç½®Mybatisçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œåœ¨ä¼—å¤šå…·ä½“ç¯å¢ƒä¸­ï¼Œä½¿ç”¨defaultå±æ€§æŒ‡å®šå®é™…è¿è¡Œæ—¶ä½¿ç”¨çš„ç¯å¢ƒã€‚defaultå±æ€§çš„å–å€¼æ˜¯environmentæ ‡ç­¾çš„idå±æ€§çš„å€¼ã€‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- environmentè¡¨ç¤ºé…ç½®Mybatisçš„ä¸€ä¸ªå…·ä½“çš„ç¯å¢ƒ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">            <span class="comment">&lt;!-- Mybatisçš„å†…ç½®çš„äº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">  </span><br><span class="line">            <span class="comment">&lt;!-- é…ç½®æ•°æ®æº --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">                <span class="comment">&lt;!-- å»ºç«‹æ•°æ®åº“è¿æ¥çš„å…·ä½“ä¿¡æ¯ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis-example&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;atguigu&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Mapperæ³¨å†Œï¼šæŒ‡å®šMybatisæ˜ å°„æ–‡ä»¶çš„å…·ä½“ä½ç½® --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- mapperæ ‡ç­¾ï¼šé…ç½®ä¸€ä¸ªå…·ä½“çš„Mapperæ˜ å°„æ–‡ä»¶ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- resourceå±æ€§ï¼šæŒ‡å®šMapperæ˜ å°„æ–‡ä»¶çš„å®é™…å­˜å‚¨ä½ç½®ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªä»¥ç±»è·¯å¾„æ ¹ç›®å½•ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--    å¯¹Mavenå·¥ç¨‹çš„ç›®å½•ç»“æ„æ¥è¯´ï¼Œresourcesç›®å½•ä¸‹çš„å†…å®¹ä¼šç›´æ¥æ”¾å…¥ç±»è·¯å¾„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä»¥resourcesç›®å½•ä¸ºåŸºå‡† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/EmployeeMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­˜æ”¾çš„ä½ç½®æ˜¯ src&#x2F;main&#x2F;resources ç›®å½•ä¸‹</p><h2 id="Mapper-æ¥å£"><a href="#Mapper-æ¥å£" class="headerlink" title="Mapper æ¥å£"></a>Mapper æ¥å£</h2><p>Mybatis ä¸­çš„ Mapper æ¥å£ç›¸å½“äºä»¥å‰çš„ Daoã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºï¼ŒMapper ä»…ä»…åªæ˜¯å»ºæ¥å£å³å¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦æä¾›å®ç°ç±»ã€‚</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230114101543-4g7apsh.png" alt="image">â€‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmployeeMapper</span> &#123;</span><br><span class="line">  </span><br><span class="line">    Employee <span class="title function_">selectEmployee</span><span class="params">(Integer empId)</span>;</span><br><span class="line">      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Mybatis-æ˜ å°„æ–‡ä»¶"><a href="#Mybatis-æ˜ å°„æ–‡ä»¶" class="headerlink" title="Mybatis æ˜ å°„æ–‡ä»¶"></a>Mybatis æ˜ å°„æ–‡ä»¶</h2><p>ç›¸å…³æ¦‚å¿µï¼šORMï¼ˆObject Relationship Mappingï¼‰å¯¹è±¡å…³ç³»æ˜ å°„ã€‚</p><ul><li>å¯¹è±¡ï¼šJava çš„å®ä½“ç±»å¯¹è±¡</li><li>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“</li><li>æ˜ å°„ï¼šäºŒè€…ä¹‹é—´çš„å¯¹åº”å…³ç³»</li></ul><p>ä¸‹è¡¨åˆ—ä¸¾çš„æ˜¯æœ€ç®€å•çš„å•è¡¨æ˜ å°„ï¼ˆä¸€ä¸ªè¡¨å’Œä¸€ä¸ªç±»ï¼‰ï¼š</p><table><thead><tr><th>Java æ¦‚å¿µ</th><th>æ•°æ®åº“æ¦‚å¿µ</th></tr></thead><tbody><tr><td>ç±»</td><td>è¡¨</td></tr><tr><td>å±æ€§</td><td>å­—æ®µ&#x2F;åˆ—</td></tr><tr><td>å¯¹è±¡</td><td>è®°å½•&#x2F;è¡Œ</td></tr></tbody></table><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- mapperæ˜¯æ ¹æ ‡ç­¾ï¼Œnamespaceå±æ€§ï¼šåœ¨Mybatiså…¨å±€èŒƒå›´å†…æ‰¾åˆ°ä¸€ä¸ªå…·ä½“çš„Mapperé…ç½® --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥æ¥å£åï¼Œä¸ºäº†æ–¹ä¾¿é€šè¿‡æ¥å£å…¨ç±»åæ¥æ‰¾åˆ°Mapperé…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥é€šå¸¸å°†namespaceå±æ€§è®¾ç½®ä¸ºæ¥å£å…¨ç±»å --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.atguigu.mybatis.dao.EmployeeMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ç¼–å†™å…·ä½“çš„SQLè¯­å¥ï¼Œä½¿ç”¨idå±æ€§å”¯ä¸€çš„æ ‡è®°ä¸€æ¡SQLè¯­å¥ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- resultTypeå±æ€§ï¼šæŒ‡å®šå°è£…æŸ¥è¯¢ç»“æœçš„Javaå®ä½“ç±»çš„å…¨ç±»å --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployee&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Mybatisè´Ÿè´£æŠŠSQLè¯­å¥ä¸­çš„#&#123;&#125;éƒ¨åˆ†æ›¿æ¢æˆâ€œ?â€å ä½ç¬¦ï¼Œåœ¨#&#123;&#125;å†…éƒ¨è¿˜æ˜¯è¦å£°æ˜ä¸€ä¸ªè§åçŸ¥æ„çš„åç§° --&gt;</span></span><br><span class="line">        select emp_id empId,emp_name empName,emp_salary empSalary from t_emp where emp_id=#&#123;empId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šEmployeeMapper.xml æ‰€åœ¨çš„ç›®å½•è¦å’Œ mybatis-config.xml ä¸­ä½¿ç”¨ mapper æ ‡ç­¾é…ç½®çš„ä¸€è‡´</p><p>ä¸€å¼ è¡¨â€”â€”â€“&gt; å®ä½“ç±» â€”-&gt; å¯¹åº”å½“å‰çš„ mapper æ¥å£â€”-å¯¹åº”ä¸€ä¸ªæ˜ å°„æ–‡ä»¶  *mapper æ¥å£ä¸­çš„æ–¹æ³•â€”â€“&gt; å¯¹åº”æ˜ å°„æ–‡ä»¶ä¸­çš„ SQL è¯­å¥</p><h2 id="æ·»åŠ æµ‹è¯•"><a href="#æ·»åŠ æµ‹è¯•" class="headerlink" title="æ·»åŠ æµ‹è¯•"></a>æ·»åŠ æµ‹è¯•</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectEmployee</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 1.åˆ›å»ºSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">    <span class="comment">// â‘ å£°æ˜Mybatiså…¨å±€é…ç½®æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">mybatisConfigFilePath</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// â‘¡ä»¥è¾“å…¥æµçš„å½¢å¼åŠ è½½Mybatisé…ç½®æ–‡ä»¶</span></span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(mybatisConfigFilePath);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// â‘¢åŸºäºè¯»å–Mybatisé…ç½®æ–‡ä»¶çš„è¾“å…¥æµåˆ›å»ºSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">    <span class="type">SqlSessionFactory</span> <span class="variable">sessionFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 2.ä½¿ç”¨SqlSessionFactoryå¯¹è±¡å¼€å¯ä¸€ä¸ªä¼šè¯</span></span><br><span class="line">    <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> sessionFactory.openSession();</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 3.æ ¹æ®Mapperé…ç½®æ–‡ä»¶çš„åç§°ç©ºé—´+SQLè¯­å¥çš„idæ‰¾åˆ°å…·ä½“çš„SQLè¯­å¥</span></span><br><span class="line">    <span class="comment">// æ ¼å¼æ˜¯ï¼šåç§°ç©ºé—´.SQLè¯­å¥çš„id</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">statement</span> <span class="operator">=</span> <span class="string">&quot;com.atguigu.mybatis.dao.EmployeeMapper.selectEmployee&quot;</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// è¦ä¼ å…¥SQLè¯­å¥çš„å‚æ•°</span></span><br><span class="line">    <span class="type">Integer</span> <span class="variable">empId</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// æ‰§è¡ŒSQLè¯­å¥</span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> session.selectOne(statement, empId);</span><br><span class="line">  </span><br><span class="line">    System.out.println(<span class="string">&quot;o = &quot;</span> + result);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 4.å…³é—­SqlSession</span></span><br><span class="line">    session.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>SqlSessionï¼šä»£è¡¨ Java ç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯ã€‚ï¼ˆHttpSession æ˜¯ Java ç¨‹åºå’Œæµè§ˆå™¨ä¹‹é—´çš„ä¼šè¯ï¼‰</li><li>SqlSessionFactoryï¼šæ˜¯â€œç”Ÿäº§â€SqlSession çš„â€œå·¥å‚â€ã€‚</li><li>å·¥å‚æ¨¡å¼ï¼šå¦‚æœåˆ›å»ºæŸä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„è¿‡ç¨‹åŸºæœ¬å›ºå®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„ç›¸å…³ä»£ç å°è£…åˆ°ä¸€ä¸ªâ€œå·¥å‚ç±»â€ä¸­ï¼Œä»¥åéƒ½ä½¿ç”¨è¿™ä¸ªå·¥å‚ç±»æ¥â€œç”Ÿäº§â€æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUsrMapperInterface</span><span class="params">()</span> &#123;</span><br><span class="line">    è¡¥å……æµ‹è¯•æ–¹æ³•</span><br><span class="line">    <span class="comment">// 1.æ ¹æ®EmployeeMapperæ¥å£çš„Classå¯¹è±¡è·å–Mapperæ¥å£ç±»å‹çš„å¯¹è±¡</span></span><br><span class="line">    <span class="type">EmployeeMapper</span> <span class="variable">employeeMapper</span> <span class="operator">=</span> session.getMapper(EmployeeMapper.class);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.è°ƒç”¨EmployeeMapperæ¥å£çš„æ–¹æ³•å®Œæˆå¯¹æ•°æ®åº“çš„æ“ä½œ</span></span><br><span class="line">    <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> employeeMapper.selectEmployee(<span class="number">1L</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 3.æ‰“å°æŸ¥è¯¢ç»“æœ</span></span><br><span class="line">    System.out.println(<span class="string">&quot;emp = &quot;</span> + emp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…³é—­å‰æœ€åæäº¤äº‹åŠ¡ï¼šsqlSession.commit();</p><p>å¦å¤–è¿˜æœ‰ä¸€ä»²ä¸ä½¿ç”¨æ¥å£çš„æ–¹å¼ï¼ŒsqlSession å¯ä»¥è°ƒç”¨å¦‚ insert ç­‰æ–¹æ³•ï¼Œæ¥å—å‚æ•°ä¸º namespace.sqlId;</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230114132245-w3wcn6f.png" alt="image">â€‹</p><p>åœ¨è·å– sqlSession æ—¶ <code> SqlSession session = sessionFactory.openSession();</code>â€‹ï¼Œè¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°æ¥è®¾ç½®<strong>è‡ªåŠ¨æäº¤ï¼Œtrueè¡¨ç¤ºè‡ªåŠ¨æäº¤ï¼›</strong></p><p>å…¶ä»–çš„ update ç­‰éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œè¿™æ—¶æˆ‘ä»¬çš„ sql è¿˜éƒ½æ˜¯é™æ€çš„ï¼›</p><h2 id="Log4j"><a href="#Log4j" class="headerlink" title="Log4j"></a>Log4j</h2><p>æ—¥å¿—çº§åˆ«</p><p>FATAL(è‡´å‘½)&gt;ERROR(é”™è¯¯)&gt;WARN(è­¦å‘Š)&gt;INFO(ä¿¡æ¯)&gt;DEBUG(è°ƒè¯•)ï¼Œä»å·¦åˆ°å³æ‰“å°çš„å†…å®¹è¶Šæ¥è¶Šè¯¦ç»†</p><p>STDOUT</p><p>æ˜¯ standard output çš„ç¼©å†™ï¼Œæ„æ€æ˜¯æ ‡å‡†è¾“å‡ºã€‚å¯¹äº Java ç¨‹åºæ¥è¯´ï¼Œæ‰“å°åˆ°æ ‡å‡†è¾“å‡ºå°±æ˜¯æ‰“å°åˆ°æ§åˆ¶å°ã€‚</p><h2 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h2><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  &lt;select id=<span class="string">&quot;getUserById&quot;</span>&gt;</span><br><span class="line">      select * from t_user <span class="type">where</span> <span class="variable">id</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">  &lt;/select&gt;</span><br><span class="line"></span><br><span class="line">User <span class="title function_">getUserById</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶æˆ‘ä»¬è€ƒè™‘è¿”å›å€¼å¦‚ä½•æ‹¿åˆ°ï¼›æˆ‘ä»¬è¦é€šè¿‡ ResultMap&#x2F;Type æ¥è§£å†³ï¼›è¦åœ¨ select æ ‡ç­¾ä¸­å£°æ˜ ResultType;ï¼ˆResult æ˜¯è‡ªå®šä¹‰æ˜ å°„ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=<span class="string">&quot;getUserById&quot;</span> resultType=<span class="string">&quot;com.hkk.mybatis.pojo.User&quot;</span>&gt;</span><br><span class="line">    select * from t_user <span class="type">where</span> <span class="variable">id</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure><p>ResultTypeï¼ŒæŸ¥è¯¢ç»“æœä¸º java å¯¹åº”ç±»å‹ï¼›</p><p>å¦‚æœæ˜¯å¤šè¡ŒæŸ¥è¯¢ï¼Œä½†æ˜¯ java ä¸­æœ‰å¯¹åº”å®ä½“ç±»ï¼Œé‚£ä¹ˆï¼ŒresultType ä¹Ÿè¿˜æ˜¯ list ä¸­çš„å…ƒç´ çš„ç±»å‹è€Œä¸æ˜¯ list ç±»å‹ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=<span class="string">&quot;getUserById&quot;</span> resultType=<span class="string">&quot;com.hkk.mybatis.pojo.User&quot;</span>&gt;</span><br><span class="line">      select * from t_user where id &gt;=<span class="number">1</span>;</span><br><span class="line">  &lt;/select&gt;</span><br></pre></td></tr></table></figure><p>ç›®å‰è¿™æ ·çš„æŸ¥è¯¢åªä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œæƒ³è¦è¿”å› list è¿˜éœ€è¦ä¿®æ”¹ï¼›</p><h1 id="æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>æ ¸å¿ƒé…ç½®æ–‡ä»¶</h1><h2 id="environment"><a href="#environment" class="headerlink" title="environment"></a>environment</h2><p>ç”¨äºè®¾ç½®ç¯å¢ƒ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- environmentsè¡¨ç¤ºé…ç½®Mybatisçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œåœ¨ä¼—å¤šå…·ä½“ç¯å¢ƒä¸­ï¼Œä½¿ç”¨defaultå±æ€§æŒ‡å®šå®é™…è¿è¡Œæ—¶ä½¿ç”¨çš„ç¯å¢ƒã€‚defaultå±æ€§çš„å–å€¼æ˜¯environmentæ ‡ç­¾çš„idå±æ€§çš„å€¼ã€‚ --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- environmentè¡¨ç¤ºé…ç½®Mybatisçš„ä¸€ä¸ªå…·ä½“çš„ç¯å¢ƒ --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">           <span class="comment">&lt;!-- Mybatisçš„å†…ç½®çš„äº‹åŠ¡ç®¡ç†å™¨ ç±»å‹ä¸€ä¸ªæ˜¯JDBCä¸€ä¸ªæ˜¯MANAGED--&gt;</span></span><br><span class="line">jdbcæ˜¯åŸç”Ÿç®¡ç†ï¼Œæ¯”å¦‚æ‰‹åŠ¨è®¾ç½®æäº¤ç­‰</span><br><span class="line">mannagedæ˜¯è¢«ç®¡ç†çš„ï¼Œæ¯”å¦‚åç»§ç”¨Springç®¡ç†ï¼›</span><br><span class="line">           <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">           <span class="comment">&lt;!-- é…ç½®æ•°æ®æº --&gt;</span></span><br><span class="line">è¿™ä¸ªtypeè®¾ç½®æ•°æ®æºç±»å‹ï¼Œæœ‰POLLEDï¼ŒUNPOLLEDï¼ŒJNDI</span><br><span class="line">åˆ†åˆ«è¡¨ç¤ºæ•°æ®åº“è¿æ¥æ± ï¼Œéè¿æ¥æ± ï¼Œ ä½¿ç”¨ä¸Šä¸‹æ–‡çš„æ•°æ®æº</span><br><span class="line">==================</span><br><span class="line">           <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">               <span class="comment">&lt;!-- å»ºç«‹æ•°æ®åº“è¿æ¥çš„å…·ä½“ä¿¡æ¯ --&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/ssm?serverTimezone=UTC<span class="symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;abc123&quot;</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å»ºç«‹æ•°æ®åº“è¿æ¥çš„å…·ä½“ä¿¡æ¯ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/ssm?serverTimezone=UTC<span class="symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;abc123&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸€æ®µå†…å®¹å¯ä»¥ç”¨ properties æ–‡ä»¶é…ç½®ï¼›</p><p>jdbc.properties:</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/ssm?serverTimezone=UTC&amp;amp;characterEncoding=utf8</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">abc123</span></span><br></pre></td></tr></table></figure><p>å¼•å…¥é…ç½®ï¼šåœ¨æ ¸å¿ƒé…ç½®ä¸­</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;configuration&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&lt;properties</span> <span class="string">resource=&quot;jdbc.properties&quot;/&gt;</span></span><br><span class="line">    <span class="attr">&lt;!--</span> <span class="string">environmentsè¡¨ç¤ºé…ç½®Mybatisçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œåœ¨ä¼—å¤šå…·ä½“ç¯å¢ƒä¸­ï¼Œä½¿ç”¨defaultå±æ€§æŒ‡å®šå®é™…è¿è¡Œæ—¶ä½¿ç”¨çš„ç¯å¢ƒã€‚defaultå±æ€§çš„å–å€¼æ˜¯environmentæ ‡ç­¾çš„idå±æ€§çš„å€¼ã€‚ --&gt;</span></span><br><span class="line">    <span class="attr">&lt;environments</span> <span class="string">default=&quot;development&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç”¨ ${key}çš„æ–¹å¼è®¿é—® value</p><p>æ€»ä¹‹ properties æ ‡ç­¾çš„ä½œç”¨å°±æ˜¯å¼•å…¥ properties æ–‡ä»¶ï¼›</p><h2 id="typeAliases-ç±»å‹åˆ«å"><a href="#typeAliases-ç±»å‹åˆ«å" class="headerlink" title="typeAliases ç±»å‹åˆ«å"></a>typeAliases ç±»å‹åˆ«å</h2><p>æ¯”å¦‚å„ç§å…¨ç±»å(resultType ç­‰)ï¼›</p><typeAliases><p>â€</p><p>â€</p><pre><code>&lt;typeAlias type=&quot;åŸç±»å&quot; alisa=&quot;åˆ«å&quot;&gt;</code></pre><p>ä½œç”¨èŒƒå›´åŒ…æ‹¬æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œsql è¯­å¥ç­‰ï¼›</p><p>å½“åªè®¾ç½® type è€Œä¸è®¾ç½® alisa æ—¶ï¼Œä¼šç»™ä¸€ä¸ªé»˜è®¤åˆ«åï¼Œæ¯”å¦‚ com.xxx.userï¼Œé‚£ä¹ˆä»–çš„åˆ«åé»˜è®¤å°±æ˜¯ user å’Œ Userï¼Œä¸åŒºåˆ†å¤§å°å†™</p><p>åœ¨ typeAliases æ ‡ç­¾é‡Œè¿˜æœ‰ä¸€ä¸ª <package> æ ‡ç­¾ï¼Œå±æ€§ nameï¼Œname å°±æ˜¯åŒ…åï¼Œè¡¨ç¤ºè¿™ä¸ªåŒ…ä¸‹é¢çš„æ‰€æœ‰ç±»<strong>éƒ½ä¼šè¢«èµ‹é»˜è®¤åˆ«å</strong></p><h2 id="Mapper"><a href="#Mapper" class="headerlink" title="Mapper"></a>Mapper</h2><p>mapper å’Œåˆ«åç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥ä»¥åŒ…ä¸ºå•ä½è®¾ç½®æ˜ å°„æ–‡ä»¶å¼•å…¥ï¼›ä½†éœ€è¦æ»¡è¶³ï¼š</p><ol><li>mapper æ¥å£å’Œæ˜ å°„æ–‡ä»¶å¿…é¡»åœ¨åŒä¸€ä¸ªåŒ…ä¸‹</li><li>æ¥å£åå’Œå¯¹åº”æ˜ å°„æ–‡ä»¶åå¿…é¡»ç›¸åŒ</li></ol><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230114151136-vrq6l83.png" alt="image">â€‹</p><p>resources è¿™ä¸ª mapper ä¸€å®šè¦å’Œ java ä¸Šé¢çš„ä¸ª mapper ä¸€è‡´</p><h1 id="è·å–å‚æ•°"><a href="#è·å–å‚æ•°" class="headerlink" title="è·å–å‚æ•°"></a>è·å–å‚æ•°</h1><h2 id="æ–¹å¼"><a href="#æ–¹å¼" class="headerlink" title="#{}æ–¹å¼"></a>#{}æ–¹å¼</h2><p>Mybatis ä¼šåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒæŠŠé…ç½®æ–‡ä»¶ä¸­çš„ SQL è¯­å¥é‡Œé¢çš„#{}è½¬æ¢ä¸ºâ€œ?â€å ä½ç¬¦ï¼Œå‘é€ç»™æ•°æ®åº“æ‰§è¡Œã€‚</p><p>é…ç½®ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;delete</span> <span class="string">id=&quot;deleteEmployeeById&quot;&gt;</span></span><br><span class="line">    <span class="attr">delete</span> <span class="string">from t_emp where emp_id=#&#123;empId&#125;</span></span><br><span class="line"><span class="attr">&lt;/delete&gt;</span></span><br></pre></td></tr></table></figure><p>å®é™…æ‰§è¡Œçš„å°±æ˜¯ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">delete</span> <span class="string">from t_emp where emp_id=?</span></span><br></pre></td></tr></table></figure><h2 id="æ–¹å¼-1"><a href="#æ–¹å¼-1" class="headerlink" title="${}æ–¹å¼"></a>${}æ–¹å¼</h2><p>å’Œ#{}ä¸åŒï¼Œè¿™ä»²æ–¹å¼ä¼šäº§ç”Ÿ SQL æ³¨å…¥çš„é—®é¢˜ï¼ŒåŸç†å°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">&lt;select</span> <span class="string">id=&quot;selectEmployeeByName&quot; resultType=&quot;com.atguigu.mybatis.entity.Employee&quot;&gt;</span></span><br><span class="line">    <span class="attr">select</span> <span class="string">emp_id empId,emp_name empName,emp_salary empSalary from t_emp where emp_name like &#x27;%$&#123;empName&#125;%&#x27;</span></span><br><span class="line"><span class="attr">&lt;/select&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è·å–å‚æ•°çš„å‡ ç§æƒ…å†µ"><a href="#è·å–å‚æ•°çš„å‡ ç§æƒ…å†µ" class="headerlink" title="è·å–å‚æ•°çš„å‡ ç§æƒ…å†µ"></a>è·å–å‚æ•°çš„å‡ ç§æƒ…å†µ</h2><h3 id="ç®€å•ç±»å‹çš„å•å‚æ•°"><a href="#ç®€å•ç±»å‹çš„å•å‚æ•°" class="headerlink" title="ç®€å•ç±»å‹çš„å•å‚æ•°"></a>ç®€å•ç±»å‹çš„å•å‚æ•°</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;select</span> <span class="string">id=&quot;getUserByUsername&quot; resultType=&quot;com.hkk.mybatis.pojo.User&quot;&gt;</span></span><br><span class="line">     <span class="attr">select</span> <span class="string">* from t_user where username =  #&#123;username&#125;;</span></span><br><span class="line"> <span class="attr">&lt;/select&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">User</span> <span class="string">getUSerByUsername(String username);</span></span><br></pre></td></tr></table></figure><p>#{username}é…ç½®æ–‡ä»¶ä¸­çš„è¿™é‡Œï¼Œæ‹¬å·å†…çš„å½¢å‚åå’ŒæŸ¥è¯¢æ“ä½œæ˜¯æ— å…³çš„ï¼Œä½†ä¸€èˆ¬å»ºè®®åŒåï¼›</p><p>å¦å¤–çš„ï¼Œä½¿ç”¨ ${ }æ—¶é™¤äº† sql æ³¨å…¥é—®é¢˜ï¼Œè¿˜è¦æ³¨æ„å¼•å·ï¼Œæ¯”å¦‚ Stringï¼ŒDate åœ¨ SQL æŸ¥è¯¢æ—¶åº”è¯¥åŠ ä¸Šå¼•å·,å¦‚â€˜${xxxxx}â€™,ä½†æ˜¯#æ˜¯å ä½ç¬¦å½¢å¼ï¼Œåˆ™æ— éœ€å…³æ³¨å¼•å·äº†ï¼›æ€»ä¹‹ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œèƒ½#å°±#ï¼Œä¸èƒ½æ‰$;</p><h3 id="ç®€å•ç±»å‹çš„å¤šå‚æ•°"><a href="#ç®€å•ç±»å‹çš„å¤šå‚æ•°" class="headerlink" title="ç®€å•ç±»å‹çš„å¤šå‚æ•°"></a>ç®€å•ç±»å‹çš„å¤šå‚æ•°</h3><p>å’Œå•å‚æ•°ä¸åŒï¼Œå¤šå‚æ•°çš„ mybatis çš„ SQL è¯­å¥é‡Œçš„å‚æ•°éœ€è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è°ƒç”¨</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;select</span> <span class="string">id=&quot;checkLogin&quot; resultType=&quot;user&quot;&gt;</span></span><br><span class="line"><span class="attr">select</span> <span class="string">* from t_user where username= #&#123;arg0&#125;</span></span><br><span class="line"><span class="attr">and</span> <span class="string">password = #&#123;arg1&#125;;</span></span><br><span class="line"><span class="attr">&lt;select&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·è°ƒç”¨æ—¶ï¼Œè¾“å…¥çš„ä¸¤ä¸ªå‚æ•°å°±æ˜¯æŒ‰ç…§ 0 å¼€å§‹ï¼ŒæŒ‰é¡ºåºæ”¾å…¥ sql è¯­å¥ä¸­ï¼›</p><p>å¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨ param1 åˆ° 2ï¼Œ3 ç­‰æ¥è°ƒç”¨ï¼›</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;select</span> <span class="string">id=&quot;checkLogin&quot; resultType=&quot;user&quot;&gt;</span></span><br><span class="line"><span class="attr">select</span> <span class="string">* from t_user where username= #&#123;param1&#125;</span></span><br><span class="line"><span class="attr">and</span> <span class="string">password = #&#123;param2&#125;;</span></span><br><span class="line"><span class="attr">&lt;select&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ç”±äº mabatis çš„å‚æ•°æ˜¯ç”±ä¸€ä¸ª map å­˜æ”¾çš„ï¼Œä»¥ä¸¤ç§æ–¹å¼ argx å’Œ paramx ä¸º keyï¼Œvalue ä¸ºå®é™…å‚æ•°ï¼›arg0ï¼Œarg1â€¦.param1ï¼Œparam2â€¦.</p><h3 id="ä»¥-map-ä½œä¸ºå‚æ•°"><a href="#ä»¥-map-ä½œä¸ºå‚æ•°" class="headerlink" title="ä»¥ map ä½œä¸ºå‚æ•°"></a>ä»¥ map ä½œä¸ºå‚æ•°</h3><p>æ¥å£æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ª map</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">User</span> <span class="string">checkLoginByMap(Map&lt;String,Object&gt; map);</span></span><br></pre></td></tr></table></figure><p>é…ç½®ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;select</span> <span class="string">id=&quot;checkLoginByMap&quot; resultType=&quot;com.hkk.mybatis.pojo.User&quot;&gt;</span></span><br><span class="line">    <span class="attr">select</span> <span class="string">* from t_user where username = #&#123;username&#125; and password = #&#123;password&#125;</span></span><br><span class="line"><span class="attr">&lt;/select&gt;</span></span><br></pre></td></tr></table></figure><p>å½“è°ƒç”¨æ—¶ï¼Œåªéœ€è¦ä¼ å…¥ä¸€ä¸ª mapï¼ŒåŒ…å«ä¸¤ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«ä»¥ username å’Œ password ä¸º keyï¼Œé‚£ä¹ˆè¿™æ ·è¿™ä¸ª sql è¯­å¥å°±å¯ä»¥è°ƒç”¨åˆ°è¿™é‡Œé¢çš„ value äº†ï¼›</p><h3 id="å®ä½“ç±»å‹å‚æ•°"><a href="#å®ä½“ç±»å‹å‚æ•°" class="headerlink" title="å®ä½“ç±»å‹å‚æ•°"></a>å®ä½“ç±»å‹å‚æ•°</h3><p>åœ¨ mybatis é‡Œï¼Œæ‰€è°“å®ä½“ç±»çš„å±æ€§ï¼Œå®é™…ä¸Šæ˜¯ get&#x2F;set æ–¹æ³•å»æ‰å‰ç¼€åå‰©ä½™çš„éƒ¨åˆ†ï¼Œè½¬ä¸ºå°å†™ï¼›æ¯”å¦‚ getIdï¼Œå¯¹åº” id è¿™ä¸ªå±æ€§ï¼›åªå’Œ get å’Œ set æ–¹æ³•æœ‰å…³ï¼›æ¯”å¦‚</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">void getIdï¼ˆï¼‰&#123;</span></span><br><span class="line"><span class="attr">return</span> <span class="string">nameï¼›</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ª get æ–¹æ³•é‡Œï¼Œè¿”å›çš„æ˜¯ç±»çš„ name æˆå‘˜å˜é‡ï¼Œä½†æ˜¯ä½œä¸ºå±æ€§ï¼Œè¿™ä¸ª name å°±æ˜¯ id è¿™ä¸ªå±æ€§ï¼›</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;insert</span> <span class="string">id=&quot;insertUser&quot;&gt;</span></span><br><span class="line">    <span class="attr">insert</span> <span class="string">into t_user (id, username, password, age, gender, email)</span></span><br><span class="line">    <span class="attr">values</span> <span class="string">(null,#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;,#&#123;gender&#125;,#&#123;email&#125;);</span></span><br><span class="line"><span class="attr">&lt;/insert&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„#{username}ç­‰ï¼Œå°±ä¼šè°ƒç”¨ä¼ å…¥å¯¹è±¡çš„ getxxx æ–¹æ³•ï¼Œè·å¾—ä¸€ä¸ªå€¼ï¼Œå¡«å……åˆ° sql é‡Œï¼›</p><h3 id="æ³¨è§£è·å–å‚æ•°"><a href="#æ³¨è§£è·å–å‚æ•°" class="headerlink" title="æ³¨è§£è·å–å‚æ•°"></a>æ³¨è§£è·å–å‚æ•°</h3><p>java æ¥å£</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">User</span> <span class="string">checkLoginByParam(String username,String password);</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ¥å£ä¸ŠåŠ ä¸Šæ³¨è§£ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">User</span> <span class="string">checkLoginByParam(</span></span><br><span class="line"><span class="attr">@Param(&quot;username&quot;)String</span> <span class="string">username,</span></span><br><span class="line"><span class="attr">@Param(&quot;passworld&quot;)String</span> <span class="string">password);</span></span><br></pre></td></tr></table></figure><p>@Param(xxx)è¿™ä¸ªæ³¨è§£ä¼šæŠŠæ³¨è§£å†…å®¹xxxä½œä¸ºåº•å±‚mapçš„keyï¼Œè¿™æ ·ï¼Œå°±åœ¨é…ç½®é‡Œï¼Œ#{xxx}å°±å¯ä»¥ç›´æ¥æ‰¾åˆ°å¯¹åº”çš„valueï¼Œè¿™ä½¿æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰map</p><h1 id="æŸ¥è¯¢è¿”å›"><a href="#æŸ¥è¯¢è¿”å›" class="headerlink" title="æŸ¥è¯¢è¿”å›"></a>æŸ¥è¯¢è¿”å›</h1><h2 id="å•ä¸ªç®€å•ç±»å‹"><a href="#å•ä¸ªç®€å•ç±»å‹" class="headerlink" title="å•ä¸ªç®€å•ç±»å‹"></a>å•ä¸ªç®€å•ç±»å‹</h2><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;select</span> <span class="string">id=&quot;selectEmpCount&quot; resultType=&quot;int&quot;&gt;</span></span><br><span class="line">    <span class="attr">select</span> <span class="string">count(*) from t_emp</span></span><br><span class="line"><span class="attr">&lt;/select&gt;</span></span><br></pre></td></tr></table></figure><p>éå¸¸å¸¸è§„ï¼Œè°ƒç”¨è¿”å›ä¸€ä¸ªintï¼›</p><p>Mybatis å†…éƒ¨ç»™å¸¸ç”¨çš„æ•°æ®ç±»å‹è®¾å®šäº†å¾ˆå¤šåˆ«åã€‚ ä»¥ int ç±»å‹ä¸ºä¾‹ï¼Œå¯ä»¥å†™çš„åç§°æœ‰ï¼šintã€integerã€Integerã€java.lang.Integerã€Intã€INTã€INTEGER ç­‰ç­‰ã€‚</p><h2 id="å®ä½“ç±»"><a href="#å®ä½“ç±»" class="headerlink" title="å®ä½“ç±»"></a>å®ä½“ç±»</h2><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">User</span> <span class="string">getUserById(@Param(&quot;id&quot;) Integer id);</span></span><br></pre></td></tr></table></figure><p>ä¹ æƒ¯ç»™æ–¹æ³•åŠ ä¸Šæ³¨è§£</p><p>é…ç½®</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;select</span> <span class="string">id=&quot;getUserById&quot; resultType=&quot;user&quot;&gt;</span></span><br><span class="line"><span class="attr">select</span> <span class="string">* from t_user where id = #&#123;id&#125;</span></span><br><span class="line"><span class="attr">&lt;select&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨æŸ¥è¯¢æ—¶ï¼Œå¦‚æœæŸ¥è¯¢çš„æ˜¯ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›ä¸€ä¸ªuserå¯¹è±¡ï¼Œå¦‚æœæ˜¯å¤šä¸ªç»“æœä¸”éƒ½å±äºä¸€ä¸ªå®ä½“ç±»ï¼Œé‚£ä¹ˆå°±è¿”å›ä¸€ä¸ªlistï¼›</p><p>æ³¨æ„ï¼Œè¿”å›å€¼ä¸ºå¤šçš„æ—¶å€™ï¼Œæ¥å£çš„è¿”å›å€¼å°±åº”è¯¥æ˜¯Listï¼Œç”¨Userç±»å°è¯•å»æ¥æ”¶Listä¼šå¯¼è‡´æŠ¥é”™ï¼›</p><p>å¢åˆ æ”¹æ“ä½œè¿”å›çš„å—å½±å“è¡Œæ•°ï¼šç›´æ¥ä½¿ç”¨ int æˆ– long ç±»å‹æ¥æ”¶å³å¯</p><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>é€‚ç”¨äºSQLæŸ¥è¯¢è¿”å›çš„å„ä¸ªå­—æ®µç»¼åˆèµ·æ¥å¹¶ä¸å’Œä»»ä½•ä¸€ä¸ªç°æœ‰çš„å®ä½“ç±»å¯¹åº”ï¼Œæ²¡æ³•å°è£…åˆ°å®ä½“ç±»å¯¹è±¡ä¸­ã€‚<strong>èƒ½å¤Ÿå°è£…æˆå®ä½“ç±»ç±»å‹çš„ï¼Œå°±ä¸ä½¿ç”¨Mapç±»å‹ã€‚</strong></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Map&lt;String,Object&gt;</span> <span class="string">selectEmpNameAndMaxSalary();</span></span><br></pre></td></tr></table></figure><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&lt;!--</span> <span class="string">Map&lt;String,Object&gt; selectEmpNameAndMaxSalary(); --&gt;</span></span><br><span class="line"><span class="attr">&lt;!--</span> <span class="string">è¿”å›å·¥èµ„æœ€é«˜çš„å‘˜å·¥çš„å§“åå’Œä»–çš„å·¥èµ„ --&gt;</span></span><br><span class="line"><span class="attr">&lt;select</span> <span class="string">id=&quot;selectEmpNameAndMaxSalary&quot; resultType=&quot;map&quot;&gt;</span></span><br><span class="line">        <span class="attr">SELECT</span></span><br><span class="line">            <span class="attr">emp_name</span> <span class="string">å‘˜å·¥å§“å,</span></span><br><span class="line">            <span class="attr">emp_salary</span> <span class="string">å‘˜å·¥å·¥èµ„,</span></span><br><span class="line">            <span class="attr">(SELECT</span> <span class="string">AVG(emp_salary) FROM t_emp) éƒ¨é—¨å¹³å‡å·¥èµ„</span></span><br><span class="line">        <span class="attr">FROM</span> <span class="string">t_emp WHERE emp_salary=(</span></span><br><span class="line">            <span class="attr">SELECT</span> <span class="string">MAX(emp_salary) FROM t_emp</span></span><br><span class="line">        <span class="attr">)</span></span><br><span class="line"><span class="attr">&lt;/select&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·è¿”å›çš„å°±æ˜¯ä¸€ä¸ªmap,åœ¨è¿™ä¸ªmapé‡Œï¼Œkeyä¸ºå­—æ®µåï¼Œvalueä¸ºå®é™…çš„å€¼ï¼Œå½“ç„¶è¿™é‡Œåªæ˜¯å•è¡ŒæŸ¥è¯¢çš„æƒ…å†µï¼›<strong>å½“æŸ¥è¯¢è¿”å›nullä¸ºvalueæ—¶ï¼Œnullä¸ä¼šè¢«åŠ å…¥åˆ°mapä¸­ï¼›</strong></p><p>åœ¨å¤šæ¡mapæ—¶ï¼Œ è¿™æ ·å›æŠ¥é”™ï¼Œä¹Ÿå°±æ˜¯è¯´å¤šæ¡æ•°æ®ä¸èƒ½ç›´æ¥å¡åˆ°åŒä¸€ä¸ªmapé‡Œï¼›å¯ä»¥ç”¨Listé›†åˆæ¥æ”¶ï¼›</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">List&lt;Map&lt;String,Object&gt;&gt;</span> <span class="string">getAllUserToMap();</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mapper.getAllUserToMap();</span><br></pre></td></tr></table></figure><p>è¿”å›ä¸€ä¸ªListï¼ŒListé‡ŒåˆåŒ…å«å¤šä¸ªMapï¼›</p><p>æˆ–è€…ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨MapKeyæ³¨è§£ï¼Œç”¨Mapæ¥æ”¾Mapï¼Œé€šè¿‡mapkeyæ¥æŒ‡å®šä¸€ä¸ªå±æ€§ä½œä¸ºkeyï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MapKey(&quot;id&quot;)</span></span><br><span class="line">Map&lt;String,Object&gt; <span class="title function_">getAllUserToMap</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶è¾“å‡ºçš„å¤§mapï¼Œkeyä¸ºidï¼Œvalueä¸ºä¸€ä¸ªmapï¼Œè¿™ä¸ªmapé‡Œä¹ŸåŒ…å«äº†è¿™ä¸ªidï¼›</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230116160207-rd0ioew.png" alt="image">â€‹</p><p>è¿™ä¸ªå¤§keyè¦æ³¨æ„ä¸å¯é‡å¤æ€§ï¼›</p><h2 id="æ¨¡ç³ŠæŸ¥è¯¢"><a href="#æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="æ¨¡ç³ŠæŸ¥è¯¢"></a>æ¨¡ç³ŠæŸ¥è¯¢</h2><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230116161312-d08y1mv.png" alt="image">â€‹</p><p>éƒ½æ˜¯æ‹¼æ¥å­—ç¬¦ä¸²å®ç°ï¼Œå…¶ä¸­ä½¿ç”¨è¾ƒå¤šçš„æ˜¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> xxx <span class="keyword">where</span> xxx <span class="keyword">like</span> &quot;%&quot;#&#123;xxx&#125;&quot;%&quot;</span><br></pre></td></tr></table></figure><h2 id="ç”¨æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢ä¸»é”®"><a href="#ç”¨æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢ä¸»é”®" class="headerlink" title="ç”¨æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢ä¸»é”®"></a>ç”¨æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢ä¸»é”®</h2><p>ä¾‹å¦‚åŠŸèƒ½ï¼Œæœ‰ä¸¤è¡¨clazzç­çº§è¡¨å’Œstudentå­¦ç”Ÿè¡¨ï¼›è¦å®ç°è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼š</p><ol><li>æ·»åŠ ç­çº§</li><li>è·å–æ–°æ·»åŠ çš„ç­çº§id(idæ˜¯è‡ªå¢ä¸»é”®ï¼Œä¸æ˜¯æˆ‘ä»¬è¾“å…¥çš„)</li><li>ä¸ºç­çº§åˆ†é…å­¦ç”Ÿï¼Œä¹Ÿå°±æ˜¯æŠŠå­¦ç”Ÿçš„ç­çº§idä¿®æ”¹ä¸ºæ–°æ·»åŠ çš„èˆ¬çš„çš„idï¼›</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void insertUser(<span class="keyword">User</span> <span class="keyword">user</span>);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span><span class="keyword">insert</span> id<span class="operator">=</span>&quot;insertUser&quot; useGeneratedKeys<span class="operator">=</span>&quot;true&quot; keyProperty<span class="operator">=</span>&quot;id&quot;<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> ã€‚ã€‚ã€‚å¸¸è§„<span class="keyword">sql</span></span><br><span class="line"><span class="operator">&lt;</span><span class="keyword">insert</span><span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªå‚æ•°ï¼šuseGeneratedKeys&#x3D;â€trueâ€ å’ŒkeyProperty&#x3D;â€idâ€,å‰è€…è¡¨ç¤ºâ€å…è®¸è¿”å›è‡ªå¢ä¸»é”®çš„å€¼â€ï¼Œè‡³äºåè€…ï¼Œé¦–å…ˆjdbcä¸­å¢åˆ æ”¹çš„è¿”å›å€¼ä¸€å®šæ˜¯ä¿®æ”¹æ•°æ®çš„è¡Œæ•°ï¼Œè‡³äºå¦‚ä½•æ‹¿åˆ°è¿™ä¸ªä¸»é”®ï¼Œåˆ™éœ€è¦é€šè¿‡ä¼ å…¥å¯¹è±¡æ¥è·å–ï¼›</p><p>æ¯”å¦‚ï¼Œuseréœ€è¦idï¼Œgenderï¼Œnameè¿™ä¸‰ä¸ªå±æ€§ï¼Œè€Œidè‡ªå¢ï¼Œåˆ™è°ƒç”¨æ—¶åªéœ€è¦ä¼ å…¥<strong>null</strong>ï¼Œæ€§åˆ«ï¼Œå§“åè¿™æ ·çš„å‚æ•°ï¼Œåœ¨æ–¹æ³•è°ƒç”¨åï¼Œ<strong>nullå°±ä¼šä¿®æ”¹ä¸ºè‡ªå¢ä¸»é”®çš„å€¼ï¼Œæ‰§è¡Œå‰æ— idï¼Œæ‰§è¡Œåæœ‰id</strong>ï¼›å®é™…ä¸Šèµ‹å€¼ç»™å“ªä¸ªå‚æ•°éƒ½æ˜¯å…è®¸çš„ï¼›</p><h1 id="è‡ªå®šä¹‰æ˜ å°„"><a href="#è‡ªå®šä¹‰æ˜ å°„" class="headerlink" title="è‡ªå®šä¹‰æ˜ å°„"></a>è‡ªå®šä¹‰æ˜ å°„</h1><h2 id="å…¨å±€é…ç½®"><a href="#å…¨å±€é…ç½®" class="headerlink" title="å…¨å±€é…ç½®"></a>å…¨å±€é…ç½®</h2><p>SQLè¡¨çš„åˆ—åå’Œç±»çš„å±æ€§åä¸ä¸€è‡´æ—¶ï¼Œéœ€è¦åˆ›å»ºè‡ªå®šä¹‰æ˜ å°„ï¼›ä¼ ç»Ÿçš„ï¼Œå¯ä»¥ä½¿ç”¨<strong>åˆ«å</strong>çš„æ–¹å¼è§£å†³ï¼›</p><p>ä¸€èˆ¬SQLçš„åˆ—åæ˜¯xxx_xxxçš„å‘½åè§„åˆ™ï¼Œè€Œjavaä¸­çš„å±æ€§ï¼Œä¸€èˆ¬æ˜¯xxxXxxçš„å‘½åï¼›<strong>Mybatisçš„æ ¸å¿ƒé…ç½®é‡Œ&lt;setting&gt;å¯ä»¥è®¾ç½®ä¸€ä¸ªå…¨å±€é…ç½®</strong>ï¼Œå¯ä»¥è‡ªåŠ¨æŠŠä¸‹åˆ’çº¿å‘½åæ˜ å°„åˆ°é©¼å³°å‘½åï¼›</p><p>&lt;seeting name&#x3D;â€mapUdenerscoreToCamelCaseâ€ value&#x3D;â€trueâ€&#x2F;&gt;</p><p>æ¯”å¦‚emp_idå°±ä¼šæ˜ å°„ä¸ºempIdï¼Œuser_nameå°±æ˜¯userNameï¼›</p><h2 id="resultMap"><a href="#resultMap" class="headerlink" title="resultMap"></a>resultMap</h2><p>ä½¿ç”¨resultMapæ ‡ç­¾å®šä¹‰å¯¹åº”å…³ç³»ï¼Œå†åœ¨åé¢çš„SQLè¯­å¥ä¸­å¼•ç”¨è¿™ä¸ªå¯¹åº”å…³ç³»ï¼Œæ³¨æ„è¿™é‡Œå¯¹äºä¸»é”®å±æ€§å’Œéä¸»é”®å±æ€§çš„å¤„ç†æ˜¯ä¸ä¸€æ ·çš„ï¼›(idå’Œcolum)</p><p>åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¸“é—¨å£°æ˜ä¸€ä¸ªresultMapè®¾å®šcolumnåˆ°propertyä¹‹é—´çš„å¯¹åº”å…³ç³» --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByRMResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.atguigu.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!-- ä½¿ç”¨idæ ‡ç­¾è®¾ç½®ä¸»é”®åˆ—å’Œä¸»é”®å±æ€§ä¹‹é—´çš„å¯¹åº”å…³ç³» --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- columnå±æ€§ç”¨äºæŒ‡å®šå­—æ®µåï¼›propertyå±æ€§ç”¨äºæŒ‡å®šJavaå®ä½“ç±»å±æ€§å --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;emp_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empId&quot;</span>/&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!-- ä½¿ç”¨resultæ ‡ç­¾è®¾ç½®æ™®é€šå­—æ®µå’ŒJavaå®ä½“ç±»å±æ€§ä¹‹é—´çš„å…³ç³» --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;emp_salary&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empSalary&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">&lt;!-- Employee selectEmployeeByRM(Integer empId); --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByRM&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;selectEmployeeByRMResultMap&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_salary from t_emp where emp_id=#&#123;empId&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·è¿”å›æ—¶è¿”å›çš„å°±æ˜¯ç‰¹å®šçš„resultMap, å¯¹äºç»“æœï¼Œkeyå°±æ˜¯æŒ‡å®šçš„idï¼Œvalueå°±æ˜¯ä¸Šé¢çš„å±æ€§ï¼Œæœ€åè¿”å›çš„å°±æ˜¯<code>&lt;resultMap id=&quot;selectEmployeeByRMResultMap&quot; type=&quot;com.atguigu.mybatis.entity.Employee&quot;&gt; </code>â€‹ï¼Œè¿™é‡Œæ‰€å¯¹åº”çš„ç±»Employeeï¼›</p><h1 id="å…³è”å…³ç³»"><a href="#å…³è”å…³ç³»" class="headerlink" title="å…³è”å…³ç³»"></a>å…³è”å…³ç³»</h1><h2 id="æ•°é‡å’Œæ–¹å‘"><a href="#æ•°é‡å’Œæ–¹å‘" class="headerlink" title="æ•°é‡å’Œæ–¹å‘"></a>æ•°é‡å’Œæ–¹å‘</h2><ol><li><p>æ•°é‡å…³ç³»</p><p> ä¸»è¦ä½“ç°åœ¨æ•°æ®åº“è¡¨ä¸­</p><p> ä¸€å¯¹ä¸€</p><p> å¤«å¦»å…³ç³»ï¼Œäººå’Œèº«ä»½è¯å·</p><p> ä¸€å¯¹å¤š<br> ç”¨æˆ·å’Œç”¨æˆ·çš„è®¢å•ï¼Œé”å’Œé’¥åŒ™</p><p> å¤šå¯¹å¤š<br> è€å¸ˆå’Œå­¦ç”Ÿï¼Œéƒ¨é—¨å’Œå‘˜å·¥</p></li><li><p>æ–¹å‘</p><p> ä¸»è¦ä½“ç°åœ¨Javaå®ä½“ç±»ä¸­</p><ul><li><p>åŒå‘ï¼šåŒæ–¹éƒ½å¯ä»¥è®¿é—®åˆ°å¯¹æ–¹</p><ul><li>Customerï¼šåŒ…å«Orderçš„é›†åˆå±æ€§</li><li>Orderï¼šåŒ…å«å•ä¸ªCustomerçš„å±æ€§</li></ul></li><li><p>å•å‘ï¼šåŒæ–¹ä¸­åªæœ‰ä¸€æ–¹èƒ½å¤Ÿè®¿é—®åˆ°å¯¹æ–¹</p><ul><li>Customerï¼šä¸åŒ…å«Orderçš„é›†åˆå±æ€§ï¼Œè®¿é—®ä¸åˆ°Order</li><li>Orderï¼šåŒ…å«å•ä¸ªCustomerçš„å±æ€§</li></ul></li></ul></li></ol><p>ç®€å•æ¥è¯´ï¼Œä¸€å¯¹ä¸€å¯¹åº”çš„å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€å¯¹å¤šå¯¹åº”çš„å°±æ˜¯ä¸€ä¸ªé›†åˆï¼›</p><h2 id="å¤šå¯¹ä¸€"><a href="#å¤šå¯¹ä¸€" class="headerlink" title="å¤šå¯¹ä¸€"></a>å¤šå¯¹ä¸€</h2><p>æ¯”å¦‚Empå‘˜å·¥ç±»åŒ…å«å‡ ä¸ªå±æ€§ï¼šempIdï¼ŒempNameï¼Œageï¼Œgenderå’Œä¸€ä¸ªDeptç±»å‹çš„éƒ¨é—¨å±æ€§ï¼Œä½†æ˜¯å°±è¡¨ç»“æ„æ¥è¯´ï¼Œé€šè¿‡joinæŸ¥è¯¢å¾—åˆ°çš„æ•°æ®æ˜¯empIdï¼ŒempNameï¼Œageï¼Œgenderå’ŒDpetè¡¨è·å–çš„deptNameå…±äº”ä¸ªæ•°æ®ï¼Œé‚£ä¹ˆå¦‚ä½•æŠŠdeptNameå±æ€§ç»™åˆ°Deptç±»å‹å‘¢ï¼›</p><p>SQL</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230116233342-ck86f8r.png" alt="image">â€‹</p><p>è¡¨ç»“æ„</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230116233445-ffizstd.png" alt="image">â€‹</p><p>ç»“æœä¾‹</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230116233515-v1i6imn.png" alt="image">â€‹</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230116233536-m8ionyt.png" alt="image"></p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230116233745-vydie2p.png" alt="image">â€‹</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œdept_nameæ˜¾ç„¶å’ŒDeptè¿™ä¸ªclassæ˜¯ä¸å¯¹åº”çš„ï¼Œè¦è§£å†³çš„å°±æ˜¯<strong>å¦‚ä½•å°†å­—æ®µç›´æ¥æ˜ å°„æˆå¯¹è±¡å±æ€§çš„é—®é¢˜</strong>ï¼›</p><h3 id="çº§è”"><a href="#çº§è”" class="headerlink" title="çº§è”"></a>çº§è”</h3><p>å¿…é¡»ä½¿ç”¨resultMapå¤„ç†ï¼›å¤„ç†Empç±»å‹çš„æ˜ å°„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;empAndDeptResultMap&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">type</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">Empæœ¬èº«çš„å±æ€§æ˜ å°„ç•¥ï¼Œé‡ç‚¹å…³æ³¨Dept</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;dept_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;dept.deptId&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span>&gt;</span></span><br><span class="line">è¿™é‡Œçš„deptå°±æ˜¯Empè¿™ä¸ªç±»å†…çš„ä¸€ä¸ªå±æ€§ï¼Œ</span><br><span class="line">ä¹Ÿå°±æ˜¯Deptç±»-deptï¼Œé€šè¿‡deptæ¥è°ƒå…¶ä¸­çš„å±æ€§dept_id;</span><br><span class="line">dept_nameä¹Ÿæ˜¯åŒç†çš„</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230116234328-91pxn1x.png" alt="image">â€‹</p><p>è¿™æ ·ï¼Œç»“æœå°±å¯ä»¥æŸ¥è¯¢å‡ºæ¥äº†(æ³¨æ„å…ˆé‡å†™toStringæ–¹æ³•)</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230116234905-gb9f1qw.png" alt="image">â€‹</p><p>åˆ‡è®°ï¼Œè¿™é‡Œçš„resultMapæ˜¯æ˜ å°„ç»™Empï¼Œç»™Empå†…çš„ç‰¹æ®Šå±æ€§Deptï¼Œå†è°ƒç”¨å†…éƒ¨çš„å±æ€§æ˜ å°„ï¼›</p><h3 id="association"><a href="#association" class="headerlink" title="association"></a>association</h3><p>ç”¨äºå¤„ç†å®ä½“ç±»ç±»å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ä¸€å¯¹ä¸€ï¼Œå¤šå¯¹ä¸€ï¼›</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">æŒ‡å®šsqlæŸ¥è¯¢å‡ºæ¥çš„å­—æ®µå</span></span></span><br><span class="line"><span class="tag"><span class="attr">javaType</span>=<span class="string">&quot;Dept&quot;</span>&gt;</span></span><br><span class="line">æ˜ å°„åˆ°çš„javaå®ä½“ç±»ï¼Œä¹Ÿå°±æ˜¯å±æ€§çš„ç±»å‹</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span> = <span class="string">&quot;dept_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;deptId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">ä¸»é”®-dept_idæŒ‡å‘ä¸ºDeptç±»å‹ä¸‹çš„deptIdå±æ€§ï¼›</span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span> = <span class="string">&quot;dept_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;deptName&quot;</span>&gt;</span></span><br><span class="line">éä¸»é”®å±æ€§ï¼Œæ˜ å°„ï¼›</span><br><span class="line"><span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯associationçš„é…ç½®</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117115627-2b5u927.png" alt="image">â€‹</p><h3 id="åˆ†æ­¥æŸ¥è¯¢"><a href="#åˆ†æ­¥æŸ¥è¯¢" class="headerlink" title="åˆ†æ­¥æŸ¥è¯¢"></a>åˆ†æ­¥æŸ¥è¯¢</h3><p>é¦–å…ˆï¼Œç¬¬ä¸€ä¸ªsql</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpAndDeptByStepOne&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;empAndDeptByStepResultMap&quot;</span>&gt;</span></span><br><span class="line">          select * from t_emp where emp_id = #&#123;empId&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p> å’Œå¸¸è§„çš„selectä¸€æ ·ï¼Œè¿”å›ä¸€ä¸ªç»“æœé›†ï¼Œé‡ç‚¹å°±åœ¨äºè¿™ä¸ªç»“æœé›†çš„é…ç½®ï¼Œåœ¨è¿™ä¸ªsqlé‡Œï¼ŒæŸ¥è¯¢åˆ°çš„æ˜¯empè¡¨çš„æ‰€æœ‰ä¿¡æ¯ï¼›</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;empAndDeptByStepResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;emp_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">property</span>=<span class="string">&quot;gender&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">select</span>=<span class="string">&quot;&quot;</span> <span class="attr">column</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨resultmapçš„associationæ ‡ç­¾é‡Œï¼Œåˆå¼•å…¥äº†å‡ ä¸ªæ–°å±æ€§ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select=&quot;&quot; column=&quot;&quot;</span><br></pre></td></tr></table></figure><p>selectç»‘å®šç¬¬äºŒä¸ªsqlè¯­å¥ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Dpet getEmpAndDpetByStepTwo(@Param(&quot;deptId&quot;)</span><br><span class="line">Integer deprId); æ¥å£æ–¹æ³•</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpAndDpetByStepTwo&quot;</span> <span class="attr">resultType</span>=</span></span><br><span class="line"><span class="tag"><span class="string">&quot;Dept&quot;</span> <span class="attr">è¿™é‡Œå½“ç„¶ä¹Ÿå¯ä»¥é…ç½®resultMap</span>&gt;</span></span><br><span class="line">select * from t_dept where dept_id =#&#123;deptId&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…³è”ä¿©ä¸ªsqlï¼Œåœ¨ä¹‹å‰çš„sql-asscociationé‡Œï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">select</span>=<span class="string">&quot;com.xxx.getEmpAndDpetByStepTwo&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">è¿™é‡Œselectè¦é€šè¿‡å…¨ç±»å.xxxMapper.æ–¹æ³•åå®šä½</span>ï¼› </span></span><br><span class="line"><span class="tag"><span class="attr">column</span>=<span class="string">&quot;dept_id&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">è¿™é‡Œçš„columnå†™æ³•çš„æ˜¯åˆ—å</span>ï¼Œ<span class="attr">ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªsqlç»™ä¸‹ä¸€ä¸ªsqlçš„æ¡ä»¶</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br></pre></td></tr></table></figure><p>æ€»ä¹‹ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±æ˜¯ï¼Œç¬¬ä¸€æ¡sqlï¼š<code>select * from t_emp where emp_id = #&#123;empId&#125;</code>â€‹æŸ¥è¯¢å‡ºæ¥äº†empçš„æ•°æ®ï¼Œåœ¨associationä¸­é…ç½®ï¼Œè°ƒç”¨ç¬¬äºŒæ¡sqlï¼ŒæŒ‡å®šè¿”å›å€¼ä¸ºå±æ€§deptï¼ŒåŒæ—¶æŠŠç¬¬ä¸€æ¡sqlçš„ç»“æœä¸­çš„dept_idä½œä¸ºå‚æ•°ç»™åˆ°ç¬¬äºŒæ¡sqlï¼›<code>select * from t_dept where dept_id =#&#123;deptId&#125; </code>â€‹åœ¨resultMapé‡Œæ˜ å°„äº†ä»–è¿”å›Deptç±»å‹ï¼ŒæŠŠDeptç±»å‹æœ€åç»™åˆ°deptå±æ€§ï¼›<img src="https://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img001-1.0fe876b1.png" alt="./images">â€‹</p><h3 id="å»¶è¿ŸåŠ è½½"><a href="#å»¶è¿ŸåŠ è½½" class="headerlink" title="å»¶è¿ŸåŠ è½½"></a>å»¶è¿ŸåŠ è½½</h3><p>æ¯”å¦‚æŸ¥è¯¢åˆ°Customerçš„æ—¶å€™ï¼Œä¸ä¸€å®šä¼šä½¿ç”¨Orderçš„Listé›†åˆæ•°æ®ã€‚å¦‚æœOrderçš„é›†åˆæ•°æ®å§‹ç»ˆæ²¡æœ‰ä½¿ç”¨ï¼Œé‚£ä¹ˆè¿™éƒ¨åˆ†æ•°æ®å ç”¨çš„å†…å­˜å°±æµªè´¹äº†ã€‚å¯¹æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›<strong>ä¸ä¸€å®šä¼šè¢«ç”¨åˆ°çš„æ•°æ®ï¼Œèƒ½å¤Ÿåœ¨éœ€è¦ä½¿ç”¨çš„æ—¶å€™å†å»æŸ¥è¯¢</strong>ã€‚</p><p>ä¾‹å¦‚ï¼šå¯¹Customerè¿›è¡Œ1000æ¬¡æŸ¥è¯¢ä¸­ï¼Œå…¶ä¸­åªæœ‰15æ¬¡ä¼šç”¨åˆ°Orderçš„é›†åˆæ•°æ®ï¼Œé‚£ä¹ˆå°±åœ¨éœ€è¦ä½¿ç”¨æ—¶æ‰å»æŸ¥è¯¢èƒ½å¤Ÿ<strong>å¤§å¹…åº¦èŠ‚çº¦å†…å­˜ç©ºé—´</strong>ã€‚</p><p>å»¶è¿ŸåŠ è½½çš„æ¦‚å¿µï¼šå¯¹äºå®ä½“ç±»å…³è”çš„å±æ€§åˆ°éœ€è¦ä½¿ç”¨æ—¶æ‰æŸ¥è¯¢ã€‚ä¹Ÿå«æ‡’åŠ è½½ã€‚</p><h4 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨settingså¯¹Mybatiså…¨å±€è¿›è¡Œè®¾ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯å»¶è¿ŸåŠ è½½åŠŸèƒ½ï¼šéœ€è¦é…ç½®ä¸¤ä¸ªé…ç½®é¡¹ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1ã€å°†lazyLoadingEnabledè®¾ç½®ä¸ºtrueï¼Œå¼€å¯æ‡’åŠ è½½åŠŸèƒ½ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2ã€å°†aggressiveLazyLoadingè®¾ç½®ä¸ºfalseï¼Œå…³é—­â€œç§¯æçš„æ‡’åŠ è½½â€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;aggressiveLazyLoading&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨é«˜ç‰ˆæœ¬ä¸­ï¼Œåˆ™</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Mybatiså…¨å±€é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯å»¶è¿ŸåŠ è½½åŠŸèƒ½ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">ggressiveLazyLoadingåœ¨é«˜ç‰ˆæœ¬é»˜è®¤å°±ä¸ºfalseï¼›</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆåœ¨ä½¿ç”¨æ—¶ï¼Œæ¯”å¦‚ä¸Šé¢çš„empå’Œdeptï¼Œå¦‚æœæˆ‘ä»¬æŸ¥è¯¢äº†ä¸€ä¸ªempç»“æœï¼Œä½†æ˜¯åœ¨ä¹‹åçš„çš„ä»£ç é‡Œæ²¡æœ‰å¯¹empçš„deptè¿™ä¸ªå±æ€§æ“ä½œï¼Œé‚£ä¹ˆå°±åªä¼šæ‰§è¡Œç¬¬ä¸€æ¡sqlè€Œä¸ä¼šæ‰§è¡Œç¬¬äºŒæ¡sqlï¼Œåä¹‹ï¼Œå¦‚æœéœ€è¦deptå±æ€§ï¼Œåˆ™åˆä¼šæ‰§è¡ŒäºŒæ¡sqlï¼›æ€»ä¹‹å°±æ˜¯å…ˆæŸ¥è¯¢ç¬¬ä¸€ä¸ªsqlæœ¬èº«ï¼Œåœ¨éœ€è¦å†…éƒ¨æŸç‰¹æ®Šå±æ€§æ—¶å†è°ƒç”¨ç¬¬äºŒæ¡sqlæŸ¥è¯¢ï¼›</p><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å¯¹æŸä¸€æ¡sqlè®¾ç½®å»¶è¿ŸåŠ è½½è€Œä¸ä½¿ç”¨å…¨å±€é…ç½®ï¼Œæ¯”å¦‚ï¼š<em>fatchType&#x3D;â€œeager&#x2F;lazy</em>â€ï¼Œåœ¨åˆ†å¸ƒæŸ¥è¯¢çš„è¿æ¥associationé‡Œä½¿ç”¨è¿™ä¸ªå±æ€§æ¥è®¾ç½®æ˜¯å¦å¼€å¯è¿™ç»„åˆ†å¸ƒæŸ¥è¯¢sqlçš„å»¶è¿ŸåŠ è½½ï¼Œé»˜è®¤éµå¾ªå…¨å±€é…ç½®ï¼›</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">fatchType</span>=<span class="string">â€œeagerâ€</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">select</span>=<span class="string">&quot;com.xxx.getEmpAndDpetByStepTwo&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">è¿™é‡Œselectè¦é€šè¿‡å…¨ç±»å.xxxMapper.æ–¹æ³•åå®šä½</span>ï¼› </span></span><br><span class="line"><span class="tag"><span class="attr">column</span>=<span class="string">&quot;dept_id&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">è¿™é‡Œçš„columnå†™æ³•çš„æ˜¯åˆ—å</span>ï¼Œ<span class="attr">ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªsqlç»™ä¸‹ä¸€ä¸ªsqlçš„æ¡ä»¶</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä¸€å¯¹å¤š"><a href="#ä¸€å¯¹å¤š" class="headerlink" title="ä¸€å¯¹å¤š"></a>ä¸€å¯¹å¤š</h2><h3 id="collection"><a href="#collection" class="headerlink" title="collection"></a>collection</h3><p>ç±»ä¼¼associationï¼›åŒºåˆ«åœ¨äºcollectionå¤„ç†ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå’Œassociationå†…éƒ¨å…³æ³¨ofTypeå±æ€§è€Œä¸æ˜¯javaTypeå±æ€§</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117143919-rdte19w.png" alt="image">â€‹</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117144031-6qpej3a.png" alt="image">â€‹</p><h3 id="åˆ†æ­¥"><a href="#åˆ†æ­¥" class="headerlink" title="åˆ†æ­¥"></a>åˆ†æ­¥</h3><p>ç¬¬ä¸€ä¸ªsql</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117144819-shfc1r2.png" alt="image">â€‹</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117144924-lghb8sn.png" alt="image">â€‹</p><p>ç¬¬äºŒä¸ªsql</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117145240-czdo8hl.png" alt="image">â€‹</p><p>ç»„åˆ</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117145307-0f1e2n0.png" alt="image">â€‹</p><h1 id="åŠ¨æ€SQL"><a href="#åŠ¨æ€SQL" class="headerlink" title="åŠ¨æ€SQL"></a>åŠ¨æ€SQL</h1><p>Mybatisæ¡†æ¶çš„åŠ¨æ€SQLæŠ€æœ¯æ˜¯ä¸€ç§æ ¹æ®ç‰¹å®šæ¡ä»¶åŠ¨æ€æ‹¼è£…SQLè¯­å¥çš„åŠŸèƒ½ï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯ä¸ºäº†è§£å†³æ‹¼æ¥SQLè¯­å¥å­—ç¬¦ä¸²æ—¶çš„ç—›ç‚¹é—®é¢˜ã€‚</p><h2 id="Ifå’ŒWhere"><a href="#Ifå’ŒWhere" class="headerlink" title="Ifå’ŒWhere"></a>Ifå’ŒWhere</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByCondition(Employee employee); --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_salary from t_emp</span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!-- whereæ ‡ç­¾ä¼šè‡ªåŠ¨å»æ‰â€œæ ‡ç­¾ä½“å†…å‰é¢å¤šä½™çš„and/orâ€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä½¿ç”¨ifæ ‡ç­¾ï¼Œè®©æˆ‘ä»¬å¯ä»¥æœ‰é€‰æ‹©çš„åŠ å…¥SQLè¯­å¥çš„ç‰‡æ®µã€‚è¿™ä¸ªSQLè¯­å¥ç‰‡æ®µæ˜¯å¦è¦åŠ å…¥æ•´ä¸ªSQLè¯­å¥ï¼Œå°±çœ‹ifæ ‡ç­¾åˆ¤æ–­çš„ç»“æœæ˜¯å¦ä¸ºtrue --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- åœ¨ifæ ‡ç­¾çš„testå±æ€§ä¸­ï¼Œå¯ä»¥è®¿é—®å®ä½“ç±»çš„å±æ€§ï¼Œä¸å¯ä»¥è®¿é—®æ•°æ®åº“è¡¨çš„å­—æ®µ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- åœ¨ifæ ‡ç­¾å†…éƒ¨ï¼Œéœ€è¦è®¿é—®æ¥å£çš„å‚æ•°æ—¶è¿˜æ˜¯æ­£å¸¸å†™#&#123;&#125; --&gt;</span></span><br><span class="line">            or emp_name=#&#123;empName&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;gt;</span> 2000&quot;</span>&gt;</span></span><br><span class="line">            or emp_salary&gt;#&#123;empSalary&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">         ç¬¬ä¸€ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ WHERE emp_name=? or emp_salary&gt;?</span></span><br><span class="line"><span class="comment">         ç¬¬äºŒç§æƒ…å†µï¼šéƒ¨åˆ†æ¡ä»¶æ»¡è¶³ WHERE emp_salary&gt;?</span></span><br><span class="line"><span class="comment">         ç¬¬ä¸‰ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³ æ²¡æœ‰whereå­å¥</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é‡ç‚¹ï¼Œè‹¥åŒ…å«æ»¡è¶³çš„æ¡ä»¶ï¼Œwhereæ ‡ç­¾ä¼šç”Ÿæˆwhereå…³é”®å­—å¹¶ä¸”è‡ªåŠ¨å»æ‰æ ‡ç­¾ä½“å†…å‰é¢å¤šä½™çš„and&#x2F;orï¼›</p><h2 id="trim"><a href="#trim" class="headerlink" title="trim"></a>trim</h2><p>ä½¿ç”¨trimæ ‡ç­¾æ§åˆ¶æ¡ä»¶éƒ¨åˆ†ä¸¤ç«¯æ˜¯å¦åŒ…å«æŸäº›å­—ç¬¦</p><ul><li>prefixå±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„å‰ç¼€</li><li>suffixå±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„åç¼€</li><li>prefixOverrideså±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€å»æ‰çš„å‰ç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼</li><li>suffixOverrideså±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€å»æ‰çš„åç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByConditionByTrim(Employee employee) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByConditionByTrim&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_age,emp_salary,emp_gender</span><br><span class="line">    from t_emp</span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!-- prefixå±æ€§æŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„å‰ç¼€ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- suffixå±æ€§æŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„åç¼€ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- prefixOverrideså±æ€§æŒ‡å®šè¦åŠ¨æ€å»æ‰çš„å‰ç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- suffixOverrideså±æ€§æŒ‡å®šè¦åŠ¨æ€å»æ‰çš„åç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å½“å‰ä¾‹å­ç”¨whereæ ‡ç­¾å®ç°æ›´ç®€æ´ï¼Œä½†æ˜¯trimæ ‡ç­¾æ›´çµæ´»ï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•æœ‰éœ€è¦çš„åœ°æ–¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;where&quot;</span> <span class="attr">suffixOverrides</span>=<span class="string">&quot;and|or&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span></span><br><span class="line">            emp_name=#&#123;empName&#125; and</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;gt;</span> 3000&quot;</span>&gt;</span></span><br><span class="line">            emp_salary&gt;#&#123;empSalary&#125; and</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empAge <span class="symbol">&amp;lt;</span>= 20&quot;</span>&gt;</span></span><br><span class="line">            emp_age=#&#123;empAge&#125; or</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empGender==&#x27;male&#x27;&quot;</span>&gt;</span></span><br><span class="line">            emp_gender=#&#123;empGender&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="choose-x2F-when-x2F-otherwise"><a href="#choose-x2F-when-x2F-otherwise" class="headerlink" title="choose&#x2F;when&#x2F;otherwise"></a>choose&#x2F;when&#x2F;otherwise</h2><p>åœ¨å¤šä¸ªåˆ†æ”¯æ¡ä»¶ä¸­ï¼Œä»…æ‰§è¡Œä¸€ä¸ªã€‚</p><ul><li>ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œæ¡ä»¶åˆ¤æ–­</li><li>é‡åˆ°çš„ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„åˆ†æ”¯ä¼šè¢«é‡‡çº³</li><li>è¢«é‡‡çº³åˆ†æ”¯åé¢çš„åˆ†æ”¯éƒ½å°†ä¸è¢«è€ƒè™‘</li><li>å¦‚æœæ‰€æœ‰çš„whenåˆ†æ”¯éƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œotherwiseåˆ†æ”¯ï¼Œç±»ä¼¼äºif-elseï¼›</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByConditionByChoose(Employee employee) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByConditionByChoose&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_salary from t_emp</span><br><span class="line">    where</span><br><span class="line">    <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span>emp_name=#&#123;empName&#125;<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;lt;</span> 3000&quot;</span>&gt;</span>emp_salary <span class="symbol">&amp;lt;</span> 3000<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span>1=1<span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">     ç¬¬ä¸€ç§æƒ…å†µï¼šç¬¬ä¸€ä¸ªwhenæ»¡è¶³æ¡ä»¶ where emp_name=?</span></span><br><span class="line"><span class="comment">     ç¬¬äºŒç§æƒ…å†µï¼šç¬¬äºŒä¸ªwhenæ»¡è¶³æ¡ä»¶ where emp_salary &lt; 3000</span></span><br><span class="line"><span class="comment">     ç¬¬ä¸‰ç§æƒ…å†µï¼šä¸¤ä¸ªwhenéƒ½ä¸æ»¡è¶³ where 1=1 æ‰§è¡Œäº†otherwise</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><p>å®é™…å¼€å‘æ—¶ï¼Œå¯¹ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡è¿›è¡Œæ›´æ–°ã€‚å¾€å¾€ä¸æ˜¯æ›´æ–°æ‰€æœ‰å­—æ®µï¼Œè€Œæ˜¯æ›´æ–°ä¸€éƒ¨åˆ†å­—æ®µã€‚æ­¤æ—¶é¡µé¢ä¸Šçš„è¡¨å•å¾€å¾€ä¸ä¼šç»™ä¸ä¿®æ”¹çš„å­—æ®µæä¾›è¡¨å•é¡¹ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userId&quot;</span> <span class="attr">value</span>=<span class="string">&quot;5232&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">å¹´  é¾„ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userAge&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">æ€§  åˆ«ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userGender&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">å  æ ‡ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userPosition&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;userName&quot; /&gt;&lt;br/&gt;   --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä½™  é¢ï¼š&lt;input type=&quot;text&quot; name=&quot;userBalance&quot; /&gt;&lt;br/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç­‰  çº§ï¼š&lt;input type=&quot;text&quot; name=&quot;userGrade&quot; /&gt;&lt;br/&gt;  --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ä¸Šé¢çš„è¡¨å•ï¼Œå¦‚æœæœåŠ¡å™¨ç«¯æ¥æ”¶è¡¨å•æ—¶ï¼Œä½¿ç”¨çš„æ˜¯Userè¿™ä¸ªå®ä½“ç±»ï¼Œé‚£ä¹ˆuserNameã€userBalanceã€userGradeæ¥æ”¶åˆ°çš„æ•°æ®å°±æ˜¯nullã€‚</p><p>å¦‚æœä¸åŠ åˆ¤æ–­ï¼Œç›´æ¥ç”¨Userå¯¹è±¡å»æ›´æ–°æ•°æ®åº“ï¼Œåœ¨Mapperé…ç½®æ–‡ä»¶ä¸­åˆæ˜¯æ¯ä¸€ä¸ªå­—æ®µéƒ½æ›´æ–°ï¼Œé‚£å°±ä¼šæŠŠuserNameã€userBalanceã€userGradeè®¾ç½®ä¸ºnullå€¼ï¼Œä»è€Œé€ æˆæ•°æ®åº“è¡¨ä¸­å¯¹åº”æ•°æ®è¢«ç ´åã€‚</p><p>æ­¤æ—¶éœ€è¦æˆ‘ä»¬åœ¨Mapperé…ç½®æ–‡ä»¶ä¸­ï¼Œå¯¹updateè¯­å¥çš„setå­å¥è¿›è¡Œå®šåˆ¶ï¼Œæ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨åŠ¨æ€SQLçš„setæ ‡ç­¾ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- void updateEmployeeDynamic(Employee employee) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEmployeeDynamic&quot;</span>&gt;</span></span><br><span class="line">    update t_emp</span><br><span class="line">    <span class="comment">&lt;!-- set emp_name=#&#123;empName&#125;,emp_salary=#&#123;empSalary&#125; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä½¿ç”¨setæ ‡ç­¾åŠ¨æ€ç®¡ç†setå­å¥ï¼Œå¹¶ä¸”åŠ¨æ€å»æ‰ä¸¤ç«¯å¤šä½™çš„é€—å· --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span></span><br><span class="line">            emp_name=#&#123;empName&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;lt;</span> 3000&quot;</span>&gt;</span></span><br><span class="line">            emp_salary=#&#123;empSalary&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    where emp_id=#&#123;empId&#125;</span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">         ç¬¬ä¸€ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ SET emp_name=?, emp_salary=?</span></span><br><span class="line"><span class="comment">         ç¬¬äºŒç§æƒ…å†µï¼šéƒ¨åˆ†æ¡ä»¶æ»¡è¶³ SET emp_salary=?</span></span><br><span class="line"><span class="comment">         ç¬¬ä¸‰ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³ update t_emp where emp_id=?</span></span><br><span class="line"><span class="comment">            æ²¡æœ‰setå­å¥çš„updateè¯­å¥ä¼šå¯¼è‡´SQLè¯­æ³•é”™è¯¯</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    collectionå±æ€§ï¼šè¦éå†çš„é›†åˆ</span></span><br><span class="line"><span class="comment">    itemå±æ€§ï¼šéå†é›†åˆçš„è¿‡ç¨‹ä¸­èƒ½å¾—åˆ°æ¯ä¸€ä¸ªå…·ä½“å¯¹è±¡ï¼Œåœ¨itemå±æ€§ä¸­è®¾ç½®ä¸€ä¸ªåå­—ï¼Œå°†æ¥é€šè¿‡è¿™ä¸ªåå­—å¼•ç”¨éå†å‡ºæ¥çš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">    separatorå±æ€§ï¼šæŒ‡å®šå½“foreachæ ‡ç­¾çš„æ ‡ç­¾ä½“é‡å¤æ‹¼æ¥å­—ç¬¦ä¸²æ—¶ï¼Œå„ä¸ªæ ‡ç­¾ä½“å­—ç¬¦ä¸²ä¹‹é—´çš„åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="comment">    openå±æ€§ï¼šæŒ‡å®šæ•´ä¸ªå¾ªç¯æŠŠå­—ç¬¦ä¸²æ‹¼å¥½åï¼Œå­—ç¬¦ä¸²æ•´ä½“çš„å‰é¢è¦æ·»åŠ çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">    closeå±æ€§ï¼šæŒ‡å®šæ•´ä¸ªå¾ªç¯æŠŠå­—ç¬¦ä¸²æ‹¼å¥½åï¼Œå­—ç¬¦ä¸²æ•´ä½“çš„åé¢è¦æ·»åŠ çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">    indexå±æ€§ï¼šè¿™é‡Œèµ·ä¸€ä¸ªåå­—ï¼Œä¾¿äºåé¢å¼•ç”¨</span></span><br><span class="line"><span class="comment">        éå†Listé›†åˆï¼Œè¿™é‡Œèƒ½å¤Ÿå¾—åˆ°Listé›†åˆçš„ç´¢å¼•å€¼</span></span><br><span class="line"><span class="comment">        éå†Mapé›†åˆï¼Œè¿™é‡Œèƒ½å¤Ÿå¾—åˆ°Mapé›†åˆçš„key</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;empList&quot;</span> <span class="attr">item</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">open</span>=<span class="string">&quot;values&quot;</span> <span class="attr">index</span>=<span class="string">&quot;myIndex&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åœ¨foreachæ ‡ç­¾å†…éƒ¨å¦‚æœéœ€è¦å¼•ç”¨éå†å¾—åˆ°çš„å…·ä½“çš„ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨itemå±æ€§å£°æ˜çš„åç§° --&gt;</span></span><br><span class="line">    (#&#123;emp.empName&#125;,#&#123;myIndex&#125;,#&#123;emp.empSalary&#125;,#&#123;emp.empGender&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117172322-ohe9cgc.png" alt="image">â€‹</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117172657-ktvak5f.png" alt="image">â€‹</p><h3 id="æ‰¹é‡æ›´æ–°æ—¶éœ€è¦æ³¨æ„"><a href="#æ‰¹é‡æ›´æ–°æ—¶éœ€è¦æ³¨æ„" class="headerlink" title="æ‰¹é‡æ›´æ–°æ—¶éœ€è¦æ³¨æ„"></a>æ‰¹é‡æ›´æ–°æ—¶éœ€è¦æ³¨æ„</h3><p>ä¸Šé¢æ‰¹é‡æ’å…¥çš„ä¾‹å­æœ¬è´¨ä¸Šæ˜¯ä¸€æ¡SQLè¯­å¥ï¼Œè€Œå®ç°æ‰¹é‡æ›´æ–°åˆ™éœ€è¦å¤šæ¡SQLè¯­å¥æ‹¼èµ·æ¥ï¼Œç”¨åˆ†å·åˆ†å¼€ã€‚ä¹Ÿå°±æ˜¯ä¸€æ¬¡æ€§å‘é€å¤šæ¡SQLè¯­å¥è®©æ•°æ®åº“æ‰§è¡Œã€‚æ­¤æ—¶éœ€è¦åœ¨æ•°æ®åº“è¿æ¥ä¿¡æ¯çš„URLåœ°å€ä¸­è®¾ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">atguigu.dev.url=jdbc:mysql://192.168.198.100:3306/mybatis-example?allowMultiQueries=true</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- int updateEmployeeBatch(@Param(&quot;empList&quot;) List&lt;Employee&gt; empList) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEmployeeBatch&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;empList&quot;</span> <span class="attr">item</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;;&quot;</span>&gt;</span></span><br><span class="line">        update t_emp set emp_name=#&#123;emp.empName&#125; where emp_id=#&#123;emp.empId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="SQLæ ‡ç­¾"><a href="#SQLæ ‡ç­¾" class="headerlink" title="SQLæ ‡ç­¾"></a>SQLæ ‡ç­¾</h2><p>æŠ½å–é‡å¤çš„SQLç‰‡æ®µ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨sqlæ ‡ç­¾æŠ½å–é‡å¤å‡ºç°çš„SQLç‰‡æ®µ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;mySelectSql&quot;</span>&gt;</span></span><br><span class="line">        select emp_id,emp_name,emp_age,emp_salary,emp_gender from t_emp</span><br><span class="line">    <span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨includeæ ‡ç­¾å¼•ç”¨å£°æ˜çš„SQLç‰‡æ®µ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;mySelectSql&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117173303-xdo3shv.png" alt="image">â€‹</p><h1 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h1><ul><li>ä¸€çº§ç¼“å­˜ï¼šSqlSessionçº§åˆ«</li><li>äºŒçº§ç¼“å­˜ï¼šSqlSessionFactoryçº§åˆ«</li></ul><h2 id="ä¸€çº§ç¼“å­˜"><a href="#ä¸€çº§ç¼“å­˜" class="headerlink" title="ä¸€çº§ç¼“å­˜"></a>ä¸€çº§ç¼“å­˜</h2><p>ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µ</p><ul><li>ä¸æ˜¯åŒä¸€ä¸ªSqlSession</li><li>åŒä¸€ä¸ªSqlSessionä½†æ˜¯æŸ¥è¯¢æ¡ä»¶å‘ç”Ÿäº†å˜åŒ–</li><li>åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰§è¡Œäº†ä»»ä½•ä¸€æ¬¡å¢åˆ æ”¹æ“ä½œ</li><li>åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰‹åŠ¨æ¸…ç©ºäº†ç¼“å­˜</li><li>åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æäº¤äº†äº‹åŠ¡</li></ul><h2 id="äºŒçº§ç¼“å­˜"><a href="#äºŒçº§ç¼“å­˜" class="headerlink" title="äºŒçº§ç¼“å­˜"></a>äºŒçº§ç¼“å­˜</h2><p>äºŒçº§ç¼“å­˜æ˜¯SqlSessionFactoryçº§åˆ«ï¼Œé€šè¿‡åŒä¸€ä¸ªSqlSessionFactoryåˆ›å»ºçš„SqlSessionæŸ¥é—´çš„ç»“æœä¼šè¢«ç¼“å­˜ï¼›</p><p>æ­¤åï¼Œè‹¥å†æ¬¡æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢è¯­å¥ï¼Œç»“æœå°±ä¼šä»ç¼“å­˜ä¸­è·å–</p><p>äºŒçº§ç¼“å­˜å¼€å¯çš„æ¡ä»¶ï¼š</p><ol><li>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®å…¨å±€é…ç½®å±æ€§cacheEnabledæ­£â€trueâ€,é»˜è®¤ä¸ºtrue,ä¸éœ€è¦è®¾ç½®</li><li>åœ¨æ˜ å°„æ–‡ä»¶ä¸­è®¾ç½®æ ‡ç­¾<cache/></li><li>äºŒçº§ç¼“å­˜å¿…é¡»åœ¨SqlSessionå…³é—­æˆ–æäº¤ä¹‹åæœ‰æ•ˆ</li><li>æŸ¥è¯¢çš„æ•°æ®æ‰€è½¬æ¢çš„å®ä½“ç±»ç±»å‹å¿…é¡»å®ç°<strong>åºåˆ—åŒ–çš„æ¥å£</strong></li></ol><p>ä½¿äºŒçº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼š<br>ä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰§è¡Œäº†ä»»æ„çš„å¢å†Œæ”¹ï¼Œä¼šä½¿ä¸€çº§å’ŒäºŒçº§ç¼“å­˜åŒæ—¶å¤±æ•ˆ</p><h2 id="äºŒçº§ç¼“å­˜ç›¸å…³é…ç½®"><a href="#äºŒçº§ç¼“å­˜ç›¸å…³é…ç½®" class="headerlink" title="äºŒçº§ç¼“å­˜ç›¸å…³é…ç½®"></a>äºŒçº§ç¼“å­˜ç›¸å…³é…ç½®</h2><p>åœ¨Mapperé…ç½®æ–‡ä»¶ä¸­æ·»åŠ çš„cacheæ ‡ç­¾å¯ä»¥è®¾ç½®ä¸€äº›å±æ€§ï¼š</p><ul><li>evictionå±æ€§ï¼šç¼“å­˜å›æ”¶ç­–ç•¥<br>LRUï¼ˆLeast Recently Usedï¼‰ â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚<br>FIFOï¼ˆFirst in First outï¼‰ â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚<br>SOFT â€“ è½¯å¼•ç”¨ï¼šç§»é™¤åŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚<br>WEAK â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°ç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚<br>é»˜è®¤çš„æ˜¯ LRUã€‚</li><li>flushIntervalå±æ€§ï¼šåˆ·æ–°é—´éš”ï¼Œå•ä½æ¯«ç§’<br>é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰åˆ·æ–°é—´éš”ï¼Œç¼“å­˜ä»…ä»…è°ƒç”¨è¯­å¥æ—¶åˆ·æ–°</li><li>sizeå±æ€§ï¼šå¼•ç”¨æ•°ç›®ï¼Œæ­£æ•´æ•°<br>ä»£è¡¨ç¼“å­˜æœ€å¤šå¯ä»¥å­˜å‚¨å¤šå°‘ä¸ªå¯¹è±¡ï¼Œå¤ªå¤§å®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</li><li>readOnlyå±æ€§ï¼šåªè¯»ï¼Œtrue&#x2F;false<br>trueï¼šåªè¯»ç¼“å­˜ï¼›ä¼šç»™æ‰€æœ‰è°ƒç”¨è€…è¿”å›ç¼“å­˜å¯¹è±¡çš„ç›¸åŒå®ä¾‹ã€‚å› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«ä¿®æ”¹ã€‚è¿™æä¾›äº†å¾ˆé‡è¦çš„æ€§èƒ½ä¼˜åŠ¿ã€‚<br>falseï¼šè¯»å†™ç¼“å­˜ï¼›ä¼šè¿”å›ç¼“å­˜å¯¹è±¡çš„æ‹·è´ï¼ˆé€šè¿‡åºåˆ—åŒ–ï¼‰ã€‚è¿™ä¼šæ…¢ä¸€äº›ï¼Œä½†æ˜¯å®‰å…¨ï¼Œå› æ­¤é»˜è®¤æ˜¯ falseã€‚</li></ul><h2 id="æŸ¥è¯¢é¡ºåº"><a href="#æŸ¥è¯¢é¡ºåº" class="headerlink" title="æŸ¥è¯¢é¡ºåº"></a>æŸ¥è¯¢é¡ºåº</h2><ol><li>äºŒçº§ç¼“å­˜</li><li>ä¸€çº§ç¼“å­˜</li><li>æ•°æ®åº“</li></ol><h2 id="ç¬¬ä¸‰æ–¹ç¼“å­˜EhCache"><a href="#ç¬¬ä¸‰æ–¹ç¼“å­˜EhCache" class="headerlink" title="*ç¬¬ä¸‰æ–¹ç¼“å­˜EhCache"></a>*ç¬¬ä¸‰æ–¹ç¼“å­˜EhCache</h2><ol><li><p>å¯¼å…¥Mavenä¾èµ–</p><table><thead><tr><th>jaråŒ…åç§°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>mybatis-ehcache</td><td>Mybatiså’ŒEHCacheçš„æ•´åˆåŒ…</td></tr><tr><td>ehcache</td><td>EHCacheæ ¸å¿ƒåŒ…</td></tr><tr><td>slf4j-api</td><td>SLF4Jæ—¥å¿—é—¨é¢åŒ…</td></tr><tr><td>logback-classic</td><td>æ”¯æŒSLF4Jé—¨é¢æ¥å£çš„ä¸€ä¸ªå…·ä½“å®ç°</td></tr></tbody></table></li><li><p>åˆ›å»ºEHCacheé…ç½®æ–‡ä»¶</p><p> <img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117230021-zg6c094.png" alt="image">â€‹</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ehcache</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">&quot;../config/ehcache.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç£ç›˜ä¿å­˜è·¯å¾„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">diskStore</span> <span class="attr">path</span>=<span class="string">&quot;D:\atguigu\ehcache&quot;</span>/&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">defaultCache</span></span></span><br><span class="line"><span class="tag">            <span class="attr">maxElementsInMemory</span>=<span class="string">&quot;1000&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">maxElementsOnDisk</span>=<span class="string">&quot;10000000&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">eternal</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">overflowToDisk</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToIdleSeconds</span>=<span class="string">&quot;120&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToLiveSeconds</span>=<span class="string">&quot;120&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">diskExpiryThreadIntervalSeconds</span>=<span class="string">&quot;120&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">memoryStoreEvictionPolicy</span>=<span class="string">&quot;LRU&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">defaultCache</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ehcache</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>æŒ‡å®šç¼“å­˜ç®¡ç†å™¨çš„å…·ä½“ç±»å‹</p><p> è¿˜æ˜¯åˆ°æŸ¥è¯¢æ“ä½œæ‰€åœ¨çš„Mapperé…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°ä¹‹å‰è®¾ç½®çš„cacheæ ‡ç­¾ï¼š</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cache</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>æ—¥å¿—</p><p> å­˜åœ¨SLF4Jæ—¶ï¼Œä½œä¸ºç®€æ˜“æ—¥å¿—çš„log4jå°†å¤±æ•ˆï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å€ŸåŠ©SLF4Jçš„å…·ä½“å®ç°logbackæ¥æ‰“å°æ—¥å¿—ã€‚</p><p> é—¨é¢ï¼š</p><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>JCLï¼ˆJakarta Commons Loggingï¼‰</td><td>é™ˆæ—§</td></tr><tr><td>SLF4Jï¼ˆSimple Logging Facade for Javaï¼‰â˜…</td><td>é€‚åˆ</td></tr><tr><td>jboss-logging</td><td>ç‰¹æ®Šä¸“ä¸šé¢†åŸŸä½¿ç”¨</td></tr></tbody></table><p> å®ç°ï¼š</p><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>log4jâ˜…</td><td>æœ€åˆç‰ˆ</td></tr><tr><td>JULï¼ˆjava.util.loggingï¼‰</td><td>JDKè‡ªå¸¦</td></tr><tr><td>log4j2</td><td>Apacheæ”¶è´­log4jåå…¨é¢é‡æ„ï¼Œå†…éƒ¨å®ç°å’Œlog4jå®Œå…¨ä¸åŒ</td></tr><tr><td>logbackâ˜…</td><td>ä¼˜é›…ã€å¼ºå¤§</td></tr></tbody></table></li><li><p>logbacké…ç½®æ–‡ä»¶</p><p> <img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117230258-ozqas6d.png" alt="image"></p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">debug</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ—¥å¿—è¾“å‡ºçš„æ ¼å¼ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‰ç…§é¡ºåºåˆ†åˆ«æ˜¯ï¼šæ—¶é—´ã€æ—¥å¿—çº§åˆ«ã€çº¿ç¨‹åç§°ã€æ‰“å°æ—¥å¿—çš„ç±»ã€æ—¥å¿—ä¸»ä½“å†…å®¹ã€æ¢è¡Œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pattern</span>&gt;</span>[%d&#123;HH:mm:ss.SSS&#125;] [%-5level] [%thread] [%logger] [%msg]%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è®¾ç½®å…¨å±€æ—¥å¿—çº§åˆ«ã€‚æ—¥å¿—çº§åˆ«æŒ‰é¡ºåºåˆ†åˆ«æ˜¯ï¼šDEBUGã€INFOã€WARNã€ERROR --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šä»»ä½•ä¸€ä¸ªæ—¥å¿—çº§åˆ«éƒ½åªæ‰“å°å½“å‰çº§åˆ«å’Œåé¢çº§åˆ«çš„æ—¥å¿—ã€‚ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šæ‰“å°æ—¥å¿—çš„appenderï¼Œè¿™é‡Œé€šè¿‡â€œSTDOUTâ€å¼•ç”¨äº†å‰é¢é…ç½®çš„appender --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;STDOUT&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">&lt;!-- æ ¹æ®ç‰¹æ®Šéœ€æ±‚æŒ‡å®šå±€éƒ¨æ—¥å¿—çº§åˆ« --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;com.atguigu.crowd.mapper&quot;</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>EHCacheé…ç½®æ–‡ä»¶è¯´æ˜</p><p> å½“å€ŸåŠ©CacheManager.add(â€œç¼“å­˜åç§°â€)åˆ›å»ºCacheæ—¶ï¼ŒEhCacheä¾¿ä¼šé‡‡ç”¨<defalutCache/>æŒ‡å®šçš„çš„ç®¡ç†ç­–ç•¥</p><table><thead><tr><th>å±æ€§å</th><th>æ˜¯å¦å¿…é¡»</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>maxElementsInMemory</td><td>æ˜¯</td><td>åœ¨å†…å­˜ä¸­ç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®</td></tr><tr><td>maxElementsOnDisk</td><td>æ˜¯</td><td>åœ¨ç£ç›˜ä¸Šç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®ï¼Œè‹¥æ˜¯0è¡¨ç¤ºæ— ç©·å¤§</td></tr><tr><td>eternal</td><td>æ˜¯</td><td>è®¾å®šç¼“å­˜çš„elementsæ˜¯å¦æ°¸è¿œä¸è¿‡æœŸã€‚<br />å¦‚æœä¸ºtrueï¼Œåˆ™ç¼“å­˜çš„æ•°æ®å§‹ç»ˆæœ‰æ•ˆï¼Œ<br />å¦‚æœä¸ºfalseé‚£ä¹ˆè¿˜è¦æ ¹æ®timeToIdleSecondsã€timeToLiveSecondsåˆ¤æ–­</td></tr><tr><td>overflowToDisk</td><td>æ˜¯</td><td>è®¾å®šå½“å†…å­˜ç¼“å­˜æº¢å‡ºçš„æ—¶å€™æ˜¯å¦å°†è¿‡æœŸçš„elementç¼“å­˜åˆ°ç£ç›˜ä¸Š</td></tr><tr><td>timeToIdleSeconds</td><td>å¦</td><td>å½“ç¼“å­˜åœ¨EhCacheä¸­çš„æ•°æ®å‰åä¸¤æ¬¡è®¿é—®çš„æ—¶é—´è¶…è¿‡timeToIdleSecondsçš„å±æ€§å–å€¼æ—¶ï¼Œ<br />è¿™äº›æ•°æ®ä¾¿ä¼šåˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯0,ä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§</td></tr><tr><td>timeToLiveSeconds</td><td>å¦</td><td>ç¼“å­˜elementçš„æœ‰æ•ˆç”Ÿå‘½æœŸï¼Œé»˜è®¤æ˜¯0.,ä¹Ÿå°±æ˜¯elementå­˜æ´»æ—¶é—´æ— ç©·å¤§</td></tr><tr><td>diskSpoolBufferSizeMB</td><td>å¦</td><td>DiskStore(ç£ç›˜ç¼“å­˜)çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒº</td></tr><tr><td>diskPersistent</td><td>å¦</td><td>åœ¨VMé‡å¯çš„æ—¶å€™æ˜¯å¦å¯ç”¨ç£ç›˜ä¿å­˜EhCacheä¸­çš„æ•°æ®ï¼Œé»˜è®¤æ˜¯falseã€‚</td></tr><tr><td>diskExpiryThreadIntervalSeconds</td><td>å¦</td><td>ç£ç›˜ç¼“å­˜çš„æ¸…ç†çº¿ç¨‹è¿è¡Œé—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚æ¯ä¸ª120sï¼Œ<br />ç›¸åº”çš„çº¿ç¨‹ä¼šè¿›è¡Œä¸€æ¬¡EhCacheä¸­æ•°æ®çš„æ¸…ç†å·¥ä½œ</td></tr><tr><td>memoryStoreEvictionPolicy</td><td>å¦</td><td>å½“å†…å­˜ç¼“å­˜è¾¾åˆ°æœ€å¤§ï¼Œæœ‰æ–°çš„elementåŠ å…¥çš„æ—¶å€™ï¼Œ ç§»é™¤ç¼“å­˜ä¸­elementçš„ç­–ç•¥ã€‚<br />é»˜è®¤æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ï¼Œå¯é€‰çš„æœ‰LFUï¼ˆæœ€ä¸å¸¸ä½¿ç”¨ï¼‰å’ŒFIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰</td></tr></tbody></table></li></ol><h1 id="é€†å‘å·¥ç¨‹"><a href="#é€†å‘å·¥ç¨‹" class="headerlink" title="é€†å‘å·¥ç¨‹"></a>é€†å‘å·¥ç¨‹</h1><ul><li><p>æ­£å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºJavaå®ä½“ç±»ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®å®ä½“ç±»ç”Ÿæˆæ•°æ®åº“è¡¨ã€‚Hibernateæ˜¯æ”¯æŒæ­£å‘å·¥ç¨‹çš„ã€‚</p></li><li><p>é€†å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºæ•°æ®åº“è¡¨ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®æ•°æ®åº“è¡¨ï¼Œåå‘ç”Ÿæˆå¦‚ä¸‹èµ„æºï¼š</p><ul><li>Javaå®ä½“ç±»</li><li>Mapperæ¥å£</li><li>Mapperé…ç½®æ–‡ä»¶</li></ul></li></ul><h2 id="ç”Ÿæˆé€†å‘å·¥ç¨‹"><a href="#ç”Ÿæˆé€†å‘å·¥ç¨‹" class="headerlink" title="ç”Ÿæˆé€†å‘å·¥ç¨‹"></a>ç”Ÿæˆé€†å‘å·¥ç¨‹</h2><p>Mavené…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¾èµ–MyBatisæ ¸å¿ƒåŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ§åˆ¶Mavenåœ¨æ„å»ºè¿‡ç¨‹ä¸­ç›¸å…³é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ„å»ºè¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ’ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å…·ä½“æ’ä»¶ï¼Œé€†å‘å·¥ç¨‹çš„æ“ä½œæ˜¯ä»¥æ„å»ºè¿‡ç¨‹ä¸­æ’ä»¶å½¢å¼å‡ºç°çš„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ’ä»¶çš„ä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é€†å‘å·¥ç¨‹çš„æ ¸å¿ƒä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mchange<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- MySQLé©±åŠ¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>MBGé…ç½®</p><p>æ–‡ä»¶åå¿…é¡»æ˜¯ï¼šgeneratorConfig.xml</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117231823-zeecj72.png" alt="image">â€‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            targetRuntime: æ‰§è¡Œç”Ÿæˆçš„é€†å‘å·¥ç¨‹çš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">                    MyBatis3Simple: ç”ŸæˆåŸºæœ¬çš„CRUDï¼ˆæ¸…æ–°ç®€æ´ç‰ˆï¼‰</span></span><br><span class="line"><span class="comment">                    MyBatis3: ç”Ÿæˆå¸¦æ¡ä»¶çš„CRUDï¼ˆå¥¢åå°Šäº«ç‰ˆï¼‰</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;DB2Tables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://192.168.198.100:3306/mybatis-example&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;atguigu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- javaBeançš„ç”Ÿæˆç­–ç•¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.atguigu.mybatis.entity&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;.\src\main\java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- SQLæ˜ å°„æ–‡ä»¶çš„ç”Ÿæˆç­–ç•¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.atguigu.mybatis.mapper&quot;</span>  <span class="attr">targetProject</span>=<span class="string">&quot;.\src\main\java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Mapperæ¥å£çš„ç”Ÿæˆç­–ç•¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.atguigu.mybatis.mapper&quot;</span>  <span class="attr">targetProject</span>=<span class="string">&quot;.\src\main\java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é€†å‘åˆ†æçš„è¡¨ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- tableNameè®¾ç½®ä¸º*å·ï¼Œå¯ä»¥å¯¹åº”æ‰€æœ‰è¡¨ï¼Œæ­¤æ—¶ä¸å†™domainObjectName --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- domainObjectNameå±æ€§æŒ‡å®šç”Ÿæˆå‡ºæ¥çš„å®ä½“ç±»çš„ç±»å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_emp&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Employee&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_customer&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Customer&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_order&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Order&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„<code>&lt;jdbcConnection&gt;</code>çš„ä¿®æ”¹å’Œç›®æ ‡è·¯å¾„çš„é…ç½® <code>&lt;javaModelGenerator targetPackage=&quot;com.atguigu.mybatis.entity&quot; targetProject=&quot;.\src\main\java&quot;&gt;</code></p><p>maven-æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡<br>â€‹<img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230117232950-3ahnqem.png" alt="image">â€‹</p><h2 id="QBCæŸ¥è¯¢"><a href="#QBCæŸ¥è¯¢" class="headerlink" title="QBCæŸ¥è¯¢"></a>QBCæŸ¥è¯¢</h2><p>QBCæŸ¥è¯¢æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å°†SQLè¯­å¥ä¸­çš„WHEREå­å¥è¿›è¡Œäº†ç»„ä»¶åŒ–çš„å°è£…ï¼Œè®©æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨Criteriaå¯¹è±¡çš„æ–¹æ³•è‡ªç”±çš„æ‹¼è£…æŸ¥è¯¢æ¡ä»¶ã€‚</p><p>å¯¹äºè‡ªåŠ¨ç”Ÿæˆçš„æ¡ä»¶æŸ¥è¯¢ï¼Œéœ€è¦ä½¿ç”¨QBCæŸ¥è¯¢å»è°ƒç”¨ï¼›</p><p>ç±»ä¼¼è¿™æ ·çš„æ–¹æ³•ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªxxxExampleçš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Dept&gt; <span class="title function_">selectByExample</span><span class="params">(DeptExample example)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByExample&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;BaseResultMap&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.atguigu.mybatis.entity.DeptExample&quot;</span> &gt;</span></span><br><span class="line">  <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    WARNING - @mbggenerated</span></span><br><span class="line"><span class="comment">    This element is automatically generated by MyBatis Generator, do not modify.</span></span><br><span class="line"><span class="comment">    This element was generated on Tue Jan 17 23:29:02 CST 2023.</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line">  select</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;distinct&quot;</span> &gt;</span></span><br><span class="line">    distinct</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;Base_Column_List&quot;</span> /&gt;</span></span><br><span class="line">  from t_dept</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;_parameter != null&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;Example_Where_Clause&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;orderByClause != null&quot;</span> &gt;</span></span><br><span class="line">    order by $&#123;orderByClause&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>QBCæŸ¥è¯¢ä¾‹ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡åˆ›å»ºxxxExampleçš„å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡å†å»åˆ›å»ºCriteriaå¯¹è±¡ï¼Œé€šè¿‡Criteriaå¯¹è±¡å°±å¯ä»¥ç»™SQLè¯­å¥æ·»åŠ æ¡ä»¶ï¼›æ·»åŠ çš„æ¡ä»¶andXxxxxå¯ä»¥ä¸€ç›´è¿½åŠ ï¼›</p><p>é‚£ä¹ˆå¯¹äºorçš„è¿æ¥ï¼Œ </p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230118114238-pcmyoy4.png" alt="image">â€‹</p><p>ä¹Ÿåªéœ€è¦å†æ¬¡æ‰ç”¨exampleå¯¹è±¡ï¼Œè°ƒç”¨oræ–¹æ³•åç»§ç»­è°ƒç”¨andXxxæ–¹æ³•ï¼Œå³ç›¸å½“äºxxx and xxx or xxx and xxxè¿™æ ·çš„å½¢å¼ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.åˆ›å»ºEmployeeExampleå¯¹è±¡</span></span><br><span class="line"><span class="type">EmployeeExample</span> <span class="variable">example</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EmployeeExample</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.é€šè¿‡exampleå¯¹è±¡åˆ›å»ºCriteriaå¯¹è±¡</span></span><br><span class="line">EmployeeExample.<span class="type">Criteria</span> <span class="variable">criteria01</span> <span class="operator">=</span> example.createCriteria();</span><br><span class="line">EmployeeExample.<span class="type">Criteria</span> <span class="variable">criteria02</span> <span class="operator">=</span> example.or();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.åœ¨Criteriaå¯¹è±¡ä¸­å°è£…æŸ¥è¯¢æ¡ä»¶</span></span><br><span class="line">criteria01</span><br><span class="line">    .andEmpAgeBetween(<span class="number">9</span>, <span class="number">99</span>)</span><br><span class="line">    .andEmpNameLike(<span class="string">&quot;%o%&quot;</span>)</span><br><span class="line">    .andEmpGenderEqualTo(<span class="string">&quot;male&quot;</span>)</span><br><span class="line">    .andEmpSalaryGreaterThan(<span class="number">500.55</span>);</span><br><span class="line"></span><br><span class="line">criteria02</span><br><span class="line">        .andEmpAgeBetween(<span class="number">9</span>, <span class="number">99</span>)</span><br><span class="line">        .andEmpNameLike(<span class="string">&quot;%o%&quot;</span>)</span><br><span class="line">        .andEmpGenderEqualTo(<span class="string">&quot;male&quot;</span>)</span><br><span class="line">        .andEmpSalaryGreaterThan(<span class="number">500.55</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> factory.openSession();</span><br><span class="line"></span><br><span class="line"><span class="type">EmployeeMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmployeeMapper.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.åŸºäºCriteriaå¯¹è±¡è¿›è¡ŒæŸ¥è¯¢</span></span><br><span class="line">List&lt;Employee&gt; employeeList = mapper.selectByExample(example);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Employee employee : employeeList) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;employee = &quot;</span> + employee);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">session.close();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€ç»ˆSQLçš„æ•ˆæœï¼š</span></span><br><span class="line"><span class="comment">// WHERE ( emp_age between ? and ? and emp_name like ? and emp_gender = ? and emp_salary &gt; ? ) or( emp_age between ? and ? and emp_name like ? and emp_gender = ? and emp_salary &gt; ? )</span></span><br></pre></td></tr></table></figure><h1 id="åˆ†é¡µæ’ä»¶"><a href="#åˆ†é¡µæ’ä»¶" class="headerlink" title="åˆ†é¡µæ’ä»¶"></a>åˆ†é¡µæ’ä»¶</h1><p>limit index,pageSize</p><p>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</p><p>pageNumï¼šå½“å‰é¡µçš„é¡µç </p><p>indexï¼šå½“å‰é¡µçš„ç¬¬ä¸€æ¡æ•°æ®çš„ç´¢å¼•ï¼Œindex&#x3D;(pageNum-1)*pageSize</p><p>â€</p><p>countï¼šæ€»è®°å½•æ•°</p><p>totalPageï¼šæ€»é¡µæ•°</p><p>totalPage &#x3D; count &#x2F; pageSize;</p><p>è§£å†³æœ€åä¸€é¡µçš„ï¼Œæ•°æ®ä¸è¶³ä¸€é¡µæƒ…å†µï¼š</p><p>if(count % pageSize !&#x3D; 0){</p><p>totalPage +&#x3D; 1;</p><p>}</p><p>â€</p><p>pageSize&#x3D;4ï¼ŒpageNum&#x3D;1ï¼Œindex&#x3D;0 limit 0,4</p><p>pageSize&#x3D;4ï¼ŒpageNum&#x3D;3ï¼Œindex&#x3D;8 limit 8,4</p><p>pageSize&#x3D;4ï¼ŒpageNum&#x3D;6ï¼Œindex&#x3D;20 limit 20,4</p><p>â€</p><p>é¦–é¡µ ä¸Šä¸€é¡µ 2 3 4 5 6 ä¸‹ä¸€é¡µ æœ«é¡µ</p><h2 id="ä½¿ç”¨åˆ†é¡µæ’ä»¶"><a href="#ä½¿ç”¨åˆ†é¡µæ’ä»¶" class="headerlink" title="ä½¿ç”¨åˆ†é¡µæ’ä»¶"></a>ä½¿ç”¨åˆ†é¡µæ’ä»¶</h2><h3 id="æ·»åŠ ä¾èµ–å’Œæ·»åŠ æ’ä»¶"><a href="#æ·»åŠ ä¾èµ–å’Œæ·»åŠ æ’ä»¶" class="headerlink" title="æ·»åŠ ä¾èµ–å’Œæ·»åŠ æ’ä»¶"></a>æ·»åŠ ä¾èµ–å’Œæ·»åŠ æ’ä»¶</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®æ’ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è®¾ç½®åˆ†é¡µæ’ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>ä¾é™„äºæŸ¥è¯¢åŠŸèƒ½</p><ol><li><p>åœ¨æŸ¥è¯¢åŠŸèƒ½ä¹‹å‰å¼€å¯æŸ¥è¯¢åŠŸèƒ½ï¼›</p><p> ä½¿ç”¨<code>PageHelper.startPage(int pageNum, int pageSize)</code>å¼€å¯åˆ†é¡µåŠŸèƒ½</p><p> å…¶ä¸­</p><p> pageNumï¼šå½“å‰é¡µçš„é¡µç </p><p> pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</p></li><li><p>åœ¨æŸ¥è¯¢è·å–listé›†åˆä¹‹åï¼š</p><p> ä½¿ç”¨<code>PageInfo pageInfo = new PageInfo&lt;&gt;(List list, intnavigatePages)</code>è·å–åˆ†é¡µç›¸å…³æ•°æ®</p><p> istï¼šåˆ†é¡µä¹‹åçš„æ•°æ®</p><p> navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</p></li></ol><p><code>PageHelper.startPage(int pageNum, int pageSize)</code>â€‹æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªpageå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«pageä¿¡æ¯å’Œå†…å®¹ä¿¡æ¯ï¼›</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230118125102-mpqgq4w.png" alt="image">â€‹</p><p>PageInfo<T>,Tæ˜¯æŸ¥è¯¢çš„å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸€ä¸ªlistå¯¹è±¡(ä¹Ÿå°±æ˜¯æŸ¥è¯¢çš„list)å’Œå¯¼èˆªåˆ†é¡µä¸ªæ•°ï¼›</p><p><img src="https://cdn.staticaly.com/gh/hakinanako/pic_bed@main/MyBatis/assets/image-20230118125326-kbmdrgg.png" alt="image">â€‹</p><p>PageInfoå†…éƒ¨çš„æ•°æ®æ›´å¤šï¼Œå¦‚</p><p>PageInfo{</p><p>pageNum&#x3D;8, pageSize&#x3D;4, size&#x3D;2, startRow&#x3D;29, endRow&#x3D;30, total&#x3D;30, pages&#x3D;8,</p><p>list&#x3D;Page{count&#x3D;true, pageNum&#x3D;8, pageSize&#x3D;4, startRow&#x3D;28, endRow&#x3D;32, total&#x3D;30,</p><p>pages&#x3D;8, reasonable&#x3D;false, pageSizeZero&#x3D;false},</p><p>prePage&#x3D;7, nextPage&#x3D;0, isFirstPage&#x3D;false, isLastPage&#x3D;true, hasPreviousPage&#x3D;true,</p><p>hasNextPage&#x3D;false, navigatePages&#x3D;5, navigateFirstPage4, navigateLastPage8,</p><p>navigatepageNums&#x3D;[4, 5, 6, 7, 8]</p><p>}</p><p>pageNumï¼šå½“å‰é¡µçš„é¡µç </p><p>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</p><p>sizeï¼šå½“å‰é¡µæ˜¾ç¤ºçš„çœŸå®æ¡æ•°</p><p>totalï¼šæ€»è®°å½•æ•°</p><p>pagesï¼šæ€»é¡µæ•°</p><p>prePageï¼šä¸Šä¸€é¡µçš„é¡µç </p><p>nextPageï¼šä¸‹ä¸€é¡µçš„é¡µç </p><p>isFirstPage&#x2F;isLastPageï¼šæ˜¯å¦ä¸ºç¬¬ä¸€é¡µ&#x2F;æœ€åä¸€é¡µ</p><p>hasPreviousPage&#x2F;hasNextPageï¼šæ˜¯å¦å­˜åœ¨ä¸Šä¸€é¡µ&#x2F;ä¸‹ä¸€é¡µ</p><p>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</p><p>navigatepageNumsï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç ï¼Œ[1,2,3,4,5]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ¬¢è¿å…‰ä¸´</title>
      <link href="/2023/01/19/01/"/>
      <url>/2023/01/19/01/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸çŸ¥é“å†™å•¥å°±éšä¾¿å†™å†™"><a href="#ä¸çŸ¥é“å†™å•¥å°±éšä¾¿å†™å†™" class="headerlink" title="ä¸çŸ¥é“å†™å•¥å°±éšä¾¿å†™å†™"></a>ä¸çŸ¥é“å†™å•¥å°±éšä¾¿å†™å†™</h1>]]></content>
      
      
      <categories>
          
          <category> test </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
